{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Sidebar from './components/Sidebar';\nimport Header from './components/Header';\nimport LoginPage from './components/LoginPage';\nimport VehicleList from './components/VehicleList';\nimport GlobalDashboard from './components/GlobalDashboard';\nimport StatisticsDashboard from './components/StatisticsDashboard';\nimport UserDashboard from './components/UserDashboard';\nimport VehicleRequests from './components/VehicleRequests';\nimport UserRequests from './components/UserRequests';\nimport axios from 'axios';\n\n// Backend-URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://localhost:5000';\n\n// Mögliche Endpunkte für Fahrzeuganfragen\nconst API_ENDPOINTS = {\n  // Liste aller Fahrzeuge abrufen\n  GET_ALL: ['/fahrzeuge', '/api/fahrzeuge', '/fahrzeug', '/api/fahrzeug', '/vehicles', '/api/vehicles', '/vehicle', '/api/vehicle'],\n  // Einzelnes Fahrzeug erstellen\n  CREATE: ['/fahrzeug', '/api/fahrzeug', '/fahrzeuge', '/api/fahrzeuge', '/vehicle', '/api/vehicle', '/vehicles', '/api/vehicles'],\n  // Prefix für Operationen mit einzelnen Fahrzeugen (UPDATE, DELETE)\n  ITEM_PREFIX: ['/fahrzeug/', '/api/fahrzeug/', '/fahrzeuge/', '/api/fahrzeuge/', '/vehicle/', '/api/vehicle/', '/vehicles/', '/api/vehicles/']\n};\nfunction App() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [user, setUser] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [activeView, setActiveView] = useState('vehicles');\n\n  // Zentraler Fahrzeugzustand\n  const [vehicles, setVehicles] = useState([]);\n  const [vehiclesLoaded, setVehiclesLoaded] = useState(false);\n  const [loadingError, setLoadingError] = useState(null);\n\n  // Erfolgreiche Endpunkte speichern\n  const [successfulEndpoints, setSuccessfulEndpoints] = useState({\n    GET_ALL: null,\n    CREATE: null,\n    ITEM_PREFIX: null\n  });\n\n  // Überprüfe, ob ein Benutzer bereits angemeldet ist\n  useEffect(() => {\n    const loggedInUser = localStorage.getItem('user');\n    if (loggedInUser) {\n      const userData = JSON.parse(loggedInUser);\n      setUser(userData);\n      setIsLoggedIn(true);\n      setIsAdmin(userData.isAdmin || false);\n    }\n  }, []);\n\n  // Laden der Fahrzeuge beim Start der Anwendung (nur wenn angemeldet)\n  useEffect(() => {\n    if (isLoggedIn) {\n      loadVehicles();\n    }\n  }, [isLoggedIn]);\n\n  // Debug-Ausgabe der erfolgreichen Endpunkte\n  useEffect(() => {\n    console.log(\"Aktuelle erfolgreiche Endpunkte:\", successfulEndpoints);\n  }, [successfulEndpoints]);\n\n  // Funktion zum Laden der Fahrzeuge direkt aus der API\n  const loadVehicles = async () => {\n    console.log(\"App: Lade Fahrzeuge aus der API...\");\n    setVehiclesLoaded(false);\n    setLoadingError(null);\n\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\n    if (successfulEndpoints.GET_ALL) {\n      try {\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${BASE_URL}${successfulEndpoints.GET_ALL}`);\n        const response = await axios.get(`${BASE_URL}${successfulEndpoints.GET_ALL}`);\n        if (await processVehicleResponse(response)) {\n          return;\n        }\n      } catch (error) {\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\n        setSuccessfulEndpoints(prev => ({\n          ...prev,\n          GET_ALL: null\n        }));\n      }\n    }\n\n    // Alle Endpunkte für GET_ALL durchprobieren\n    for (const endpoint of API_ENDPOINTS.GET_ALL) {\n      try {\n        console.log(`Versuche Endpunkt: ${BASE_URL}${endpoint}`);\n        const response = await axios.get(`${BASE_URL}${endpoint}`);\n        // Wenn die Verarbeitung erfolgreich war, speichere den Endpunkt und beende\n        if (await processVehicleResponse(response)) {\n          setSuccessfulEndpoints(prev => ({\n            ...prev,\n            GET_ALL: endpoint\n          }));\n          return;\n        }\n      } catch (error) {\n        console.log(`Fehler bei ${endpoint}:`, error.message);\n      }\n    }\n\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\n    console.error(\"Alle Endpunkte für GET_ALL sind fehlgeschlagen\");\n    setLoadingError(\"Fehler beim Laden der Fahrzeuge: Keiner der Endpunkte funktioniert\");\n    setVehicles([]);\n    setVehiclesLoaded(true);\n  };\n\n  // Hilfsfunktion zum Verarbeiten der Fahrzeug-Antwort\n  const processVehicleResponse = async response => {\n    console.log('Antwort vom Server:', response);\n\n    // Funktion zum Normalisieren der Fahrzeugdaten\n    const normalizeVehicleData = vehicles => {\n      return vehicles.map(vehicle => ({\n        ...vehicle,\n        // Immer auf \"Verfügbar\" setzen, unabhängig vom Status aus dem Backend\n        status: 'Verfügbar'\n      }));\n    };\n\n    // Direkte Array-Antwort\n    if (response.data && Array.isArray(response.data)) {\n      console.log(`${response.data.length} Fahrzeuge geladen:`, response.data);\n      const normalizedVehicles = normalizeVehicleData(response.data);\n      setVehicles(normalizedVehicles);\n      setVehiclesLoaded(true);\n      return true;\n    }\n\n    // Antwort als Objekt mit Array darin\n    if (response.data && typeof response.data === 'object') {\n      console.log(\"API-Antwort ist ein Objekt:\", response.data);\n\n      // Versuche Arrays in verschiedenen Eigenschaften zu finden\n      const possibleArrayProps = ['vehicles', 'fahrzeuge', 'data', 'results', 'items', 'records'];\n      for (const prop of possibleArrayProps) {\n        if (response.data[prop] && Array.isArray(response.data[prop])) {\n          console.log(`Fahrzeuge in '${prop}' gefunden:`, response.data[prop]);\n          const normalizedVehicles = normalizeVehicleData(response.data[prop]);\n          setVehicles(normalizedVehicles);\n          setVehiclesLoaded(true);\n          return true;\n        }\n      }\n\n      // Versuche andere Eigenschaften, die Arrays sein könnten\n      const arrayProps = Object.keys(response.data).find(key => Array.isArray(response.data[key]));\n      if (arrayProps) {\n        console.log(`Fahrzeuge in '${arrayProps}' gefunden:`, response.data[arrayProps]);\n        const normalizedVehicles = normalizeVehicleData(response.data[arrayProps]);\n        setVehicles(normalizedVehicles);\n        setVehiclesLoaded(true);\n        return true;\n      }\n    }\n\n    // Wenn keine Fahrzeuge gefunden wurden\n    console.warn(\"Keine Fahrzeuge in der Antwort gefunden:\", response.data);\n    return false;\n  };\n\n  // Fahrzeug hinzufügen\n  const addVehicle = async newVehicle => {\n    console.log(\"App: Füge neues Fahrzeug hinzu:\", newVehicle);\n\n    // FormData für Dateiupload erstellen\n    const formData = new FormData();\n\n    // Alle Eigenschaften des Fahrzeugs hinzufügen\n    Object.entries(newVehicle).forEach(([key, value]) => {\n      if (key === 'bild' && value instanceof File) {\n        formData.append('bild', value);\n      } else if (value !== undefined && value !== null) {\n        formData.append(key, value);\n      }\n    });\n\n    // Debug-Ausgabe der FormData\n    console.log(\"Sende Daten an API:\");\n    for (let pair of formData.entries()) {\n      console.log(pair[0] + ': ' + pair[1]);\n    }\n\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\n    if (successfulEndpoints.CREATE) {\n      try {\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${BASE_URL}${successfulEndpoints.CREATE}`);\n        const response = await axios.post(`${BASE_URL}${successfulEndpoints.CREATE}`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log(\"Fahrzeug erfolgreich hinzugefügt:\", response.data);\n        loadVehicles();\n        alert(\"Fahrzeug erfolgreich hinzugefügt!\");\n        return;\n      } catch (error) {\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\n        setSuccessfulEndpoints(prev => ({\n          ...prev,\n          CREATE: null\n        }));\n      }\n    }\n\n    // Alle Endpunkte für CREATE durchprobieren\n    for (const endpoint of API_ENDPOINTS.CREATE) {\n      try {\n        console.log(`Versuche Endpunkt: ${BASE_URL}${endpoint}`);\n        const response = await axios.post(`${BASE_URL}${endpoint}`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log(\"Fahrzeug erfolgreich hinzugefügt:\", response.data);\n        // Erfolgreichen Endpunkt speichern\n        setSuccessfulEndpoints(prev => ({\n          ...prev,\n          CREATE: endpoint\n        }));\n        loadVehicles();\n        alert(\"Fahrzeug erfolgreich hinzugefügt!\");\n        return;\n      } catch (error) {\n        console.log(`Fehler bei ${endpoint}:`, error.message);\n      }\n    }\n\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\n    console.error(\"Alle Endpunkte für CREATE sind fehlgeschlagen\");\n    alert(\"Fehler beim Hinzufügen des Fahrzeugs: Keiner der Endpunkte funktioniert\");\n  };\n\n  // Fahrzeug aktualisieren\n  const updateVehicle = async updatedVehicle => {\n    console.log(\"App: Aktualisiere Fahrzeug:\", updatedVehicle);\n\n    // FormData für Dateiupload erstellen\n    const formData = new FormData();\n\n    // Alle Eigenschaften des Fahrzeugs hinzufügen\n    Object.entries(updatedVehicle).forEach(([key, value]) => {\n      if (key === 'bild' && value instanceof File) {\n        formData.append('bild', value);\n      } else if (value !== undefined && value !== null) {\n        formData.append(key, value);\n      }\n    });\n\n    // Debug-Ausgabe der FormData\n    console.log(\"Sende Update-Daten an API:\");\n    for (let pair of formData.entries()) {\n      console.log(pair[0] + ': ' + pair[1]);\n    }\n\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\n    if (successfulEndpoints.ITEM_PREFIX) {\n      try {\n        const url = `${BASE_URL}${successfulEndpoints.ITEM_PREFIX}${updatedVehicle.id}`;\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${url}`);\n        const response = await axios.put(url, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log(\"Fahrzeug erfolgreich aktualisiert:\", response.data);\n        loadVehicles();\n        alert(\"Fahrzeug erfolgreich aktualisiert!\");\n        return;\n      } catch (error) {\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\n        setSuccessfulEndpoints(prev => ({\n          ...prev,\n          ITEM_PREFIX: null\n        }));\n      }\n    }\n\n    // Alle Endpunkte für ITEM_PREFIX durchprobieren\n    for (const endpoint of API_ENDPOINTS.ITEM_PREFIX) {\n      try {\n        const url = `${BASE_URL}${endpoint}${updatedVehicle.id}`;\n        console.log(`Versuche Endpunkt: ${url}`);\n        const response = await axios.put(url, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log(\"Fahrzeug erfolgreich aktualisiert:\", response.data);\n        // Erfolgreichen Endpunkt speichern\n        setSuccessfulEndpoints(prev => ({\n          ...prev,\n          ITEM_PREFIX: endpoint\n        }));\n        loadVehicles();\n        alert(\"Fahrzeug erfolgreich aktualisiert!\");\n        return;\n      } catch (error) {\n        console.log(`Fehler bei ${endpoint}:`, error.message);\n      }\n    }\n\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\n    console.error(\"Alle Endpunkte für UPDATE sind fehlgeschlagen\");\n    alert(\"Fehler beim Aktualisieren des Fahrzeugs: Keiner der Endpunkte funktioniert\");\n  };\n\n  // Fahrzeug löschen\n  const deleteVehicle = async vehicleId => {\n    console.log(\"App: Lösche Fahrzeug mit ID:\", vehicleId);\n\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\n    if (successfulEndpoints.ITEM_PREFIX) {\n      try {\n        const url = `${BASE_URL}${successfulEndpoints.ITEM_PREFIX}${vehicleId}`;\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${url}`);\n        await axios.delete(url);\n        console.log(\"Fahrzeug erfolgreich gelöscht\");\n        loadVehicles();\n        alert(\"Fahrzeug erfolgreich gelöscht!\");\n        return;\n      } catch (error) {\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\n        setSuccessfulEndpoints(prev => ({\n          ...prev,\n          ITEM_PREFIX: null\n        }));\n      }\n    }\n\n    // Alle Endpunkte für ITEM_PREFIX durchprobieren\n    for (const endpoint of API_ENDPOINTS.ITEM_PREFIX) {\n      try {\n        const url = `${BASE_URL}${endpoint}${vehicleId}`;\n        console.log(`Versuche Endpunkt: ${url}`);\n        await axios.delete(url);\n        console.log(\"Fahrzeug erfolgreich gelöscht\");\n        // Erfolgreichen Endpunkt speichern\n        setSuccessfulEndpoints(prev => ({\n          ...prev,\n          ITEM_PREFIX: endpoint\n        }));\n        loadVehicles();\n        alert(\"Fahrzeug erfolgreich gelöscht!\");\n        return;\n      } catch (error) {\n        console.log(`Fehler bei ${endpoint}:`, error.message);\n      }\n    }\n\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\n    console.error(\"Alle Endpunkte für DELETE sind fehlgeschlagen\");\n    alert(\"Fehler beim Löschen des Fahrzeugs: Keiner der Endpunkte funktioniert\");\n  };\n\n  // Benutzeranmeldung\n  const handleLogin = userData => {\n    setUser(userData);\n    setIsLoggedIn(true);\n    setIsAdmin(userData.isAdmin || false);\n\n    // Setze die aktive Ansicht basierend auf der Benutzerrolle\n    if (userData.isAdmin) {\n      setActiveView('dashboard');\n    } else {\n      setActiveView('vehicles');\n    }\n  };\n\n  // Benutzerregistrierung\n  const handleRegister = userData => {\n    setUser(userData);\n    setIsLoggedIn(true);\n    setIsAdmin(userData.isAdmin || false);\n\n    // Neue Benutzer sind standardmäßig keine Admins\n    setActiveView('vehicles');\n  };\n\n  // Benutzerabmeldung\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n    setIsLoggedIn(false);\n    setIsAdmin(false);\n  };\n\n  // Renderlogik basierend auf der aktiven Ansicht\n  const renderContent = () => {\n    if (!vehiclesLoaded && isLoggedIn) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex flex-col items-center justify-center my-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Fahrzeuge werden geladen...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this);\n    }\n    if (loadingError && isLoggedIn) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex flex-col items-center justify-center my-12 text-red-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-2 font-semibold\",\n          children: loadingError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-6 text-gray-700 text-sm\",\n          children: [\"Stelle sicher, dass dein Backend auf \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-mono bg-gray-100 px-1 rounded\",\n            children: BASE_URL\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 50\n          }, this), \" l\\xE4uft.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadVehicles,\n          className: \"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n          children: \"Erneut versuchen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this);\n    }\n    switch (activeView) {\n      case 'dashboard':\n        return isAdmin ? /*#__PURE__*/_jsxDEV(GlobalDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(UserDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 48\n        }, this);\n      case 'vehicles':\n        return /*#__PURE__*/_jsxDEV(VehicleList, {\n          isUserView: !isAdmin,\n          vehicles: vehicles,\n          onAddVehicle: addVehicle,\n          onUpdateVehicle: updateVehicle,\n          onDeleteVehicle: deleteVehicle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 16\n        }, this);\n      case 'statistics':\n        return isAdmin ? /*#__PURE__*/_jsxDEV(StatisticsDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 26\n        }, this) : null;\n      case 'vehicle-requests':\n        return isAdmin ? /*#__PURE__*/_jsxDEV(VehicleRequests, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 26\n        }, this) : null;\n      case 'my-requests':\n        return !isAdmin ? /*#__PURE__*/_jsxDEV(UserRequests, {\n          setActiveView: setActiveView\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 27\n        }, this) : null;\n      default:\n        return /*#__PURE__*/_jsxDEV(VehicleList, {\n          isUserView: !isAdmin,\n          vehicles: vehicles,\n          onAddVehicle: addVehicle,\n          onUpdateVehicle: updateVehicle,\n          onDeleteVehicle: deleteVehicle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Wenn der Benutzer nicht angemeldet ist, zeige die Login-/Registrierungsseite an\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(LoginPage, {\n      onLogin: handleLogin,\n      onRegister: handleRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Wenn angemeldet, zeige die Hauptanwendung an\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      isAdmin: isAdmin,\n      onLogout: handleLogout,\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-1 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        isOpen: sidebarOpen,\n        toggleSidebar: () => setSidebarOpen(!sidebarOpen),\n        isAdmin: isAdmin,\n        onLogout: handleLogout,\n        activeView: activeView,\n        setActiveView: setActiveView,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 md:p-6\",\n          children: renderContent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 462,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"IYh8lRnj4SbAbYMdGTv1JgUnkMQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Sidebar","Header","LoginPage","VehicleList","GlobalDashboard","StatisticsDashboard","UserDashboard","VehicleRequests","UserRequests","axios","jsxDEV","_jsxDEV","BASE_URL","API_ENDPOINTS","GET_ALL","CREATE","ITEM_PREFIX","App","_s","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","user","setUser","sidebarOpen","setSidebarOpen","activeView","setActiveView","vehicles","setVehicles","vehiclesLoaded","setVehiclesLoaded","loadingError","setLoadingError","successfulEndpoints","setSuccessfulEndpoints","loggedInUser","localStorage","getItem","userData","JSON","parse","loadVehicles","console","log","response","get","processVehicleResponse","error","prev","endpoint","message","normalizeVehicleData","map","vehicle","status","data","Array","isArray","length","normalizedVehicles","possibleArrayProps","prop","arrayProps","Object","keys","find","key","warn","addVehicle","newVehicle","formData","FormData","entries","forEach","value","File","append","undefined","pair","post","headers","alert","updateVehicle","updatedVehicle","url","id","put","deleteVehicle","vehicleId","delete","handleLogin","handleRegister","handleLogout","removeItem","renderContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","isUserView","onAddVehicle","onUpdateVehicle","onDeleteVehicle","onLogin","onRegister","onLogout","isOpen","toggleSidebar","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport Header from './components/Header';\r\nimport LoginPage from './components/LoginPage';\r\nimport VehicleList from './components/VehicleList';\r\nimport GlobalDashboard from './components/GlobalDashboard';\r\nimport StatisticsDashboard from './components/StatisticsDashboard';\r\nimport UserDashboard from './components/UserDashboard';\r\nimport VehicleRequests from './components/VehicleRequests';\r\nimport UserRequests from './components/UserRequests';\r\nimport axios from 'axios';\r\n\r\n// Backend-URL\r\nconst BASE_URL = 'http://localhost:5000';\r\n\r\n// Mögliche Endpunkte für Fahrzeuganfragen\r\nconst API_ENDPOINTS = {\r\n  // Liste aller Fahrzeuge abrufen\r\n  GET_ALL: [\r\n    '/fahrzeuge',\r\n    '/api/fahrzeuge', \r\n    '/fahrzeug',\r\n    '/api/fahrzeug',\r\n    '/vehicles',\r\n    '/api/vehicles',\r\n    '/vehicle',\r\n    '/api/vehicle'\r\n  ],\r\n  // Einzelnes Fahrzeug erstellen\r\n  CREATE: [\r\n    '/fahrzeug',\r\n    '/api/fahrzeug',\r\n    '/fahrzeuge',\r\n    '/api/fahrzeuge',\r\n    '/vehicle',\r\n    '/api/vehicle',\r\n    '/vehicles',\r\n    '/api/vehicles'\r\n  ],\r\n  // Prefix für Operationen mit einzelnen Fahrzeugen (UPDATE, DELETE)\r\n  ITEM_PREFIX: [\r\n    '/fahrzeug/',\r\n    '/api/fahrzeug/',\r\n    '/fahrzeuge/',\r\n    '/api/fahrzeuge/',\r\n    '/vehicle/',\r\n    '/api/vehicle/',\r\n    '/vehicles/',\r\n    '/api/vehicles/'\r\n  ]\r\n};\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [activeView, setActiveView] = useState('vehicles');\r\n  \r\n  // Zentraler Fahrzeugzustand\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [vehiclesLoaded, setVehiclesLoaded] = useState(false);\r\n  const [loadingError, setLoadingError] = useState(null);\r\n  \r\n  // Erfolgreiche Endpunkte speichern\r\n  const [successfulEndpoints, setSuccessfulEndpoints] = useState({\r\n    GET_ALL: null,\r\n    CREATE: null,\r\n    ITEM_PREFIX: null\r\n  });\r\n  \r\n  // Überprüfe, ob ein Benutzer bereits angemeldet ist\r\n  useEffect(() => {\r\n    const loggedInUser = localStorage.getItem('user');\r\n    if (loggedInUser) {\r\n      const userData = JSON.parse(loggedInUser);\r\n      setUser(userData);\r\n      setIsLoggedIn(true);\r\n      setIsAdmin(userData.isAdmin || false);\r\n    }\r\n  }, []);\r\n  \r\n  // Laden der Fahrzeuge beim Start der Anwendung (nur wenn angemeldet)\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      loadVehicles();\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  // Debug-Ausgabe der erfolgreichen Endpunkte\r\n  useEffect(() => {\r\n    console.log(\"Aktuelle erfolgreiche Endpunkte:\", successfulEndpoints);\r\n  }, [successfulEndpoints]);\r\n  \r\n  // Funktion zum Laden der Fahrzeuge direkt aus der API\r\n  const loadVehicles = async () => {\r\n    console.log(\"App: Lade Fahrzeuge aus der API...\");\r\n    setVehiclesLoaded(false);\r\n    setLoadingError(null);\r\n    \r\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\r\n    if (successfulEndpoints.GET_ALL) {\r\n      try {\r\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${BASE_URL}${successfulEndpoints.GET_ALL}`);\r\n        const response = await axios.get(`${BASE_URL}${successfulEndpoints.GET_ALL}`);\r\n        if (await processVehicleResponse(response)) {\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\r\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\r\n        setSuccessfulEndpoints(prev => ({...prev, GET_ALL: null}));\r\n      }\r\n    }\r\n    \r\n    // Alle Endpunkte für GET_ALL durchprobieren\r\n    for (const endpoint of API_ENDPOINTS.GET_ALL) {\r\n      try {\r\n        console.log(`Versuche Endpunkt: ${BASE_URL}${endpoint}`);\r\n        const response = await axios.get(`${BASE_URL}${endpoint}`);\r\n        // Wenn die Verarbeitung erfolgreich war, speichere den Endpunkt und beende\r\n        if (await processVehicleResponse(response)) {\r\n          setSuccessfulEndpoints(prev => ({...prev, GET_ALL: endpoint}));\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.log(`Fehler bei ${endpoint}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\r\n    console.error(\"Alle Endpunkte für GET_ALL sind fehlgeschlagen\");\r\n    setLoadingError(\"Fehler beim Laden der Fahrzeuge: Keiner der Endpunkte funktioniert\");\r\n    setVehicles([]);\r\n    setVehiclesLoaded(true);\r\n  };\r\n  \r\n  // Hilfsfunktion zum Verarbeiten der Fahrzeug-Antwort\r\n  const processVehicleResponse = async (response) => {\r\n    console.log('Antwort vom Server:', response);\r\n    \r\n    // Funktion zum Normalisieren der Fahrzeugdaten\r\n    const normalizeVehicleData = (vehicles) => {\r\n      return vehicles.map(vehicle => ({\r\n        ...vehicle,\r\n        // Immer auf \"Verfügbar\" setzen, unabhängig vom Status aus dem Backend\r\n        status: 'Verfügbar'\r\n      }));\r\n    };\r\n    \r\n    // Direkte Array-Antwort\r\n    if (response.data && Array.isArray(response.data)) {\r\n      console.log(`${response.data.length} Fahrzeuge geladen:`, response.data);\r\n      const normalizedVehicles = normalizeVehicleData(response.data);\r\n      setVehicles(normalizedVehicles);\r\n      setVehiclesLoaded(true);\r\n      return true;\r\n    }\r\n    \r\n    // Antwort als Objekt mit Array darin\r\n    if (response.data && typeof response.data === 'object') {\r\n      console.log(\"API-Antwort ist ein Objekt:\", response.data);\r\n      \r\n      // Versuche Arrays in verschiedenen Eigenschaften zu finden\r\n      const possibleArrayProps = ['vehicles', 'fahrzeuge', 'data', 'results', 'items', 'records'];\r\n      \r\n      for (const prop of possibleArrayProps) {\r\n        if (response.data[prop] && Array.isArray(response.data[prop])) {\r\n          console.log(`Fahrzeuge in '${prop}' gefunden:`, response.data[prop]);\r\n          const normalizedVehicles = normalizeVehicleData(response.data[prop]);\r\n          setVehicles(normalizedVehicles);\r\n          setVehiclesLoaded(true);\r\n          return true;\r\n        }\r\n      }\r\n      \r\n      // Versuche andere Eigenschaften, die Arrays sein könnten\r\n      const arrayProps = Object.keys(response.data).find(key => \r\n        Array.isArray(response.data[key])\r\n      );\r\n      \r\n      if (arrayProps) {\r\n        console.log(`Fahrzeuge in '${arrayProps}' gefunden:`, response.data[arrayProps]);\r\n        const normalizedVehicles = normalizeVehicleData(response.data[arrayProps]);\r\n        setVehicles(normalizedVehicles);\r\n        setVehiclesLoaded(true);\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    // Wenn keine Fahrzeuge gefunden wurden\r\n    console.warn(\"Keine Fahrzeuge in der Antwort gefunden:\", response.data);\r\n    return false;\r\n  };\r\n  \r\n  // Fahrzeug hinzufügen\r\n  const addVehicle = async (newVehicle) => {\r\n    console.log(\"App: Füge neues Fahrzeug hinzu:\", newVehicle);\r\n    \r\n    // FormData für Dateiupload erstellen\r\n    const formData = new FormData();\r\n    \r\n    // Alle Eigenschaften des Fahrzeugs hinzufügen\r\n    Object.entries(newVehicle).forEach(([key, value]) => {\r\n      if (key === 'bild' && value instanceof File) {\r\n        formData.append('bild', value);\r\n      } else if (value !== undefined && value !== null) {\r\n        formData.append(key, value);\r\n      }\r\n    });\r\n    \r\n    // Debug-Ausgabe der FormData\r\n    console.log(\"Sende Daten an API:\");\r\n    for (let pair of formData.entries()) {\r\n      console.log(pair[0] + ': ' + pair[1]);\r\n    }\r\n    \r\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\r\n    if (successfulEndpoints.CREATE) {\r\n      try {\r\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${BASE_URL}${successfulEndpoints.CREATE}`);\r\n        const response = await axios.post(`${BASE_URL}${successfulEndpoints.CREATE}`, formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        console.log(\"Fahrzeug erfolgreich hinzugefügt:\", response.data);\r\n        loadVehicles();\r\n        alert(\"Fahrzeug erfolgreich hinzugefügt!\");\r\n        return;\r\n      } catch (error) {\r\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\r\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\r\n        setSuccessfulEndpoints(prev => ({...prev, CREATE: null}));\r\n      }\r\n    }\r\n    \r\n    // Alle Endpunkte für CREATE durchprobieren\r\n    for (const endpoint of API_ENDPOINTS.CREATE) {\r\n      try {\r\n        console.log(`Versuche Endpunkt: ${BASE_URL}${endpoint}`);\r\n        const response = await axios.post(`${BASE_URL}${endpoint}`, formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        console.log(\"Fahrzeug erfolgreich hinzugefügt:\", response.data);\r\n        // Erfolgreichen Endpunkt speichern\r\n        setSuccessfulEndpoints(prev => ({...prev, CREATE: endpoint}));\r\n        loadVehicles();\r\n        alert(\"Fahrzeug erfolgreich hinzugefügt!\");\r\n        return;\r\n      } catch (error) {\r\n        console.log(`Fehler bei ${endpoint}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\r\n    console.error(\"Alle Endpunkte für CREATE sind fehlgeschlagen\");\r\n    alert(\"Fehler beim Hinzufügen des Fahrzeugs: Keiner der Endpunkte funktioniert\");\r\n  };\r\n  \r\n  // Fahrzeug aktualisieren\r\n  const updateVehicle = async (updatedVehicle) => {\r\n    console.log(\"App: Aktualisiere Fahrzeug:\", updatedVehicle);\r\n    \r\n    // FormData für Dateiupload erstellen\r\n    const formData = new FormData();\r\n    \r\n    // Alle Eigenschaften des Fahrzeugs hinzufügen\r\n    Object.entries(updatedVehicle).forEach(([key, value]) => {\r\n      if (key === 'bild' && value instanceof File) {\r\n        formData.append('bild', value);\r\n      } else if (value !== undefined && value !== null) {\r\n        formData.append(key, value);\r\n      }\r\n    });\r\n    \r\n    // Debug-Ausgabe der FormData\r\n    console.log(\"Sende Update-Daten an API:\");\r\n    for (let pair of formData.entries()) {\r\n      console.log(pair[0] + ': ' + pair[1]);\r\n    }\r\n    \r\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\r\n    if (successfulEndpoints.ITEM_PREFIX) {\r\n      try {\r\n        const url = `${BASE_URL}${successfulEndpoints.ITEM_PREFIX}${updatedVehicle.id}`;\r\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${url}`);\r\n        const response = await axios.put(url, formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        console.log(\"Fahrzeug erfolgreich aktualisiert:\", response.data);\r\n        loadVehicles();\r\n        alert(\"Fahrzeug erfolgreich aktualisiert!\");\r\n        return;\r\n      } catch (error) {\r\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\r\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\r\n        setSuccessfulEndpoints(prev => ({...prev, ITEM_PREFIX: null}));\r\n      }\r\n    }\r\n    \r\n    // Alle Endpunkte für ITEM_PREFIX durchprobieren\r\n    for (const endpoint of API_ENDPOINTS.ITEM_PREFIX) {\r\n      try {\r\n        const url = `${BASE_URL}${endpoint}${updatedVehicle.id}`;\r\n        console.log(`Versuche Endpunkt: ${url}`);\r\n        const response = await axios.put(url, formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        console.log(\"Fahrzeug erfolgreich aktualisiert:\", response.data);\r\n        // Erfolgreichen Endpunkt speichern\r\n        setSuccessfulEndpoints(prev => ({...prev, ITEM_PREFIX: endpoint}));\r\n        loadVehicles();\r\n        alert(\"Fahrzeug erfolgreich aktualisiert!\");\r\n        return;\r\n      } catch (error) {\r\n        console.log(`Fehler bei ${endpoint}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\r\n    console.error(\"Alle Endpunkte für UPDATE sind fehlgeschlagen\");\r\n    alert(\"Fehler beim Aktualisieren des Fahrzeugs: Keiner der Endpunkte funktioniert\");\r\n  };\r\n  \r\n  // Fahrzeug löschen\r\n  const deleteVehicle = async (vehicleId) => {\r\n    console.log(\"App: Lösche Fahrzeug mit ID:\", vehicleId);\r\n    \r\n    // Wenn wir bereits einen erfolgreichen Endpunkt haben, versuche diesen zuerst\r\n    if (successfulEndpoints.ITEM_PREFIX) {\r\n      try {\r\n        const url = `${BASE_URL}${successfulEndpoints.ITEM_PREFIX}${vehicleId}`;\r\n        console.log(`Versuche zuvor erfolgreichen Endpunkt: ${url}`);\r\n        await axios.delete(url);\r\n        console.log(\"Fahrzeug erfolgreich gelöscht\");\r\n        loadVehicles();\r\n        alert(\"Fahrzeug erfolgreich gelöscht!\");\r\n        return;\r\n      } catch (error) {\r\n        console.error(\"Zuvor erfolgreicher Endpunkt funktioniert nicht mehr:\", error);\r\n        // Endpunkt zurücksetzen und alle Endpunkte versuchen\r\n        setSuccessfulEndpoints(prev => ({...prev, ITEM_PREFIX: null}));\r\n      }\r\n    }\r\n    \r\n    // Alle Endpunkte für ITEM_PREFIX durchprobieren\r\n    for (const endpoint of API_ENDPOINTS.ITEM_PREFIX) {\r\n      try {\r\n        const url = `${BASE_URL}${endpoint}${vehicleId}`;\r\n        console.log(`Versuche Endpunkt: ${url}`);\r\n        await axios.delete(url);\r\n        console.log(\"Fahrzeug erfolgreich gelöscht\");\r\n        // Erfolgreichen Endpunkt speichern\r\n        setSuccessfulEndpoints(prev => ({...prev, ITEM_PREFIX: endpoint}));\r\n        loadVehicles();\r\n        alert(\"Fahrzeug erfolgreich gelöscht!\");\r\n        return;\r\n      } catch (error) {\r\n        console.log(`Fehler bei ${endpoint}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    // Wenn wir hier ankommen, haben alle Endpunkte fehlgeschlagen\r\n    console.error(\"Alle Endpunkte für DELETE sind fehlgeschlagen\");\r\n    alert(\"Fehler beim Löschen des Fahrzeugs: Keiner der Endpunkte funktioniert\");\r\n  };\r\n\r\n  // Benutzeranmeldung\r\n  const handleLogin = (userData) => {\r\n    setUser(userData);\r\n    setIsLoggedIn(true);\r\n    setIsAdmin(userData.isAdmin || false);\r\n    \r\n    // Setze die aktive Ansicht basierend auf der Benutzerrolle\r\n    if (userData.isAdmin) {\r\n      setActiveView('dashboard');\r\n    } else {\r\n      setActiveView('vehicles');\r\n    }\r\n  };\r\n  \r\n  // Benutzerregistrierung\r\n  const handleRegister = (userData) => {\r\n    setUser(userData);\r\n    setIsLoggedIn(true);\r\n    setIsAdmin(userData.isAdmin || false);\r\n    \r\n    // Neue Benutzer sind standardmäßig keine Admins\r\n    setActiveView('vehicles');\r\n  };\r\n  \r\n  // Benutzerabmeldung\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setIsAdmin(false);\r\n  };\r\n\r\n  // Renderlogik basierend auf der aktiven Ansicht\r\n  const renderContent = () => {\r\n    if (!vehiclesLoaded && isLoggedIn) {\r\n      return (\r\n        <div className=\"w-full flex flex-col items-center justify-center my-12\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4\"></div>\r\n          <p className=\"text-gray-600\">Fahrzeuge werden geladen...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (loadingError && isLoggedIn) {\r\n      return (\r\n        <div className=\"w-full flex flex-col items-center justify-center my-12 text-red-500\">\r\n          <p className=\"mb-2 font-semibold\">{loadingError}</p>\r\n          <p className=\"mb-6 text-gray-700 text-sm\">\r\n            Stelle sicher, dass dein Backend auf <span className=\"font-mono bg-gray-100 px-1 rounded\">{BASE_URL}</span> läuft.\r\n          </p>\r\n          <button \r\n            onClick={loadVehicles} \r\n            className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n          >\r\n            Erneut versuchen\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    switch (activeView) {\r\n      case 'dashboard':\r\n        return isAdmin ? <GlobalDashboard /> : <UserDashboard />;\r\n      case 'vehicles':\r\n        return <VehicleList \r\n          isUserView={!isAdmin} \r\n          vehicles={vehicles} \r\n          onAddVehicle={addVehicle} \r\n          onUpdateVehicle={updateVehicle} \r\n          onDeleteVehicle={deleteVehicle} \r\n        />;\r\n      case 'statistics':\r\n        return isAdmin ? <StatisticsDashboard /> : null;\r\n      case 'vehicle-requests':\r\n        return isAdmin ? <VehicleRequests /> : null;\r\n      case 'my-requests':\r\n        return !isAdmin ? <UserRequests setActiveView={setActiveView} /> : null;\r\n      default:\r\n        return <VehicleList \r\n          isUserView={!isAdmin} \r\n          vehicles={vehicles} \r\n          onAddVehicle={addVehicle} \r\n          onUpdateVehicle={updateVehicle} \r\n          onDeleteVehicle={deleteVehicle} \r\n        />;\r\n    }\r\n  };\r\n\r\n  // Wenn der Benutzer nicht angemeldet ist, zeige die Login-/Registrierungsseite an\r\n  if (!isLoggedIn) {\r\n    return <LoginPage onLogin={handleLogin} onRegister={handleRegister} />;\r\n  }\r\n\r\n  // Wenn angemeldet, zeige die Hauptanwendung an\r\n  return (\r\n    <div className=\"flex flex-col h-screen bg-gray-100\">\r\n      {/* Header */}\r\n      <Header \r\n        isAdmin={isAdmin} \r\n        onLogout={handleLogout} \r\n        user={user}\r\n      />\r\n      \r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        {/* Sidebar */}\r\n        <Sidebar \r\n          isOpen={sidebarOpen} \r\n          toggleSidebar={() => setSidebarOpen(!sidebarOpen)} \r\n          isAdmin={isAdmin}\r\n          onLogout={handleLogout}\r\n          activeView={activeView}\r\n          setActiveView={setActiveView}\r\n          user={user}\r\n        />\r\n        \r\n        {/* Main Content */}\r\n        <div className=\"flex-1 overflow-auto\">\r\n          <div className=\"p-4 md:p-6\">\r\n            {renderContent()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}