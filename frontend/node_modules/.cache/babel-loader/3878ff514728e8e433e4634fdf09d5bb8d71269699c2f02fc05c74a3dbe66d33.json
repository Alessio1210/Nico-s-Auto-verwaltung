{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\frontend\\\\src\\\\components\\\\Bookings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/de';\nimport { Container, Box, Paper, Grid, Typography, Divider, CircularProgress, Snackbar, Alert, Table, TableHead, TableBody, TableRow, TableCell, Button, Stack, Card, CardContent, Chip, IconButton } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndayjs.locale('de');\n\n// Backend-URL - direkt angepasst\nconst API_URL = 'http://localhost:5000';\n\n// Fallback-Fahrzeuge, falls Backend nicht erreichbar\nconst FALLBACK_VEHICLES = [{\n  id: '1',\n  modell: 'VW Golf',\n  kennzeichen: 'ERB-AB 123',\n  displayName: 'VW Golf / ERB-AB 123'\n}, {\n  id: '2',\n  modell: 'Audi A5',\n  kennzeichen: 'ERB-CD 456',\n  displayName: 'Audi A5 / ERB-CD 456'\n}, {\n  id: '3',\n  modell: 'McLaren 540c',\n  kennzeichen: 'ERB-RM 229',\n  displayName: 'McLaren 540c / ERB-RM 229'\n}];\n\n// Lokaler Speicher für Buchungen\nlet LOCAL_BOOKINGS = [{\n  id: 'local-1',\n  vehicle_id: '3',\n  vehicle_name: 'McLaren 540c / ERB-RM 229',\n  employee_name: 'Max Mustermann',\n  department: 'Vertrieb',\n  purpose: 'Kundenbesuch',\n  start_date: dayjs().subtract(1, 'day'),\n  end_date: dayjs().add(2, 'day'),\n  status: 'Reserviert',\n  notes: 'Demo-Buchung (lokal gespeichert)'\n}];\nfunction Bookings() {\n  _s();\n  // Zustandsvariablen\n  const [loading, setLoading] = useState(true);\n  const [loadingVehicles, setLoadingVehicles] = useState(true);\n  const [vehicles, setVehicles] = useState([]);\n  const [bookings, setBookings] = useState([]);\n  const [error, setError] = useState('');\n  const [backendStatus, setBackendStatus] = useState('Verbindung wird geprüft...');\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [alertSeverity, setAlertSeverity] = useState('info');\n  const [localMode, setLocalMode] = useState(true); // Standardmäßig lokalen Modus verwenden\n  const [showForm, setShowForm] = useState(false);\n\n  // Formular-Zustand\n  const [formData, setFormData] = useState({\n    vehicle_id: '',\n    employee_name: '',\n    department: '',\n    purpose: '',\n    start_date: dayjs(),\n    end_date: dayjs().add(1, 'day'),\n    status: 'Reserviert',\n    notes: ''\n  });\n\n  // Formularvalidierung\n  const [formErrors, setFormErrors] = useState({});\n\n  // Bearbeitung\n  const [editingId, setEditingId] = useState(null);\n\n  // Laden aller Daten beim Initialisieren der Komponente\n  useEffect(() => {\n    console.log(\"Bookings-Komponente wird initialisiert - Lade Daten\");\n    checkBackendConnection();\n    loadFallbackVehicles(); // Lade sofort Fallback-Daten\n    loadAllData();\n  }, []);\n\n  // Alle Daten laden, je nach Verbindungsstatus\n  const loadAllData = async () => {\n    if (localMode) {\n      loadLocalData();\n    } else {\n      try {\n        await Promise.all([loadVehicles(), loadBackendBookings()]);\n      } catch (err) {\n        console.error(\"Fehler beim Laden der Daten, wechsle in lokalen Modus:\", err);\n        setLocalMode(true);\n        loadLocalData();\n      }\n    }\n  };\n\n  // Lokale Daten laden (schnell und zuverlässig)\n  const loadLocalData = () => {\n    setLoading(true);\n    console.log(\"Lade lokale Daten\");\n\n    // Lade Fahrzeuge\n    setVehicles(FALLBACK_VEHICLES);\n    setLoadingVehicles(false);\n\n    // Lade Buchungen\n    const formattedBookings = LOCAL_BOOKINGS.map(booking => ({\n      ...booking,\n      start_date: dayjs(booking.start_date),\n      end_date: dayjs(booking.end_date)\n    }));\n    setBookings(formattedBookings);\n    setLoading(false);\n    setBackendStatus('Lokaler Modus (Backend nicht erreichbar)');\n    showNotification(\"Lokaler Modus aktiv - Änderungen werden nur lokal gespeichert\", \"info\");\n  };\n\n  // Backend-Verbindung überprüfen\n  const checkBackendConnection = async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/vehicles`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (response.ok) {\n        setBackendStatus('Verbunden');\n        setLocalMode(false);\n        console.log(\"Backend-Verbindung erfolgreich hergestellt\");\n      } else {\n        setBackendStatus(`Fehler: ${response.status} ${response.statusText}`);\n        setLocalMode(true);\n        console.error(\"Backend-Verbindung fehlgeschlagen:\", response.status, response.statusText);\n      }\n    } catch (error) {\n      setBackendStatus('Keine Verbindung');\n      setLocalMode(true);\n      console.error(\"Backend nicht erreichbar:\", error.message);\n      showNotification(\"Backend-Server nicht erreichbar. Lokaler Modus aktiviert.\", \"warning\");\n    }\n  };\n\n  // Fahrzeuge vom Backend laden\n  const loadVehicles = async () => {\n    console.log(\"Versuche Fahrzeuge vom Server zu laden...\");\n    setLoadingVehicles(true);\n    try {\n      const response = await fetch(`${API_URL}/api/vehicles`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        console.warn(`Server-Fehler beim Laden der Fahrzeuge: ${response.status}`);\n        loadFallbackVehicles();\n        return;\n      }\n      const data = await response.json();\n      console.log(\"Server-Fahrzeugdaten:\", data);\n      if (Array.isArray(data) && data.length > 0) {\n        const formattedVehicles = data.map(vehicle => {\n          var _vehicle$id;\n          return {\n            id: ((_vehicle$id = vehicle.id) === null || _vehicle$id === void 0 ? void 0 : _vehicle$id.toString()) || '',\n            modell: vehicle.modell || 'Unbekannt',\n            kennzeichen: vehicle.kennzeichen || 'Unbekannt',\n            displayName: `${vehicle.modell || 'Unbekannt'} / ${vehicle.kennzeichen || 'Unbekannt'}`\n          };\n        });\n        console.log(`${formattedVehicles.length} Fahrzeuge geladen`);\n        setVehicles(formattedVehicles);\n      } else {\n        console.warn(\"Keine Fahrzeuge vom Server erhalten, verwende Fallback-Daten\");\n        loadFallbackVehicles();\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden der Fahrzeuge:\", error);\n      loadFallbackVehicles();\n    } finally {\n      setLoadingVehicles(false);\n    }\n  };\n\n  // Fallback-Fahrzeuge laden wenn Backend nicht verfügbar\n  const loadFallbackVehicles = () => {\n    console.log(\"Verwende Fallback-Fahrzeuge\");\n    setVehicles(FALLBACK_VEHICLES);\n    setLoadingVehicles(false);\n  };\n\n  // Buchungen vom Backend laden\n  const loadBackendBookings = async () => {\n    console.log(\"Versuche Buchungen vom Server zu laden...\");\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_URL}/api/bookings`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        console.warn(`Server-Fehler beim Laden der Buchungen: ${response.status}`);\n        throw new Error(`Server antwortet mit ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(\"Server-Buchungsdaten:\", data);\n      if (Array.isArray(data)) {\n        const formattedBookings = data.map(booking => ({\n          id: booking.id,\n          vehicle_id: booking.vehicle_id,\n          vehicle_name: findVehicleName(booking.vehicle_id),\n          start_date: dayjs(booking.start_date || booking.startzeit),\n          end_date: dayjs(booking.end_date || booking.endzeit),\n          employee_name: booking.mitarbeiter || booking.employee_name || '',\n          department: booking.abteilung || booking.department || '',\n          purpose: booking.zweck || booking.purpose || '',\n          status: booking.status || 'Reserviert',\n          notes: booking.notizen || booking.notes || ''\n        }));\n        console.log(`${formattedBookings.length} Buchungen geladen`);\n        setBookings(formattedBookings);\n      } else {\n        console.warn(\"Keine Buchungen vom Server erhalten oder unerwartetes Format\");\n        throw new Error(\"Unerwartetes Datenformat\");\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden der Buchungen, wechsle in lokalen Modus:\", error);\n      setLocalMode(true);\n      loadLocalData();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Findet den Fahrzeugnamen anhand der ID\n  const findVehicleName = vehicleId => {\n    const vehicle = vehicles.find(v => v.id === vehicleId);\n    return vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\n  };\n\n  // Form Change Handler\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Fehler zurücksetzen wenn Feld geändert wird\n    if (formErrors[name]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n  };\n\n  // Datumsfeld-Handler\n  const handleDateChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Fehler zurücksetzen wenn Feld geändert wird\n    if (formErrors[field]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [field]: null\n      }));\n    }\n  };\n\n  // Formular zurücksetzen\n  const resetForm = () => {\n    setFormData({\n      vehicle_id: '',\n      employee_name: '',\n      department: '',\n      purpose: '',\n      start_date: dayjs(),\n      end_date: dayjs().add(1, 'day'),\n      status: 'Reserviert',\n      notes: ''\n    });\n    setFormErrors({});\n    setEditingId(null);\n  };\n\n  // Formular validieren\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.vehicle_id) {\n      errors.vehicle_id = 'Bitte ein Fahrzeug auswählen';\n    }\n    if (!formData.employee_name) {\n      errors.employee_name = 'Bitte einen Mitarbeiternamen eingeben';\n    }\n    if (!formData.purpose) {\n      errors.purpose = 'Bitte einen Verwendungszweck angeben';\n    }\n    if (!formData.start_date) {\n      errors.start_date = 'Bitte ein Startdatum wählen';\n    }\n    if (!formData.end_date) {\n      errors.end_date = 'Bitte ein Enddatum wählen';\n    } else if (formData.start_date && formData.end_date.isBefore(formData.start_date)) {\n      errors.end_date = 'Das Enddatum muss nach dem Startdatum liegen';\n    }\n    return errors;\n  };\n\n  // Form Submit Handler\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log(\"Formular wird abgesendet mit Daten:\", formData);\n\n    // Formular validieren\n    const errors = validateForm();\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n    setLoading(true);\n    if (localMode) {\n      // Lokale Speicherung\n      handleLocalSave();\n    } else {\n      try {\n        await handleBackendSave();\n      } catch (error) {\n        console.error(\"Backend-Speicherung fehlgeschlagen, verwende lokale Speicherung:\", error);\n        handleLocalSave();\n      }\n    }\n    setLoading(false);\n  };\n\n  // Lokale Speicherung einer Buchung\n  const handleLocalSave = () => {\n    const localId = editingId && editingId.startsWith('local-') ? editingId : `local-${Date.now()}`;\n    const newBooking = {\n      id: localId,\n      vehicle_id: formData.vehicle_id,\n      vehicle_name: findVehicleName(formData.vehicle_id),\n      employee_name: formData.employee_name,\n      department: formData.department,\n      purpose: formData.purpose,\n      start_date: formData.start_date,\n      end_date: formData.end_date,\n      status: formData.status,\n      notes: formData.notes\n    };\n    if (editingId && editingId.startsWith('local-')) {\n      // Lokale Buchung aktualisieren\n      LOCAL_BOOKINGS = LOCAL_BOOKINGS.map(booking => booking.id === editingId ? newBooking : booking);\n    } else {\n      // Neue lokale Buchung\n      LOCAL_BOOKINGS.push(newBooking);\n    }\n\n    // Aktualisiere State\n    const formattedBookings = LOCAL_BOOKINGS.map(booking => ({\n      ...booking,\n      start_date: dayjs(booking.start_date),\n      end_date: dayjs(booking.end_date)\n    }));\n    setBookings(formattedBookings);\n    showNotification(editingId ? \"Buchung lokal aktualisiert\" : \"Buchung lokal gespeichert\", \"success\");\n    resetForm();\n  };\n\n  // Backend-Speicherung einer Buchung\n  const handleBackendSave = async () => {\n    // Anpassen der Daten an das Backend-Schema\n    const bookingToSave = {\n      vehicle_id: formData.vehicle_id,\n      startzeit: formData.start_date.toISOString(),\n      endzeit: formData.end_date.toISOString(),\n      status: formData.status || 'Reserviert',\n      zweck: formData.purpose || '',\n      mitarbeiter: formData.employee_name || '',\n      abteilung: formData.department || ''\n    };\n\n    // Buchung speichern\n    const url = editingId && !editingId.startsWith('local-') ? `${API_URL}/api/bookings/${editingId}` : `${API_URL}/api/bookings`;\n    const method = editingId && !editingId.startsWith('local-') ? 'PUT' : 'POST';\n    console.log(`${method}-Anfrage an ${url}`);\n    const response = await fetch(url, {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(bookingToSave)\n    });\n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error(\"Server-Fehler:\", response.status, errorText);\n      throw new Error(`Server-Fehler: ${response.status} ${errorText}`);\n    }\n    const result = await response.json();\n    console.log(\"Server-Antwort:\", result);\n    showNotification(editingId ? \"Buchung aktualisiert\" : \"Neue Buchung erstellt\", \"success\");\n    resetForm();\n    await loadBackendBookings();\n  };\n\n  // Buchung löschen\n  const handleDelete = async id => {\n    if (!window.confirm(\"Möchten Sie diese Buchung wirklich löschen?\")) {\n      return;\n    }\n    setLoading(true);\n\n    // Lokale Buchung löschen\n    if (id.startsWith('local-') || localMode) {\n      console.log(\"Lösche lokale Buchung:\", id);\n      LOCAL_BOOKINGS = LOCAL_BOOKINGS.filter(booking => booking.id !== id);\n\n      // Aktualisiere State\n      const formattedBookings = LOCAL_BOOKINGS.map(booking => ({\n        ...booking,\n        start_date: dayjs(booking.start_date),\n        end_date: dayjs(booking.end_date)\n      }));\n      setBookings(formattedBookings);\n      showNotification(\"Buchung gelöscht\", \"success\");\n      setLoading(false);\n      return;\n    }\n\n    // Backend-Buchung löschen\n    try {\n      console.log(`DELETE ${API_URL}/api/bookings/${id}`);\n      const response = await fetch(`${API_URL}/api/bookings/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Fehler beim Löschen der Buchung: ${response.status} - ${errorText}`);\n      }\n      showNotification(\"Buchung erfolgreich gelöscht\", \"success\");\n      await loadBackendBookings();\n    } catch (error) {\n      console.error(\"Fehler beim Löschen der Buchung:\", error);\n      showNotification(`Fehler beim Löschen der Buchung: ${error.message}`, \"error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Buchung bearbeiten\n  const handleEdit = booking => {\n    console.log(\"Bearbeite Buchung:\", booking);\n    setEditingId(booking.id);\n    setFormData({\n      vehicle_id: booking.vehicle_id || '',\n      employee_name: booking.employee_name || '',\n      department: booking.department || '',\n      purpose: booking.purpose || '',\n      start_date: dayjs(booking.start_date),\n      end_date: dayjs(booking.end_date),\n      status: booking.status || 'Reserviert',\n      notes: booking.notes || ''\n    });\n    setShowForm(true);\n  };\n\n  // Benachrichtigung anzeigen\n  const showNotification = (message, severity = 'info') => {\n    setAlertMessage(message);\n    setAlertSeverity(severity);\n    setShowAlert(true);\n  };\n\n  // Modus wechseln zwischen lokal und Backend\n  const toggleMode = () => {\n    const newMode = !localMode;\n    setLocalMode(newMode);\n    if (newMode) {\n      setBackendStatus('Lokaler Modus (manuell aktiviert)');\n      loadLocalData();\n    } else {\n      checkBackendConnection();\n      loadAllData();\n    }\n    showNotification(newMode ? \"Lokaler Modus aktiviert - Änderungen werden nur lokal gespeichert\" : \"Backend-Modus aktiviert - Verbindung zum Server wird hergestellt\", \"info\");\n  };\n\n  // Render-Funktion für Formularsicht\n  if (showForm) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        py: 4,\n        position: 'relative',\n        overflow: 'visible'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 4,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2\n        },\n        children: [localMode && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Lokaler Modus aktiv\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 15\n          }, this), \" - Buchungen werden nur im Browser gespeichert und gehen beim Schlie\\xDFen verloren.\", /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"outlined\",\n            onClick: toggleMode,\n            sx: {\n              ml: 2\n            },\n            disabled: loading,\n            children: \"Versuche Backend-Verbindung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: () => setShowForm(false),\n            sx: {\n              mb: 2\n            },\n            children: \"Zur\\xFCck zur \\xDCbersicht\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [\"Status: \", backendStatus]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          children: editingId ? 'Buchung bearbeiten' : 'Neue Buchung erstellen'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 3\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        elevation: 3,\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmit,\n            noValidate: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"vehicle_id\",\n                    children: \"Fahrzeug *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 596,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"vehicle_id\",\n                    name: \"vehicle_id\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.vehicle_id,\n                    onChange: handleInputChange,\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Bitte w\\xE4hlen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 607,\n                      columnNumber: 23\n                    }, this), loadingVehicles ? /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Fahrzeuge werden geladen...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 25\n                    }, this) : vehicles.length > 0 ? vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: vehicle.id,\n                      children: vehicle.displayName\n                    }, vehicle.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 612,\n                      columnNumber: 27\n                    }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Keine Fahrzeuge verf\\xFCgbar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 617,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 21\n                  }, this), formErrors.vehicle_id && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.vehicle_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 23\n                  }, this), !loadingVehicles && vehicles.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: \"Keine Fahrzeuge gefunden. Bitte f\\xFCgen Sie zuerst Fahrzeuge hinzu.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"employee_name\",\n                    children: \"Mitarbeiter *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"employee_name\",\n                    name: \"employee_name\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.employee_name,\n                    onChange: handleInputChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 21\n                  }, this), formErrors.employee_name && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.employee_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 649,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"department\",\n                    children: \"Abteilung/Kostenstelle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 659,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"department\",\n                    name: \"department\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.department,\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 662,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"purpose\",\n                    children: \"Verwendungszweck *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 676,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"purpose\",\n                    name: \"purpose\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.purpose,\n                    onChange: handleInputChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 21\n                  }, this), formErrors.purpose && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.purpose\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 689,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"start_date\",\n                    children: \"Startdatum *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 699,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"start_date\",\n                    name: \"start_date\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.start_date.format('YYYY-MM-DD'),\n                    onChange: e => {\n                      const newDate = dayjs(e.target.value);\n                      if (newDate.isValid()) {\n                        // Behalte die Uhrzeit bei, ändere nur das Datum\n                        const newDateTime = formData.start_date.year(newDate.year()).month(newDate.month()).date(newDate.date());\n                        handleDateChange('start_date', newDateTime);\n                      }\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 702,\n                    columnNumber: 21\n                  }, this), formErrors.start_date && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.start_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 722,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 698,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"start_time\",\n                    children: \"Startzeit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 732,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    id: \"start_time\",\n                    name: \"start_time\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.start_date.format('HH:mm'),\n                    onChange: e => {\n                      const [hours, minutes] = e.target.value.split(':').map(Number);\n                      const newDateTime = formData.start_date.hour(hours).minute(minutes).second(0);\n                      handleDateChange('start_date', newDateTime);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 735,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 731,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"end_date\",\n                    children: \"Enddatum *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"end_date\",\n                    name: \"end_date\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.end_date.format('YYYY-MM-DD'),\n                    onChange: e => {\n                      const newDate = dayjs(e.target.value);\n                      if (newDate.isValid()) {\n                        // Behalte die Uhrzeit bei, ändere nur das Datum\n                        const newDateTime = formData.end_date.year(newDate.year()).month(newDate.month()).date(newDate.date());\n                        handleDateChange('end_date', newDateTime);\n                      }\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 21\n                  }, this), formErrors.end_date && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.end_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 779,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"end_time\",\n                    children: \"Endzeit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 789,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    id: \"end_time\",\n                    name: \"end_time\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.end_date.format('HH:mm'),\n                    onChange: e => {\n                      const [hours, minutes] = e.target.value.split(':').map(Number);\n                      const newDateTime = formData.end_date.hour(hours).minute(minutes).second(0);\n                      handleDateChange('end_date', newDateTime);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 792,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 788,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"status\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 813,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"status\",\n                    name: \"status\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.status,\n                    onChange: handleInputChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Reserviert\",\n                      children: \"Reserviert\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 823,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Ausgegeben\",\n                      children: \"Ausgegeben\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 824,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Zur\\xFCckgegeben\",\n                      children: \"Zur\\xFCckgegeben\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 825,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 816,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 812,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"notes\",\n                    children: \"Notizen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 833,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"notes\",\n                    name: \"notes\",\n                    rows: \"3\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.notes,\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 836,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: resetForm,\n                    disabled: loading,\n                    className: \"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n                    children: \"Abbrechen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 850,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    variant: \"contained\",\n                    color: \"primary\",\n                    disabled: loading,\n                    children: loading ? 'Wird gespeichert...' : editingId ? 'Aktualisieren' : 'Buchung erstellen'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 858,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => {\n                      loadVehicles();\n                      loadBackendBookings();\n                    },\n                    disabled: loading,\n                    className: \"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n                    children: \"Daten aktualisieren\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 866,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 849,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Render-Funktion für Listenansicht\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      py: 4,\n      position: 'relative',\n      overflow: 'visible'\n    },\n    children: [localMode && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"info\",\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Lokaler Modus aktiv\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 893,\n        columnNumber: 11\n      }, this), \" - Buchungen werden nur im Browser gespeichert und gehen beim Schlie\\xDFen verloren.\", /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        variant: \"outlined\",\n        onClick: toggleMode,\n        sx: {\n          ml: 2\n        },\n        disabled: loading,\n        children: \"Versuche Backend-Verbindung\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 894,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 892,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          children: \"Buchungsverwaltung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mt: 1\n          },\n          children: [\"Status: \", backendStatus]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 2,\n        children: [!localMode && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: toggleMode,\n          disabled: loading,\n          children: \"Zu Offline-Modus wechseln\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: loadAllData,\n          disabled: loading,\n          children: \"Aktualisieren\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => {\n            setEditingId(null);\n            setShowForm(true);\n          },\n          disabled: loading,\n          children: \"Neue Buchung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 933,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 906,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 948,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        p: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 955,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 954,\n      columnNumber: 9\n    }, this) : bookings.length === 0 ? /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 4,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        gutterBottom: true,\n        children: \"Keine Buchungen vorhanden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 959,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => {\n          setEditingId(null);\n          setShowForm(true);\n        },\n        sx: {\n          mt: 2\n        },\n        disabled: loading,\n        children: \"Erste Buchung erstellen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 962,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 958,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        overflowX: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          sx: {\n            backgroundColor: '#f5f5f5'\n          },\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: \"Fahrzeug\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 980,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: \"Zeitraum\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 981,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 981,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: \"Mitarbeiter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 982,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: \"Zweck\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 983,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 983,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 984,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: \"Aktionen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 985,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: bookings.map(booking => /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            sx: booking.id.toString().startsWith('local-') ? {\n              backgroundColor: '#fff8e1'\n            } : {},\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: booking.vehicle_name || 'Unbekanntes Fahrzeug'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 996,\n                columnNumber: 21\n              }, this), booking.id.toString().startsWith('local-') && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                children: \"(Lokal gespeichert)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: booking.start_date.format('DD.MM.YYYY HH:mm')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1006,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"bis \", booking.end_date.format('DD.MM.YYYY HH:mm')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1009,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: booking.employee_name || 'Nicht angegeben'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1014,\n                columnNumber: 21\n              }, this), booking.department && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: booking.department\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1018,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: booking.purpose || 'Kein Zweck angegeben'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1024,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: booking.status || 'Unbekannt',\n                size: \"small\",\n                color: booking.status === 'Reserviert' ? 'warning' : booking.status === 'Ausgegeben' ? 'success' : 'info',\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1029,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1028,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                color: \"primary\",\n                onClick: () => handleEdit(booking),\n                title: \"Bearbeiten\",\n                children: \"E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                color: \"error\",\n                onClick: () => handleDelete(booking.id),\n                title: \"L\\xF6schen\",\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1037,\n              columnNumber: 19\n            }, this)]\n          }, booking.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 977,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 976,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: showAlert,\n      autoHideDuration: 6000,\n      onClose: () => setShowAlert(false),\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      sx: {\n        zIndex: 10000\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setShowAlert(false),\n        severity: alertSeverity,\n        sx: {\n          width: '100%'\n        },\n        children: alertMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1070,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1063,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 889,\n    columnNumber: 5\n  }, this);\n}\n_s(Bookings, \"Prml3I4R2H7nodyLSdS23Q+pvqs=\");\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["React","useState","useEffect","dayjs","Container","Box","Paper","Grid","Typography","Divider","CircularProgress","Snackbar","Alert","Table","TableHead","TableBody","TableRow","TableCell","Button","Stack","Card","CardContent","Chip","IconButton","jsxDEV","_jsxDEV","locale","API_URL","FALLBACK_VEHICLES","id","modell","kennzeichen","displayName","LOCAL_BOOKINGS","vehicle_id","vehicle_name","employee_name","department","purpose","start_date","subtract","end_date","add","status","notes","Bookings","_s","loading","setLoading","loadingVehicles","setLoadingVehicles","vehicles","setVehicles","bookings","setBookings","error","setError","backendStatus","setBackendStatus","showAlert","setShowAlert","alertMessage","setAlertMessage","alertSeverity","setAlertSeverity","localMode","setLocalMode","showForm","setShowForm","formData","setFormData","formErrors","setFormErrors","editingId","setEditingId","console","log","checkBackendConnection","loadFallbackVehicles","loadAllData","loadLocalData","Promise","all","loadVehicles","loadBackendBookings","err","formattedBookings","map","booking","showNotification","response","fetch","method","headers","mode","cache","ok","statusText","message","warn","data","json","Array","isArray","length","formattedVehicles","vehicle","_vehicle$id","toString","Error","findVehicleName","startzeit","endzeit","mitarbeiter","abteilung","zweck","notizen","vehicleId","find","v","handleInputChange","e","name","value","target","prev","handleDateChange","field","resetForm","validateForm","errors","isBefore","handleSubmit","preventDefault","Object","keys","handleLocalSave","handleBackendSave","localId","startsWith","Date","now","newBooking","push","bookingToSave","toISOString","url","body","JSON","stringify","errorText","text","result","handleDelete","window","confirm","filter","handleEdit","severity","toggleMode","newMode","maxWidth","sx","py","position","overflow","children","mb","display","flexDirection","gap","fileName","_jsxFileName","lineNumber","columnNumber","size","variant","onClick","ml","disabled","justifyContent","alignItems","color","component","gutterBottom","elevation","onSubmit","noValidate","container","spacing","item","xs","sm","className","htmlFor","onChange","required","type","format","newDate","isValid","newDateTime","year","month","date","hours","minutes","split","Number","hour","minute","second","rows","mt","direction","p","textAlign","overflowX","backgroundColor","align","hover","label","title","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","zIndex","width","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/frontend/src/components/Bookings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/de';\r\nimport { \r\n  Container, Box, Paper, Grid, Typography, \r\n  Divider, CircularProgress, Snackbar, Alert, \r\n  Table, TableHead, TableBody, TableRow, TableCell, \r\n  Button, Stack, Card, CardContent, Chip, IconButton\r\n} from '@mui/material';\r\n\r\ndayjs.locale('de');\r\n\r\n// Backend-URL - direkt angepasst\r\nconst API_URL = 'http://localhost:5000';\r\n\r\n// Fallback-Fahrzeuge, falls Backend nicht erreichbar\r\nconst FALLBACK_VEHICLES = [\r\n  { id: '1', modell: 'VW Golf', kennzeichen: 'ERB-AB 123', displayName: 'VW Golf / ERB-AB 123' },\r\n  { id: '2', modell: 'Audi A5', kennzeichen: 'ERB-CD 456', displayName: 'Audi A5 / ERB-CD 456' },\r\n  { id: '3', modell: 'McLaren 540c', kennzeichen: 'ERB-RM 229', displayName: 'McLaren 540c / ERB-RM 229' }\r\n];\r\n\r\n// Lokaler Speicher für Buchungen\r\nlet LOCAL_BOOKINGS = [\r\n  {\r\n    id: 'local-1',\r\n    vehicle_id: '3',\r\n    vehicle_name: 'McLaren 540c / ERB-RM 229',\r\n    employee_name: 'Max Mustermann',\r\n    department: 'Vertrieb',\r\n    purpose: 'Kundenbesuch',\r\n    start_date: dayjs().subtract(1, 'day'),\r\n    end_date: dayjs().add(2, 'day'),\r\n    status: 'Reserviert',\r\n    notes: 'Demo-Buchung (lokal gespeichert)'\r\n  }\r\n];\r\n\r\nfunction Bookings() {\r\n  // Zustandsvariablen\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingVehicles, setLoadingVehicles] = useState(true);\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [backendStatus, setBackendStatus] = useState('Verbindung wird geprüft...');\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const [alertSeverity, setAlertSeverity] = useState('info');\r\n  const [localMode, setLocalMode] = useState(true); // Standardmäßig lokalen Modus verwenden\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  // Formular-Zustand\r\n  const [formData, setFormData] = useState({\r\n    vehicle_id: '',\r\n    employee_name: '',\r\n    department: '',\r\n    purpose: '',\r\n    start_date: dayjs(),\r\n    end_date: dayjs().add(1, 'day'),\r\n    status: 'Reserviert',\r\n    notes: ''\r\n  });\r\n  \r\n  // Formularvalidierung\r\n  const [formErrors, setFormErrors] = useState({});\r\n  \r\n  // Bearbeitung\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  // Laden aller Daten beim Initialisieren der Komponente\r\n  useEffect(() => {\r\n    console.log(\"Bookings-Komponente wird initialisiert - Lade Daten\");\r\n    checkBackendConnection();\r\n    loadFallbackVehicles(); // Lade sofort Fallback-Daten\r\n    loadAllData();\r\n  }, []);\r\n\r\n  // Alle Daten laden, je nach Verbindungsstatus\r\n  const loadAllData = async () => {\r\n    if (localMode) {\r\n      loadLocalData();\r\n    } else {\r\n      try {\r\n        await Promise.all([loadVehicles(), loadBackendBookings()]);\r\n      } catch (err) {\r\n        console.error(\"Fehler beim Laden der Daten, wechsle in lokalen Modus:\", err);\r\n        setLocalMode(true);\r\n        loadLocalData();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Lokale Daten laden (schnell und zuverlässig)\r\n  const loadLocalData = () => {\r\n    setLoading(true);\r\n    console.log(\"Lade lokale Daten\");\r\n    \r\n    // Lade Fahrzeuge\r\n    setVehicles(FALLBACK_VEHICLES);\r\n    setLoadingVehicles(false);\r\n    \r\n    // Lade Buchungen\r\n    const formattedBookings = LOCAL_BOOKINGS.map(booking => ({\r\n      ...booking,\r\n      start_date: dayjs(booking.start_date),\r\n      end_date: dayjs(booking.end_date)\r\n    }));\r\n    \r\n    setBookings(formattedBookings);\r\n    setLoading(false);\r\n    setBackendStatus('Lokaler Modus (Backend nicht erreichbar)');\r\n    showNotification(\"Lokaler Modus aktiv - Änderungen werden nur lokal gespeichert\", \"info\");\r\n  };\r\n\r\n  // Backend-Verbindung überprüfen\r\n  const checkBackendConnection = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/vehicles`, { \r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (response.ok) {\r\n        setBackendStatus('Verbunden');\r\n        setLocalMode(false);\r\n        console.log(\"Backend-Verbindung erfolgreich hergestellt\");\r\n      } else {\r\n        setBackendStatus(`Fehler: ${response.status} ${response.statusText}`);\r\n        setLocalMode(true);\r\n        console.error(\"Backend-Verbindung fehlgeschlagen:\", response.status, response.statusText);\r\n      }\r\n    } catch (error) {\r\n      setBackendStatus('Keine Verbindung');\r\n      setLocalMode(true);\r\n      console.error(\"Backend nicht erreichbar:\", error.message);\r\n      showNotification(\"Backend-Server nicht erreichbar. Lokaler Modus aktiviert.\", \"warning\");\r\n    }\r\n  };\r\n\r\n  // Fahrzeuge vom Backend laden\r\n  const loadVehicles = async () => {\r\n    console.log(\"Versuche Fahrzeuge vom Server zu laden...\");\r\n    setLoadingVehicles(true);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/api/vehicles`, {\r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        console.warn(`Server-Fehler beim Laden der Fahrzeuge: ${response.status}`);\r\n        loadFallbackVehicles();\r\n        return;\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"Server-Fahrzeugdaten:\", data);\r\n      \r\n      if (Array.isArray(data) && data.length > 0) {\r\n        const formattedVehicles = data.map(vehicle => ({\r\n          id: vehicle.id?.toString() || '',\r\n          modell: vehicle.modell || 'Unbekannt',\r\n          kennzeichen: vehicle.kennzeichen || 'Unbekannt',\r\n          displayName: `${vehicle.modell || 'Unbekannt'} / ${vehicle.kennzeichen || 'Unbekannt'}`\r\n        }));\r\n        \r\n        console.log(`${formattedVehicles.length} Fahrzeuge geladen`);\r\n        setVehicles(formattedVehicles);\r\n      } else {\r\n        console.warn(\"Keine Fahrzeuge vom Server erhalten, verwende Fallback-Daten\");\r\n        loadFallbackVehicles();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Laden der Fahrzeuge:\", error);\r\n      loadFallbackVehicles();\r\n    } finally {\r\n      setLoadingVehicles(false);\r\n    }\r\n  };\r\n\r\n  // Fallback-Fahrzeuge laden wenn Backend nicht verfügbar\r\n  const loadFallbackVehicles = () => {\r\n    console.log(\"Verwende Fallback-Fahrzeuge\");\r\n    setVehicles(FALLBACK_VEHICLES);\r\n    setLoadingVehicles(false);\r\n  };\r\n\r\n  // Buchungen vom Backend laden\r\n  const loadBackendBookings = async () => {\r\n    console.log(\"Versuche Buchungen vom Server zu laden...\");\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/api/bookings`, {\r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        console.warn(`Server-Fehler beim Laden der Buchungen: ${response.status}`);\r\n        throw new Error(`Server antwortet mit ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"Server-Buchungsdaten:\", data);\r\n      \r\n      if (Array.isArray(data)) {\r\n        const formattedBookings = data.map(booking => ({\r\n          id: booking.id,\r\n          vehicle_id: booking.vehicle_id,\r\n          vehicle_name: findVehicleName(booking.vehicle_id),\r\n          start_date: dayjs(booking.start_date || booking.startzeit),\r\n          end_date: dayjs(booking.end_date || booking.endzeit),\r\n          employee_name: booking.mitarbeiter || booking.employee_name || '',\r\n          department: booking.abteilung || booking.department || '',\r\n          purpose: booking.zweck || booking.purpose || '',\r\n          status: booking.status || 'Reserviert',\r\n          notes: booking.notizen || booking.notes || ''\r\n        }));\r\n        \r\n        console.log(`${formattedBookings.length} Buchungen geladen`);\r\n        setBookings(formattedBookings);\r\n      } else {\r\n        console.warn(\"Keine Buchungen vom Server erhalten oder unerwartetes Format\");\r\n        throw new Error(\"Unerwartetes Datenformat\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Laden der Buchungen, wechsle in lokalen Modus:\", error);\r\n      setLocalMode(true);\r\n      loadLocalData();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Findet den Fahrzeugnamen anhand der ID\r\n  const findVehicleName = (vehicleId) => {\r\n    const vehicle = vehicles.find(v => v.id === vehicleId);\r\n    return vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\r\n  };\r\n\r\n  // Form Change Handler\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Fehler zurücksetzen wenn Feld geändert wird\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({ ...prev, [name]: null }));\r\n    }\r\n  };\r\n\r\n  // Datumsfeld-Handler\r\n  const handleDateChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    // Fehler zurücksetzen wenn Feld geändert wird\r\n    if (formErrors[field]) {\r\n      setFormErrors(prev => ({ ...prev, [field]: null }));\r\n    }\r\n  };\r\n  \r\n  // Formular zurücksetzen\r\n  const resetForm = () => {\r\n    setFormData({\r\n      vehicle_id: '',\r\n      employee_name: '',\r\n      department: '',\r\n      purpose: '',\r\n      start_date: dayjs(),\r\n      end_date: dayjs().add(1, 'day'),\r\n      status: 'Reserviert',\r\n      notes: ''\r\n    });\r\n    setFormErrors({});\r\n    setEditingId(null);\r\n  };\r\n\r\n  // Formular validieren\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    \r\n    if (!formData.vehicle_id) {\r\n      errors.vehicle_id = 'Bitte ein Fahrzeug auswählen';\r\n    }\r\n    \r\n    if (!formData.employee_name) {\r\n      errors.employee_name = 'Bitte einen Mitarbeiternamen eingeben';\r\n    }\r\n    \r\n    if (!formData.purpose) {\r\n      errors.purpose = 'Bitte einen Verwendungszweck angeben';\r\n    }\r\n    \r\n    if (!formData.start_date) {\r\n      errors.start_date = 'Bitte ein Startdatum wählen';\r\n    }\r\n    \r\n    if (!formData.end_date) {\r\n      errors.end_date = 'Bitte ein Enddatum wählen';\r\n    } else if (formData.start_date && formData.end_date.isBefore(formData.start_date)) {\r\n      errors.end_date = 'Das Enddatum muss nach dem Startdatum liegen';\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  // Form Submit Handler\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Formular wird abgesendet mit Daten:\", formData);\r\n    \r\n    // Formular validieren\r\n    const errors = validateForm();\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    if (localMode) {\r\n      // Lokale Speicherung\r\n      handleLocalSave();\r\n    } else {\r\n      try {\r\n        await handleBackendSave();\r\n      } catch (error) {\r\n        console.error(\"Backend-Speicherung fehlgeschlagen, verwende lokale Speicherung:\", error);\r\n        handleLocalSave();\r\n      }\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n  \r\n  // Lokale Speicherung einer Buchung\r\n  const handleLocalSave = () => {\r\n    const localId = editingId && editingId.startsWith('local-') \r\n      ? editingId \r\n      : `local-${Date.now()}`;\r\n      \r\n    const newBooking = {\r\n      id: localId,\r\n      vehicle_id: formData.vehicle_id,\r\n      vehicle_name: findVehicleName(formData.vehicle_id),\r\n      employee_name: formData.employee_name,\r\n      department: formData.department,\r\n      purpose: formData.purpose,\r\n      start_date: formData.start_date,\r\n      end_date: formData.end_date,\r\n      status: formData.status,\r\n      notes: formData.notes\r\n    };\r\n    \r\n    if (editingId && editingId.startsWith('local-')) {\r\n      // Lokale Buchung aktualisieren\r\n      LOCAL_BOOKINGS = LOCAL_BOOKINGS.map(booking => \r\n        booking.id === editingId ? newBooking : booking\r\n      );\r\n    } else {\r\n      // Neue lokale Buchung\r\n      LOCAL_BOOKINGS.push(newBooking);\r\n    }\r\n    \r\n    // Aktualisiere State\r\n    const formattedBookings = LOCAL_BOOKINGS.map(booking => ({\r\n      ...booking,\r\n      start_date: dayjs(booking.start_date),\r\n      end_date: dayjs(booking.end_date)\r\n    }));\r\n    \r\n    setBookings(formattedBookings);\r\n    showNotification(\r\n      editingId ? \"Buchung lokal aktualisiert\" : \"Buchung lokal gespeichert\", \r\n      \"success\"\r\n    );\r\n    resetForm();\r\n  };\r\n  \r\n  // Backend-Speicherung einer Buchung\r\n  const handleBackendSave = async () => {\r\n    // Anpassen der Daten an das Backend-Schema\r\n    const bookingToSave = {\r\n      vehicle_id: formData.vehicle_id,\r\n      startzeit: formData.start_date.toISOString(),\r\n      endzeit: formData.end_date.toISOString(),\r\n      status: formData.status || 'Reserviert',\r\n      zweck: formData.purpose || '',\r\n      mitarbeiter: formData.employee_name || '',\r\n      abteilung: formData.department || '',\r\n    };\r\n    \r\n    // Buchung speichern\r\n    const url = editingId && !editingId.startsWith('local-')\r\n      ? `${API_URL}/api/bookings/${editingId}`\r\n      : `${API_URL}/api/bookings`;\r\n    \r\n    const method = editingId && !editingId.startsWith('local-') ? 'PUT' : 'POST';\r\n    console.log(`${method}-Anfrage an ${url}`);\r\n    \r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      mode: 'cors',\r\n      cache: 'no-cache',\r\n      body: JSON.stringify(bookingToSave)\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      console.error(\"Server-Fehler:\", response.status, errorText);\r\n      throw new Error(`Server-Fehler: ${response.status} ${errorText}`);\r\n    }\r\n    \r\n    const result = await response.json();\r\n    console.log(\"Server-Antwort:\", result);\r\n    \r\n    showNotification(\r\n      editingId ? \"Buchung aktualisiert\" : \"Neue Buchung erstellt\", \r\n      \"success\"\r\n    );\r\n    resetForm();\r\n    await loadBackendBookings();\r\n  };\r\n\r\n  // Buchung löschen\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Möchten Sie diese Buchung wirklich löschen?\")) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    // Lokale Buchung löschen\r\n    if (id.startsWith('local-') || localMode) {\r\n      console.log(\"Lösche lokale Buchung:\", id);\r\n      LOCAL_BOOKINGS = LOCAL_BOOKINGS.filter(booking => booking.id !== id);\r\n      \r\n      // Aktualisiere State\r\n      const formattedBookings = LOCAL_BOOKINGS.map(booking => ({\r\n        ...booking,\r\n        start_date: dayjs(booking.start_date),\r\n        end_date: dayjs(booking.end_date)\r\n      }));\r\n      \r\n      setBookings(formattedBookings);\r\n      showNotification(\"Buchung gelöscht\", \"success\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    // Backend-Buchung löschen\r\n    try {\r\n      console.log(`DELETE ${API_URL}/api/bookings/${id}`);\r\n      const response = await fetch(`${API_URL}/api/bookings/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Fehler beim Löschen der Buchung: ${response.status} - ${errorText}`);\r\n      }\r\n      \r\n      showNotification(\"Buchung erfolgreich gelöscht\", \"success\");\r\n      await loadBackendBookings();\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Löschen der Buchung:\", error);\r\n      showNotification(`Fehler beim Löschen der Buchung: ${error.message}`, \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Buchung bearbeiten\r\n  const handleEdit = (booking) => {\r\n    console.log(\"Bearbeite Buchung:\", booking);\r\n    setEditingId(booking.id);\r\n    setFormData({\r\n      vehicle_id: booking.vehicle_id || '',\r\n      employee_name: booking.employee_name || '',\r\n      department: booking.department || '',\r\n      purpose: booking.purpose || '',\r\n      start_date: dayjs(booking.start_date),\r\n      end_date: dayjs(booking.end_date),\r\n      status: booking.status || 'Reserviert',\r\n      notes: booking.notes || ''\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  // Benachrichtigung anzeigen\r\n  const showNotification = (message, severity = 'info') => {\r\n    setAlertMessage(message);\r\n    setAlertSeverity(severity);\r\n    setShowAlert(true);\r\n  };\r\n\r\n  // Modus wechseln zwischen lokal und Backend\r\n  const toggleMode = () => {\r\n    const newMode = !localMode;\r\n    setLocalMode(newMode);\r\n    \r\n    if (newMode) {\r\n      setBackendStatus('Lokaler Modus (manuell aktiviert)');\r\n      loadLocalData();\r\n    } else {\r\n      checkBackendConnection();\r\n      loadAllData();\r\n    }\r\n    \r\n    showNotification(\r\n      newMode \r\n        ? \"Lokaler Modus aktiviert - Änderungen werden nur lokal gespeichert\" \r\n        : \"Backend-Modus aktiviert - Verbindung zum Server wird hergestellt\",\r\n      \"info\"\r\n    );\r\n  };\r\n\r\n  // Render-Funktion für Formularsicht\r\n  if (showForm) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ py: 4, position: 'relative', overflow: 'visible' }}>\r\n        <Box sx={{ mb: 4, display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n          {/* Status-Banner */}\r\n          {localMode && (\r\n            <Alert severity=\"info\" sx={{ mb: 1 }}>\r\n              <strong>Lokaler Modus aktiv</strong> - Buchungen werden nur im Browser gespeichert und gehen beim Schließen verloren.\r\n              <Button \r\n                size=\"small\" \r\n                variant=\"outlined\" \r\n                onClick={toggleMode} \r\n                sx={{ ml: 2 }}\r\n                disabled={loading}\r\n              >\r\n                Versuche Backend-Verbindung\r\n              </Button>\r\n            </Alert>\r\n          )}\r\n          \r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Button \r\n              variant=\"outlined\" \r\n              onClick={() => setShowForm(false)}\r\n              sx={{ mb: 2 }}\r\n            >\r\n              Zurück zur Übersicht\r\n            </Button>\r\n            \r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Status: {backendStatus}\r\n            </Typography>\r\n          </Box>\r\n          \r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n            {editingId ? 'Buchung bearbeiten' : 'Neue Buchung erstellen'}\r\n          </Typography>\r\n        </Box>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Card elevation={3}>\r\n          <CardContent>\r\n            <Box component=\"form\" onSubmit={handleSubmit} noValidate>\r\n              <Grid container spacing={2}>\r\n                {/* Fahrzeugauswahl */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"vehicle_id\">\r\n                      Fahrzeug *\r\n                    </label>\r\n                    <select\r\n                      id=\"vehicle_id\"\r\n                      name=\"vehicle_id\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.vehicle_id}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    >\r\n                      <option value=\"\" disabled>Bitte wählen</option>\r\n                      {loadingVehicles ? (\r\n                        <option value=\"\" disabled>Fahrzeuge werden geladen...</option>\r\n                      ) : vehicles.length > 0 ? (\r\n                        vehicles.map(vehicle => (\r\n                          <option key={vehicle.id} value={vehicle.id}>\r\n                            {vehicle.displayName}\r\n                          </option>\r\n                        ))\r\n                      ) : (\r\n                        <option value=\"\" disabled>Keine Fahrzeuge verfügbar</option>\r\n                      )}\r\n                    </select>\r\n                    {formErrors.vehicle_id && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.vehicle_id}\r\n                      </p>\r\n                    )}\r\n                    {!loadingVehicles && vehicles.length === 0 && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        Keine Fahrzeuge gefunden. Bitte fügen Sie zuerst Fahrzeuge hinzu.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Mitarbeiter */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"employee_name\">\r\n                      Mitarbeiter *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"employee_name\"\r\n                      name=\"employee_name\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.employee_name}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    {formErrors.employee_name && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.employee_name}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Abteilung */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"department\">\r\n                      Abteilung/Kostenstelle\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"department\"\r\n                      name=\"department\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.department}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Zweck */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"purpose\">\r\n                      Verwendungszweck *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"purpose\"\r\n                      name=\"purpose\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.purpose}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    {formErrors.purpose && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.purpose}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Startdatum */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"start_date\">\r\n                      Startdatum *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"start_date\"\r\n                      name=\"start_date\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.start_date.format('YYYY-MM-DD')}\r\n                      onChange={(e) => {\r\n                        const newDate = dayjs(e.target.value);\r\n                        if(newDate.isValid()) {\r\n                          // Behalte die Uhrzeit bei, ändere nur das Datum\r\n                          const newDateTime = formData.start_date\r\n                            .year(newDate.year())\r\n                            .month(newDate.month())\r\n                            .date(newDate.date());\r\n                          handleDateChange('start_date', newDateTime);\r\n                        }\r\n                      }}\r\n                      required\r\n                    />\r\n                    {formErrors.start_date && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.start_date}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Startzeit */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"start_time\">\r\n                      Startzeit\r\n                    </label>\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"start_time\"\r\n                      name=\"start_time\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.start_date.format('HH:mm')}\r\n                      onChange={(e) => {\r\n                        const [hours, minutes] = e.target.value.split(':').map(Number);\r\n                        const newDateTime = formData.start_date\r\n                          .hour(hours)\r\n                          .minute(minutes)\r\n                          .second(0);\r\n                        handleDateChange('start_date', newDateTime);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Enddatum */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"end_date\">\r\n                      Enddatum *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"end_date\"\r\n                      name=\"end_date\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.end_date.format('YYYY-MM-DD')}\r\n                      onChange={(e) => {\r\n                        const newDate = dayjs(e.target.value);\r\n                        if(newDate.isValid()) {\r\n                          // Behalte die Uhrzeit bei, ändere nur das Datum\r\n                          const newDateTime = formData.end_date\r\n                            .year(newDate.year())\r\n                            .month(newDate.month())\r\n                            .date(newDate.date());\r\n                          handleDateChange('end_date', newDateTime);\r\n                        }\r\n                      }}\r\n                      required\r\n                    />\r\n                    {formErrors.end_date && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.end_date}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Endzeit */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"end_time\">\r\n                      Endzeit\r\n                    </label>\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"end_time\"\r\n                      name=\"end_time\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.end_date.format('HH:mm')}\r\n                      onChange={(e) => {\r\n                        const [hours, minutes] = e.target.value.split(':').map(Number);\r\n                        const newDateTime = formData.end_date\r\n                          .hour(hours)\r\n                          .minute(minutes)\r\n                          .second(0);\r\n                        handleDateChange('end_date', newDateTime);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Status */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"status\">\r\n                      Status\r\n                    </label>\r\n                    <select\r\n                      id=\"status\"\r\n                      name=\"status\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.status}\r\n                      onChange={handleInputChange}\r\n                    >\r\n                      <option value=\"Reserviert\">Reserviert</option>\r\n                      <option value=\"Ausgegeben\">Ausgegeben</option>\r\n                      <option value=\"Zurückgegeben\">Zurückgegeben</option>\r\n                    </select>\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Notizen */}\r\n                <Grid item xs={12}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"notes\">\r\n                      Notizen\r\n                    </label>\r\n                    <textarea\r\n                      id=\"notes\"\r\n                      name=\"notes\"\r\n                      rows=\"3\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.notes}\r\n                      onChange={handleInputChange}\r\n                    ></textarea>\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Buttons */}\r\n                <Grid item xs={12}>\r\n                  <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={resetForm}\r\n                      disabled={loading}\r\n                      className=\"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                    >\r\n                      Abbrechen\r\n                    </button>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Wird gespeichert...' : editingId ? 'Aktualisieren' : 'Buchung erstellen'}\r\n                    </Button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        loadVehicles();\r\n                        loadBackendBookings();\r\n                      }}\r\n                      disabled={loading}\r\n                      className=\"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                    >\r\n                      Daten aktualisieren\r\n                    </button>\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Render-Funktion für Listenansicht\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4, position: 'relative', overflow: 'visible' }}>\r\n      {/* Status-Banner */}\r\n      {localMode && (\r\n        <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n          <strong>Lokaler Modus aktiv</strong> - Buchungen werden nur im Browser gespeichert und gehen beim Schließen verloren.\r\n          <Button \r\n            size=\"small\" \r\n            variant=\"outlined\" \r\n            onClick={toggleMode} \r\n            sx={{ ml: 2 }}\r\n            disabled={loading}\r\n          >\r\n            Versuche Backend-Verbindung\r\n          </Button>\r\n        </Alert>\r\n      )}\r\n      \r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\">\r\n            Buchungsverwaltung\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n            Status: {backendStatus}\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Stack direction=\"row\" spacing={2}>\r\n          {!localMode && (\r\n            <Button \r\n              variant=\"outlined\" \r\n              onClick={toggleMode}\r\n              disabled={loading}\r\n            >\r\n              Zu Offline-Modus wechseln\r\n            </Button>\r\n          )}\r\n          <Button \r\n            variant=\"outlined\" \r\n            onClick={loadAllData}\r\n            disabled={loading}\r\n          >\r\n            Aktualisieren\r\n          </Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            color=\"primary\" \r\n            onClick={() => {\r\n              setEditingId(null);\r\n              setShowForm(true);\r\n            }}\r\n            disabled={loading}\r\n          >\r\n            Neue Buchung\r\n          </Button>\r\n        </Stack>\r\n      </Box>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {loading ? (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : bookings.length === 0 ? (\r\n        <Paper sx={{ p: 4, textAlign: 'center' }}>\r\n          <Typography variant=\"body1\" color=\"text.secondary\" gutterBottom>\r\n            Keine Buchungen vorhanden\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              setEditingId(null);\r\n              setShowForm(true);\r\n            }}\r\n            sx={{ mt: 2 }}\r\n            disabled={loading}\r\n          >\r\n            Erste Buchung erstellen\r\n          </Button>\r\n        </Paper>\r\n      ) : (\r\n        <Paper elevation={3} sx={{ overflowX: 'auto' }}>\r\n          <Table>\r\n            <TableHead sx={{ backgroundColor: '#f5f5f5' }}>\r\n              <TableRow>\r\n                <TableCell><Typography variant=\"subtitle2\">Fahrzeug</Typography></TableCell>\r\n                <TableCell><Typography variant=\"subtitle2\">Zeitraum</Typography></TableCell>\r\n                <TableCell><Typography variant=\"subtitle2\">Mitarbeiter</Typography></TableCell>\r\n                <TableCell><Typography variant=\"subtitle2\">Zweck</Typography></TableCell>\r\n                <TableCell><Typography variant=\"subtitle2\">Status</Typography></TableCell>\r\n                <TableCell align=\"right\"><Typography variant=\"subtitle2\">Aktionen</Typography></TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {bookings.map((booking) => (\r\n                <TableRow \r\n                  key={booking.id} \r\n                  hover\r\n                  sx={booking.id.toString().startsWith('local-') ? { backgroundColor: '#fff8e1' } : {}}\r\n                >\r\n                  <TableCell>\r\n                    <Typography variant=\"body2\">\r\n                      {booking.vehicle_name || 'Unbekanntes Fahrzeug'}\r\n                    </Typography>\r\n                    {booking.id.toString().startsWith('local-') && (\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        (Lokal gespeichert)\r\n                      </Typography>\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography variant=\"body2\">\r\n                      {booking.start_date.format('DD.MM.YYYY HH:mm')}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      bis {booking.end_date.format('DD.MM.YYYY HH:mm')}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography variant=\"body2\">\r\n                      {booking.employee_name || 'Nicht angegeben'}\r\n                    </Typography>\r\n                    {booking.department && (\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        {booking.department}\r\n                      </Typography>\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography variant=\"body2\">\r\n                      {booking.purpose || 'Kein Zweck angegeben'}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Chip \r\n                      label={booking.status || 'Unbekannt'} \r\n                      size=\"small\"\r\n                      color={booking.status === 'Reserviert' ? 'warning' : \r\n                             booking.status === 'Ausgegeben' ? 'success' : 'info'}\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <IconButton \r\n                      size=\"small\" \r\n                      color=\"primary\" \r\n                      onClick={() => handleEdit(booking)}\r\n                      title=\"Bearbeiten\"\r\n                    >\r\n                      E\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\" \r\n                      color=\"error\" \r\n                      onClick={() => handleDelete(booking.id)}\r\n                      title=\"Löschen\"\r\n                    >\r\n                      X\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Benachrichtigungen */}\r\n      <Snackbar \r\n        open={showAlert} \r\n        autoHideDuration={6000} \r\n        onClose={() => setShowAlert(false)}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n        sx={{ zIndex: 10000 }}\r\n      >\r\n        <Alert onClose={() => setShowAlert(false)} severity={alertSeverity} sx={{ width: '100%' }}>\r\n          {alertMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Bookings; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}