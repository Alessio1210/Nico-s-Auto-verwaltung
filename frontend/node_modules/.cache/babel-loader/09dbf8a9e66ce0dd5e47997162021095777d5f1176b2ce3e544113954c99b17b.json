{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\Frontend\\\\src\\\\components\\\\Bookings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/de';\nimport { Container, Box, Paper, Grid, Typography, Divider, CircularProgress, Snackbar, Alert, Table, TableHead, TableBody, TableRow, TableCell, Button, Stack, Card, CardContent, Chip, IconButton, Tabs, Tab } from '@mui/material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndayjs.locale('de');\n\n// Backend-URL - direkt angepasst\nconst API_URL = 'http://localhost:5000';\n\n// Fallback-Fahrzeuge, falls Backend nicht erreichbar\nconst FALLBACK_VEHICLES = [{\n  id: '1',\n  modell: 'VW Golf',\n  kennzeichen: 'ERB-AB 123',\n  displayName: 'VW Golf / ERB-AB 123'\n}, {\n  id: '2',\n  modell: 'Audi A5',\n  kennzeichen: 'ERB-CD 456',\n  displayName: 'Audi A5 / ERB-CD 456'\n}, {\n  id: '3',\n  modell: 'McLaren 540c',\n  kennzeichen: 'ERB-RM 229',\n  displayName: 'McLaren 540c / ERB-RM 229'\n}];\n\n// Lokalen Speicher verwalten\nconst getLocalBookings = () => {\n  try {\n    const saved = localStorage.getItem('localBookings');\n    if (saved) {\n      return JSON.parse(saved);\n    }\n  } catch (err) {\n    console.error(\"Fehler beim Lesen lokaler Buchungen:\", err);\n  }\n\n  // Standard-Buchung, falls keine gespeichert sind\n  return [{\n    id: 'local-1',\n    vehicle_id: '3',\n    vehicle_name: 'McLaren 540c / ERB-RM 229',\n    employee_name: 'Max Mustermann',\n    department: 'Vertrieb',\n    purpose: 'Kundenbesuch',\n    start_date: new Date(Date.now() - 86400000).toISOString(),\n    // Gestern\n    end_date: new Date(Date.now() + 172800000).toISOString(),\n    // In 2 Tagen\n    status: 'Reserviert',\n    notes: 'Demo-Buchung (lokal gespeichert)'\n  }];\n};\n\n// Lokale Buchungen speichern\nconst saveLocalBookings = bookings => {\n  try {\n    localStorage.setItem('localBookings', JSON.stringify(bookings));\n  } catch (err) {\n    console.error(\"Fehler beim Speichern lokaler Buchungen:\", err);\n  }\n};\nfunction Bookings({\n  isUserView = false\n}) {\n  _s();\n  // Zustandsvariablen\n  const [loading, setLoading] = useState(true);\n  const [loadingVehicles, setLoadingVehicles] = useState(true);\n  const [vehicles, setVehicles] = useState([]);\n  const [bookings, setBookings] = useState([]);\n  const [error, setError] = useState('');\n  const [backendStatus, setBackendStatus] = useState('Verbindung wird geprüft...');\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [alertSeverity, setAlertSeverity] = useState('info');\n  const [localMode, setLocalMode] = useState(true); // Standardmäßig lokalen Modus verwenden\n  const [showForm, setShowForm] = useState(false);\n\n  // Formular-Zustand\n  const [formData, setFormData] = useState({\n    vehicle_id: '',\n    employee_name: '',\n    department: '',\n    purpose: '',\n    start_date: dayjs(),\n    end_date: dayjs().add(1, 'day'),\n    status: 'Reserviert',\n    notes: ''\n  });\n\n  // Formularvalidierung\n  const [formErrors, setFormErrors] = useState({});\n\n  // Bearbeitung\n  const [editingId, setEditingId] = useState(null);\n\n  // State für lokale Buchungen\n  const [localBookings, setLocalBookings] = useState(getLocalBookings());\n\n  // Neue State-Variable für den aktiven Tab\n  const [activeTab, setActiveTab] = useState(0); // 0 = Buchungen, 1 = Anfragen\n\n  // Dummy-Daten für Anfragen\n  const [requests, setRequests] = useState([{\n    id: 1,\n    userId: 101,\n    userName: 'Max Mustermann',\n    userDepartment: 'IT',\n    vehicleId: 1,\n    vehicleModel: 'BMW M1',\n    vehicleLicensePlate: 'M-BW 1234',\n    startDateTime: '2025-03-15T08:00:00',\n    endDateTime: '2025-03-15T17:00:00',\n    purpose: 'Kundenbesuch in Stuttgart',\n    destination: 'Stuttgart',\n    status: 'pending',\n    requestDate: '2025-03-01T10:30:00'\n  }, {\n    id: 2,\n    userId: 102,\n    userName: 'Anna Schmidt',\n    userDepartment: 'Marketing',\n    vehicleId: 2,\n    vehicleModel: 'VW Polo',\n    vehicleLicensePlate: 'M-VW 5678',\n    startDateTime: '2025-03-20T09:00:00',\n    endDateTime: '2025-03-20T16:00:00',\n    purpose: 'Messe-Besuch',\n    destination: 'München',\n    status: 'approved',\n    requestDate: '2025-03-02T14:15:00'\n  }, {\n    id: 3,\n    userId: 104,\n    userName: 'Laura Müller',\n    userDepartment: 'Produktion',\n    vehicleId: 4,\n    vehicleModel: 'Mercedes GLE',\n    vehicleLicensePlate: 'M-MB 3456',\n    startDateTime: '2025-03-25T10:00:00',\n    endDateTime: '2025-03-25T18:30:00',\n    purpose: 'Transport von Materialien',\n    destination: 'Augsburg',\n    status: 'pending',\n    requestDate: '2025-03-05T08:10:00'\n  }]);\n\n  // Hilfsfunktion zur Formatierung von Datum/Zeit für die Anfragen\n  const formatDateTime = dateTimeString => {\n    const date = new Date(dateTimeString);\n    return date.toLocaleString('de-DE', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Tab-Wechsel-Handler\n  const handleTabChange = (event, newValue) => {\n    setActiveTab(newValue);\n  };\n\n  // Laden aller Daten beim Initialisieren der Komponente\n  useEffect(() => {\n    console.log(\"Bookings-Komponente wird initialisiert - Lade Daten\");\n    checkBackendConnection();\n    loadFallbackVehicles(); // Lade sofort Fallback-Daten\n    loadAllData();\n  }, []);\n\n  // Lokale Buchungen speichern, wenn sie sich ändern\n  useEffect(() => {\n    saveLocalBookings(localBookings);\n  }, [localBookings]);\n\n  // Alle Daten laden, je nach Verbindungsstatus\n  const loadAllData = async () => {\n    if (localMode) {\n      loadLocalData();\n    } else {\n      try {\n        await Promise.all([loadVehicles(), loadBackendBookings()]);\n      } catch (err) {\n        console.error(\"Fehler beim Laden der Daten, wechsle in lokalen Modus:\", err);\n        setLocalMode(true);\n        loadLocalData();\n      }\n    }\n  };\n\n  // Lokale Daten laden (schnell und zuverlässig)\n  const loadLocalData = () => {\n    setLoading(true);\n    console.log(\"Lade lokale Daten\");\n\n    // Lade Fahrzeuge\n    setVehicles(FALLBACK_VEHICLES);\n    setLoadingVehicles(false);\n\n    // Lade Buchungen aus localStorage\n    const storedBookings = getLocalBookings();\n\n    // Formatiere die Buchungen für die Anzeige\n    const formattedBookings = storedBookings.map(booking => ({\n      ...booking,\n      start_date: dayjs(booking.start_date),\n      end_date: dayjs(booking.end_date)\n    }));\n    setBookings(formattedBookings);\n    setLoading(false);\n    setBackendStatus('Lokaler Modus (Backend nicht erreichbar)');\n    showNotification(\"Lokaler Modus aktiv - Änderungen werden dauerhaft im Browser gespeichert\", \"info\");\n  };\n\n  // Backend-Verbindung überprüfen\n  const checkBackendConnection = async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/vehicles`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (response.ok) {\n        setBackendStatus('Verbunden');\n        setLocalMode(false);\n        console.log(\"Backend-Verbindung erfolgreich hergestellt\");\n      } else {\n        setBackendStatus(`Fehler: ${response.status} ${response.statusText}`);\n        setLocalMode(true);\n        console.error(\"Backend-Verbindung fehlgeschlagen:\", response.status, response.statusText);\n      }\n    } catch (error) {\n      setBackendStatus('Keine Verbindung');\n      setLocalMode(true);\n      console.error(\"Backend nicht erreichbar:\", error.message);\n      showNotification(\"Backend-Server nicht erreichbar. Lokaler Modus aktiviert.\", \"warning\");\n    }\n  };\n\n  // Fahrzeuge vom Backend laden\n  const loadVehicles = async () => {\n    console.log(\"Versuche Fahrzeuge vom Server zu laden...\");\n    setLoadingVehicles(true);\n    try {\n      const response = await fetch(`${API_URL}/api/vehicles`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        console.warn(`Server-Fehler beim Laden der Fahrzeuge: ${response.status}`);\n        loadFallbackVehicles();\n        return;\n      }\n      const data = await response.json();\n      console.log(\"Server-Fahrzeugdaten:\", data);\n      if (Array.isArray(data) && data.length > 0) {\n        const formattedVehicles = data.map(vehicle => {\n          var _vehicle$id;\n          return {\n            id: ((_vehicle$id = vehicle.id) === null || _vehicle$id === void 0 ? void 0 : _vehicle$id.toString()) || '',\n            modell: vehicle.modell || 'Unbekannt',\n            kennzeichen: vehicle.kennzeichen || 'Unbekannt',\n            displayName: `${vehicle.modell || 'Unbekannt'} / ${vehicle.kennzeichen || 'Unbekannt'}`\n          };\n        });\n        console.log(`${formattedVehicles.length} Fahrzeuge geladen`);\n        setVehicles(formattedVehicles);\n      } else {\n        console.warn(\"Keine Fahrzeuge vom Server erhalten, verwende Fallback-Daten\");\n        loadFallbackVehicles();\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden der Fahrzeuge:\", error);\n      loadFallbackVehicles();\n    } finally {\n      setLoadingVehicles(false);\n    }\n  };\n\n  // Fallback-Fahrzeuge laden wenn Backend nicht verfügbar\n  const loadFallbackVehicles = () => {\n    console.log(\"Verwende Fallback-Fahrzeuge\");\n    setVehicles(FALLBACK_VEHICLES);\n    setLoadingVehicles(false);\n  };\n\n  // Buchungen vom Backend laden\n  const loadBackendBookings = async () => {\n    console.log(\"Versuche Buchungen vom Server zu laden...\");\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_URL}/api/bookings`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        console.warn(`Server-Fehler beim Laden der Buchungen: ${response.status}`);\n        throw new Error(`Server antwortet mit ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(\"Server-Buchungsdaten:\", data);\n      if (Array.isArray(data)) {\n        const formattedBookings = data.map(booking => ({\n          id: booking.id,\n          vehicle_id: booking.vehicle_id,\n          vehicle_name: findVehicleName(booking.vehicle_id),\n          start_date: dayjs(booking.start_date || booking.startzeit),\n          end_date: dayjs(booking.end_date || booking.endzeit),\n          employee_name: booking.mitarbeiter || booking.employee_name || '',\n          department: booking.abteilung || booking.department || '',\n          purpose: booking.zweck || booking.purpose || '',\n          status: booking.status || 'Reserviert',\n          notes: booking.notizen || booking.notes || ''\n        }));\n        console.log(`${formattedBookings.length} Buchungen geladen`);\n        setBookings(formattedBookings);\n      } else {\n        console.warn(\"Keine Buchungen vom Server erhalten oder unerwartetes Format\");\n        throw new Error(\"Unerwartetes Datenformat\");\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden der Buchungen, wechsle in lokalen Modus:\", error);\n      setLocalMode(true);\n      loadLocalData();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Findet den Fahrzeugnamen anhand der ID\n  const findVehicleName = vehicleId => {\n    const vehicle = vehicles.find(v => v.id === vehicleId);\n    return vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\n  };\n\n  // Form Change Handler\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Fehler zurücksetzen wenn Feld geändert wird\n    if (formErrors[name]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n  };\n\n  // Datumsfeld-Handler\n  const handleDateChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Fehler zurücksetzen wenn Feld geändert wird\n    if (formErrors[field]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [field]: null\n      }));\n    }\n  };\n\n  // Formular zurücksetzen\n  const resetForm = () => {\n    setFormData({\n      vehicle_id: '',\n      employee_name: '',\n      department: '',\n      purpose: '',\n      start_date: dayjs(),\n      end_date: dayjs().add(1, 'day'),\n      status: 'Reserviert',\n      notes: ''\n    });\n    setFormErrors({});\n    setEditingId(null);\n  };\n\n  // Formular validieren\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.vehicle_id) {\n      errors.vehicle_id = 'Bitte ein Fahrzeug auswählen';\n    }\n    if (!formData.employee_name) {\n      errors.employee_name = 'Bitte einen Mitarbeiternamen eingeben';\n    }\n    if (!formData.purpose) {\n      errors.purpose = 'Bitte einen Verwendungszweck angeben';\n    }\n    if (!formData.start_date) {\n      errors.start_date = 'Bitte ein Startdatum wählen';\n    }\n    if (!formData.end_date) {\n      errors.end_date = 'Bitte ein Enddatum wählen';\n    } else if (formData.start_date && formData.end_date.isBefore(formData.start_date)) {\n      errors.end_date = 'Das Enddatum muss nach dem Startdatum liegen';\n    }\n    return errors;\n  };\n\n  // Form Submit Handler\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log(\"Formular wird abgesendet mit Daten:\", formData);\n\n    // Formular validieren\n    const errors = validateForm();\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n    setLoading(true);\n    if (localMode) {\n      // Lokale Speicherung\n      handleLocalSave();\n    } else {\n      try {\n        await handleBackendSave();\n      } catch (error) {\n        console.error(\"Backend-Speicherung fehlgeschlagen, verwende lokale Speicherung:\", error);\n        handleLocalSave();\n      }\n    }\n    setLoading(false);\n  };\n\n  // Lokale Speicherung einer Buchung\n  const handleLocalSave = () => {\n    const localId = editingId && editingId.startsWith('local-') ? editingId : `local-${Date.now()}`;\n    const newBooking = {\n      id: localId,\n      vehicle_id: formData.vehicle_id,\n      vehicle_name: findVehicleName(formData.vehicle_id),\n      employee_name: formData.employee_name,\n      department: formData.department,\n      purpose: formData.purpose,\n      start_date: formData.start_date.toISOString(),\n      end_date: formData.end_date.toISOString(),\n      status: formData.status,\n      notes: formData.notes\n    };\n\n    // Aktualisiere die lokalen Buchungen\n    if (editingId && editingId.startsWith('local-')) {\n      // Buchung aktualisieren\n      const updatedBookings = localBookings.map(booking => booking.id === editingId ? newBooking : booking);\n      setLocalBookings(updatedBookings);\n    } else {\n      // Neue Buchung hinzufügen\n      setLocalBookings([...localBookings, newBooking]);\n    }\n\n    // Aktualisiere den Anzeige-State (formatiert)\n    const formattedBookings = [...localBookings, editingId ? null : newBooking].filter(Boolean).map(booking => ({\n      ...booking,\n      start_date: dayjs(booking.start_date),\n      end_date: dayjs(booking.end_date)\n    }));\n    if (editingId) {\n      // Wenn wir bearbeiten, müssen wir die neue Version verwenden\n      const bookingIndex = formattedBookings.findIndex(b => b.id === editingId);\n      if (bookingIndex >= 0) {\n        formattedBookings[bookingIndex] = {\n          ...newBooking,\n          start_date: dayjs(newBooking.start_date),\n          end_date: dayjs(newBooking.end_date)\n        };\n      }\n    }\n    setBookings(formattedBookings);\n    showNotification(editingId ? \"Buchung dauerhaft aktualisiert\" : \"Buchung dauerhaft gespeichert\", \"success\");\n    resetForm();\n  };\n\n  // Backend-Speicherung einer Buchung\n  const handleBackendSave = async () => {\n    // Anpassen der Daten an das Backend-Schema\n    const bookingToSave = {\n      vehicle_id: formData.vehicle_id,\n      startzeit: formData.start_date.toISOString(),\n      endzeit: formData.end_date.toISOString(),\n      status: formData.status || 'Reserviert',\n      zweck: formData.purpose || '',\n      mitarbeiter: formData.employee_name || '',\n      abteilung: formData.department || ''\n    };\n\n    // Buchung speichern\n    const url = editingId && !editingId.startsWith('local-') ? `${API_URL}/api/bookings/${editingId}` : `${API_URL}/api/bookings`;\n    const method = editingId && !editingId.startsWith('local-') ? 'PUT' : 'POST';\n    console.log(`${method}-Anfrage an ${url}`);\n    const response = await fetch(url, {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(bookingToSave)\n    });\n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error(\"Server-Fehler:\", response.status, errorText);\n      throw new Error(`Server-Fehler: ${response.status} ${errorText}`);\n    }\n    const result = await response.json();\n    console.log(\"Server-Antwort:\", result);\n    showNotification(editingId ? \"Buchung aktualisiert\" : \"Neue Buchung erstellt\", \"success\");\n    resetForm();\n    await loadBackendBookings();\n  };\n\n  // Buchung löschen\n  const handleDelete = async id => {\n    if (!window.confirm(\"Möchten Sie diese Buchung wirklich löschen?\")) {\n      return;\n    }\n    setLoading(true);\n\n    // Lokale Buchung löschen\n    if (id.startsWith('local-') || localMode) {\n      console.log(\"Lösche lokale Buchung:\", id);\n      const updatedBookings = localBookings.filter(booking => booking.id !== id);\n      setLocalBookings(updatedBookings);\n\n      // Aktualisiere State\n      const formattedBookings = updatedBookings.map(booking => ({\n        ...booking,\n        start_date: dayjs(booking.start_date),\n        end_date: dayjs(booking.end_date)\n      }));\n      setBookings(formattedBookings);\n      showNotification(\"Buchung dauerhaft gelöscht\", \"success\");\n      setLoading(false);\n      return;\n    }\n\n    // Backend-Buchung löschen\n    try {\n      console.log(`DELETE ${API_URL}/api/bookings/${id}`);\n      const response = await fetch(`${API_URL}/api/bookings/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Fehler beim Löschen der Buchung: ${response.status} - ${errorText}`);\n      }\n      showNotification(\"Buchung erfolgreich gelöscht\", \"success\");\n      await loadBackendBookings();\n    } catch (error) {\n      console.error(\"Fehler beim Löschen der Buchung:\", error);\n      showNotification(`Fehler beim Löschen der Buchung: ${error.message}`, \"error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Buchung bearbeiten\n  const handleEdit = booking => {\n    console.log(\"Bearbeite Buchung:\", booking);\n    setEditingId(booking.id);\n    setFormData({\n      vehicle_id: booking.vehicle_id || '',\n      employee_name: booking.employee_name || '',\n      department: booking.department || '',\n      purpose: booking.purpose || '',\n      start_date: dayjs(booking.start_date),\n      end_date: dayjs(booking.end_date),\n      status: booking.status || 'Reserviert',\n      notes: booking.notes || ''\n    });\n    setShowForm(true);\n  };\n\n  // Benachrichtigung anzeigen\n  const showNotification = (message, severity = 'info') => {\n    setAlertMessage(message);\n    setAlertSeverity(severity);\n    setShowAlert(true);\n  };\n\n  // Modus wechseln zwischen lokal und Backend\n  const toggleMode = () => {\n    const newMode = !localMode;\n    setLocalMode(newMode);\n    if (newMode) {\n      setBackendStatus('Lokaler Modus (manuell aktiviert)');\n      loadLocalData();\n    } else {\n      checkBackendConnection();\n      loadAllData();\n    }\n    showNotification(newMode ? \"Lokaler Modus aktiviert - Änderungen werden dauerhaft im Browser gespeichert\" : \"Backend-Modus aktiviert - Verbindung zum Server wird hergestellt\", \"info\");\n  };\n\n  // Funktion zum Rendern der Anfragen-Liste\n  const renderRequestsTab = () => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Fahrzeuganfragen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Benutzer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Fahrzeug\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Zeitraum\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Zweck\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Aktionen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: requests.map(request => /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: request.userName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 686,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"textSecondary\",\n                    children: request.userDepartment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 687,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: request.vehicleModel\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 692,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"textSecondary\",\n                    children: request.vehicleLicensePlate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: formatDateTime(request.startDateTime)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 698,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"textSecondary\",\n                    children: [\"bis \", formatDateTime(request.endDateTime)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 699,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: request.purpose\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"textSecondary\",\n                    children: request.destination\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Chip, {\n                  label: request.status === 'pending' ? 'Ausstehend' : request.status === 'approved' ? 'Genehmigt' : request.status === 'rejected' ? 'Abgelehnt' : 'Unbekannt',\n                  color: request.status === 'pending' ? 'warning' : request.status === 'approved' ? 'success' : request.status === 'rejected' ? 'error' : 'default',\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: \"row\",\n                  spacing: 1,\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outlined\",\n                    size: \"small\",\n                    color: \"primary\",\n                    onClick: () => {\n                      // In einer echten Anwendung: Details anzeigen\n                      console.log(\"Details für Anfrage:\", request.id);\n                    },\n                    children: \"Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 23\n                  }, this), request.status === 'pending' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outlined\",\n                      size: \"small\",\n                      color: \"success\",\n                      onClick: () => {\n                        // In einer echten Anwendung: Anfrage genehmigen\n                        setRequests(requests.map(req => req.id === request.id ? {\n                          ...req,\n                          status: 'approved'\n                        } : req));\n                      },\n                      children: \"Genehmigen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 738,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outlined\",\n                      size: \"small\",\n                      color: \"error\",\n                      onClick: () => {\n                        // In einer echten Anwendung: Anfrage ablehnen\n                        setRequests(requests.map(req => req.id === request.id ? {\n                          ...req,\n                          status: 'rejected'\n                        } : req));\n                      },\n                      children: \"Ablehnen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 751,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 724,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 19\n              }, this)]\n            }, request.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render-Funktion für Formularsicht\n  if (showForm) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        py: 4,\n        position: 'relative',\n        overflow: 'visible'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 4,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2\n        },\n        children: [localMode && backendStatus !== 'Verbunden' && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Hinweis:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 15\n          }, this), \" Buchungen werden im Browser gespeichert, da das Backend nicht erreichbar ist.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: () => setShowForm(false),\n            sx: {\n              mb: 2\n            },\n            children: \"Zur\\xFCck zur \\xDCbersicht\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          children: editingId ? 'Buchung bearbeiten' : 'Neue Buchung erstellen'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 3\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        elevation: 3,\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmit,\n            noValidate: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"vehicle_id\",\n                    children: \"Fahrzeug *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 817,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"vehicle_id\",\n                    name: \"vehicle_id\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.vehicle_id,\n                    onChange: handleInputChange,\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Bitte w\\xE4hlen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 828,\n                      columnNumber: 23\n                    }, this), loadingVehicles ? /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Fahrzeuge werden geladen...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 830,\n                      columnNumber: 25\n                    }, this) : vehicles.length > 0 ? vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: vehicle.id,\n                      children: vehicle.displayName\n                    }, vehicle.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 833,\n                      columnNumber: 27\n                    }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Keine Fahrzeuge verf\\xFCgbar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 820,\n                    columnNumber: 21\n                  }, this), formErrors.vehicle_id && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.vehicle_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 842,\n                    columnNumber: 23\n                  }, this), !loadingVehicles && vehicles.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: \"Keine Fahrzeuge gefunden. Bitte f\\xFCgen Sie zuerst Fahrzeuge hinzu.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 847,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"employee_name\",\n                    children: \"Mitarbeiter *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"employee_name\",\n                    name: \"employee_name\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.employee_name,\n                    onChange: handleInputChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 860,\n                    columnNumber: 21\n                  }, this), formErrors.employee_name && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.employee_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 870,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"department\",\n                    children: \"Abteilung/Kostenstelle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"department\",\n                    name: \"department\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.department,\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 883,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"purpose\",\n                    children: \"Verwendungszweck *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 897,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"purpose\",\n                    name: \"purpose\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.purpose,\n                    onChange: handleInputChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 900,\n                    columnNumber: 21\n                  }, this), formErrors.purpose && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.purpose\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 910,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 896,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"start_date\",\n                    children: \"Startdatum *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 920,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"start_date\",\n                    name: \"start_date\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.start_date.format('YYYY-MM-DD'),\n                    onChange: e => {\n                      const newDate = dayjs(e.target.value);\n                      if (newDate.isValid()) {\n                        // Behalte die Uhrzeit bei, ändere nur das Datum\n                        const newDateTime = formData.start_date.year(newDate.year()).month(newDate.month()).date(newDate.date());\n                        handleDateChange('start_date', newDateTime);\n                      }\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 923,\n                    columnNumber: 21\n                  }, this), formErrors.start_date && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.start_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 943,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 919,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 918,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"start_time\",\n                    children: \"Startzeit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 953,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    id: \"start_time\",\n                    name: \"start_time\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.start_date.format('HH:mm'),\n                    onChange: e => {\n                      const [hours, minutes] = e.target.value.split(':').map(Number);\n                      const newDateTime = formData.start_date.hour(hours).minute(minutes).second(0);\n                      handleDateChange('start_date', newDateTime);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 956,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"end_date\",\n                    children: \"Enddatum *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 977,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"end_date\",\n                    name: \"end_date\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.end_date.format('YYYY-MM-DD'),\n                    onChange: e => {\n                      const newDate = dayjs(e.target.value);\n                      if (newDate.isValid()) {\n                        // Behalte die Uhrzeit bei, ändere nur das Datum\n                        const newDateTime = formData.end_date.year(newDate.year()).month(newDate.month()).date(newDate.date());\n                        handleDateChange('end_date', newDateTime);\n                      }\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 980,\n                    columnNumber: 21\n                  }, this), formErrors.end_date && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.end_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1000,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 976,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 975,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"end_time\",\n                    children: \"Endzeit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1010,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    id: \"end_time\",\n                    name: \"end_time\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.end_date.format('HH:mm'),\n                    onChange: e => {\n                      const [hours, minutes] = e.target.value.split(':').map(Number);\n                      const newDateTime = formData.end_date.hour(hours).minute(minutes).second(0);\n                      handleDateChange('end_date', newDateTime);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1013,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1009,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"status\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1034,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"status\",\n                    name: \"status\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.status,\n                    onChange: handleInputChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Reserviert\",\n                      children: \"Reserviert\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1044,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Ausgegeben\",\n                      children: \"Ausgegeben\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1045,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Zur\\xFCckgegeben\",\n                      children: \"Zur\\xFCckgegeben\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1046,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1037,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1033,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"notes\",\n                    children: \"Notizen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1054,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"notes\",\n                    name: \"notes\",\n                    rows: \"3\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.notes,\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1057,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1053,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1052,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    type: \"button\",\n                    onClick: resetForm,\n                    disabled: loading,\n                    variant: \"outlined\",\n                    sx: {\n                      mr: 2\n                    },\n                    children: \"Abbrechen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1071,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    variant: \"contained\",\n                    color: \"primary\",\n                    disabled: loading,\n                    children: loading ? 'Wird gespeichert...' : editingId ? 'Aktualisieren' : 'Buchung erstellen'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1080,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1070,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1069,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Render-Funktion für Listenansicht\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xl\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      my: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: isUserView ? \"Meine Buchungen\" : \"Buchungsverwaltung\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 9\n      }, this), !isUserView && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          borderBottom: 1,\n          borderColor: 'divider',\n          mb: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: activeTab,\n          onChange: handleTabChange,\n          \"aria-label\": \"buchungs-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Buchungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Anfragen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1107,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        my: 4,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1116,\n        columnNumber: 11\n      }, this) : activeTab === 0 ? /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"lg\",\n        sx: {\n          py: 4,\n          position: 'relative',\n          overflow: 'visible'\n        },\n        children: [localMode && backendStatus !== 'Verbunden' && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Hinweis:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 17\n          }, this), \" Buchungen werden im Browser gespeichert, da das Backend nicht erreichbar ist.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1123,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            mb: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              component: \"h1\",\n              children: \"Buchungsverwaltung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1130,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: () => {\n              setEditingId(null);\n              setShowForm(true);\n            },\n            disabled: loading,\n            children: \"Neue Buchung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1128,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            mb: 3\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 15\n        }, this), bookings.length === 0 ? /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 4,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            color: \"text.secondary\",\n            gutterBottom: true,\n            children: \"Keine Buchungen vorhanden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1156,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: () => {\n              setEditingId(null);\n              setShowForm(true);\n            },\n            sx: {\n              mt: 2\n            },\n            disabled: loading,\n            children: \"Erste Buchung erstellen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1155,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            overflowX: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              sx: {\n                backgroundColor: '#f5f5f5'\n              },\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: \"Fahrzeug\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1177,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1177,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: \"Zeitraum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1178,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1178,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: \"Mitarbeiter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1179,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1179,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: \"Zweck\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1180,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1180,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1181,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1181,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: \"Aktionen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1182,\n                    columnNumber: 48\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1182,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1176,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1175,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: bookings.map(booking => /*#__PURE__*/_jsxDEV(TableRow, {\n                hover: true,\n                sx: booking.id.toString().startsWith('local-') ? {\n                  backgroundColor: '#fff8e1'\n                } : {},\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: booking.vehicle_name || 'Unbekanntes Fahrzeug'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1193,\n                    columnNumber: 27\n                  }, this), booking.id.toString().startsWith('local-') && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    children: \"(Lokal gespeichert)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1197,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1192,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: booking.start_date.format('DD.MM.YYYY HH:mm')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1203,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [\"bis \", booking.end_date.format('DD.MM.YYYY HH:mm')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1206,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1202,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: booking.employee_name || 'Nicht angegeben'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1211,\n                    columnNumber: 27\n                  }, this), booking.department && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: booking.department\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1215,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1210,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: booking.purpose || 'Kein Zweck angegeben'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1221,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1220,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Chip, {\n                    label: booking.status || 'Unbekannt',\n                    size: \"small\",\n                    color: booking.status === 'Reserviert' ? 'warning' : booking.status === 'Ausgegeben' ? 'success' : 'info',\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1226,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1225,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                    size: \"small\",\n                    color: \"primary\",\n                    onClick: () => handleEdit(booking),\n                    title: \"Bearbeiten\",\n                    children: \"E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1235,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                    size: \"small\",\n                    color: \"error\",\n                    onClick: () => handleDelete(booking.id),\n                    title: \"L\\xF6schen\",\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1243,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1234,\n                  columnNumber: 25\n                }, this)]\n              }, booking.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1187,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1185,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1173,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1120,\n        columnNumber: 11\n      }, this) :\n      // Tab für Anfragen\n      renderRequestsTab(), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: showAlert,\n        autoHideDuration: 6000,\n        onClose: () => setShowAlert(false),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: () => setShowAlert(false),\n          severity: alertSeverity,\n          sx: {\n            width: '100%'\n          },\n          children: alertMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1270,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1100,\n    columnNumber: 5\n  }, this);\n}\n_s(Bookings, \"dRnaMzq0RniVzwpAsEuao1DRltk=\");\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["React","useState","useEffect","dayjs","Container","Box","Paper","Grid","Typography","Divider","CircularProgress","Snackbar","Alert","Table","TableHead","TableBody","TableRow","TableCell","Button","Stack","Card","CardContent","Chip","IconButton","Tabs","Tab","jsxDEV","_jsxDEV","Fragment","_Fragment","locale","API_URL","FALLBACK_VEHICLES","id","modell","kennzeichen","displayName","getLocalBookings","saved","localStorage","getItem","JSON","parse","err","console","error","vehicle_id","vehicle_name","employee_name","department","purpose","start_date","Date","now","toISOString","end_date","status","notes","saveLocalBookings","bookings","setItem","stringify","Bookings","isUserView","_s","loading","setLoading","loadingVehicles","setLoadingVehicles","vehicles","setVehicles","setBookings","setError","backendStatus","setBackendStatus","showAlert","setShowAlert","alertMessage","setAlertMessage","alertSeverity","setAlertSeverity","localMode","setLocalMode","showForm","setShowForm","formData","setFormData","add","formErrors","setFormErrors","editingId","setEditingId","localBookings","setLocalBookings","activeTab","setActiveTab","requests","setRequests","userId","userName","userDepartment","vehicleId","vehicleModel","vehicleLicensePlate","startDateTime","endDateTime","destination","requestDate","formatDateTime","dateTimeString","date","toLocaleString","day","month","year","hour","minute","handleTabChange","event","newValue","log","checkBackendConnection","loadFallbackVehicles","loadAllData","loadLocalData","Promise","all","loadVehicles","loadBackendBookings","storedBookings","formattedBookings","map","booking","showNotification","response","fetch","method","headers","mode","cache","ok","statusText","message","warn","data","json","Array","isArray","length","formattedVehicles","vehicle","_vehicle$id","toString","Error","findVehicleName","startzeit","endzeit","mitarbeiter","abteilung","zweck","notizen","find","v","handleInputChange","e","name","value","target","prev","handleDateChange","field","resetForm","validateForm","errors","isBefore","handleSubmit","preventDefault","Object","keys","handleLocalSave","handleBackendSave","localId","startsWith","newBooking","updatedBookings","filter","Boolean","bookingIndex","findIndex","b","bookingToSave","url","body","errorText","text","result","handleDelete","window","confirm","handleEdit","severity","toggleMode","newMode","renderRequestsTab","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","request","hover","color","label","size","direction","spacing","onClick","req","maxWidth","sx","py","position","overflow","mb","display","flexDirection","gap","justifyContent","alignItems","component","elevation","onSubmit","noValidate","container","item","xs","sm","className","htmlFor","onChange","required","disabled","type","format","newDate","isValid","newDateTime","hours","minutes","split","Number","second","rows","mr","my","borderBottom","borderColor","p","textAlign","mt","overflowX","backgroundColor","align","title","open","autoHideDuration","onClose","width","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/Frontend/src/components/Bookings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/de';\r\nimport { \r\n  Container, Box, Paper, Grid, Typography, \r\n  Divider, CircularProgress, Snackbar, Alert, \r\n  Table, TableHead, TableBody, TableRow, TableCell, \r\n  Button, Stack, Card, CardContent, Chip, IconButton,\r\n  Tabs, Tab\r\n} from '@mui/material';\r\n\r\ndayjs.locale('de');\r\n\r\n// Backend-URL - direkt angepasst\r\nconst API_URL = 'http://localhost:5000';\r\n\r\n// Fallback-Fahrzeuge, falls Backend nicht erreichbar\r\nconst FALLBACK_VEHICLES = [\r\n  { id: '1', modell: 'VW Golf', kennzeichen: 'ERB-AB 123', displayName: 'VW Golf / ERB-AB 123' },\r\n  { id: '2', modell: 'Audi A5', kennzeichen: 'ERB-CD 456', displayName: 'Audi A5 / ERB-CD 456' },\r\n  { id: '3', modell: 'McLaren 540c', kennzeichen: 'ERB-RM 229', displayName: 'McLaren 540c / ERB-RM 229' }\r\n];\r\n\r\n// Lokalen Speicher verwalten\r\nconst getLocalBookings = () => {\r\n  try {\r\n    const saved = localStorage.getItem('localBookings');\r\n    if (saved) {\r\n      return JSON.parse(saved);\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Fehler beim Lesen lokaler Buchungen:\", err);\r\n  }\r\n  \r\n  // Standard-Buchung, falls keine gespeichert sind\r\n  return [\r\n    {\r\n      id: 'local-1',\r\n      vehicle_id: '3',\r\n      vehicle_name: 'McLaren 540c / ERB-RM 229',\r\n      employee_name: 'Max Mustermann',\r\n      department: 'Vertrieb',\r\n      purpose: 'Kundenbesuch',\r\n      start_date: new Date(Date.now() - 86400000).toISOString(), // Gestern\r\n      end_date: new Date(Date.now() + 172800000).toISOString(),  // In 2 Tagen\r\n      status: 'Reserviert',\r\n      notes: 'Demo-Buchung (lokal gespeichert)'\r\n    }\r\n  ];\r\n};\r\n\r\n// Lokale Buchungen speichern\r\nconst saveLocalBookings = (bookings) => {\r\n  try {\r\n    localStorage.setItem('localBookings', JSON.stringify(bookings));\r\n  } catch (err) {\r\n    console.error(\"Fehler beim Speichern lokaler Buchungen:\", err);\r\n  }\r\n};\r\n\r\nfunction Bookings({ isUserView = false }) {\r\n  // Zustandsvariablen\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingVehicles, setLoadingVehicles] = useState(true);\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [backendStatus, setBackendStatus] = useState('Verbindung wird geprüft...');\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const [alertSeverity, setAlertSeverity] = useState('info');\r\n  const [localMode, setLocalMode] = useState(true); // Standardmäßig lokalen Modus verwenden\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  // Formular-Zustand\r\n  const [formData, setFormData] = useState({\r\n    vehicle_id: '',\r\n    employee_name: '',\r\n    department: '',\r\n    purpose: '',\r\n    start_date: dayjs(),\r\n    end_date: dayjs().add(1, 'day'),\r\n    status: 'Reserviert',\r\n    notes: ''\r\n  });\r\n  \r\n  // Formularvalidierung\r\n  const [formErrors, setFormErrors] = useState({});\r\n  \r\n  // Bearbeitung\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  // State für lokale Buchungen\r\n  const [localBookings, setLocalBookings] = useState(getLocalBookings());\r\n\r\n  // Neue State-Variable für den aktiven Tab\r\n  const [activeTab, setActiveTab] = useState(0); // 0 = Buchungen, 1 = Anfragen\r\n  \r\n  // Dummy-Daten für Anfragen\r\n  const [requests, setRequests] = useState([\r\n    {\r\n      id: 1,\r\n      userId: 101,\r\n      userName: 'Max Mustermann',\r\n      userDepartment: 'IT',\r\n      vehicleId: 1,\r\n      vehicleModel: 'BMW M1',\r\n      vehicleLicensePlate: 'M-BW 1234',\r\n      startDateTime: '2025-03-15T08:00:00',\r\n      endDateTime: '2025-03-15T17:00:00',\r\n      purpose: 'Kundenbesuch in Stuttgart',\r\n      destination: 'Stuttgart',\r\n      status: 'pending',\r\n      requestDate: '2025-03-01T10:30:00'\r\n    },\r\n    {\r\n      id: 2,\r\n      userId: 102,\r\n      userName: 'Anna Schmidt',\r\n      userDepartment: 'Marketing',\r\n      vehicleId: 2,\r\n      vehicleModel: 'VW Polo',\r\n      vehicleLicensePlate: 'M-VW 5678',\r\n      startDateTime: '2025-03-20T09:00:00',\r\n      endDateTime: '2025-03-20T16:00:00',\r\n      purpose: 'Messe-Besuch',\r\n      destination: 'München',\r\n      status: 'approved',\r\n      requestDate: '2025-03-02T14:15:00'\r\n    },\r\n    {\r\n      id: 3, \r\n      userId: 104,\r\n      userName: 'Laura Müller',\r\n      userDepartment: 'Produktion',\r\n      vehicleId: 4,\r\n      vehicleModel: 'Mercedes GLE',\r\n      vehicleLicensePlate: 'M-MB 3456',\r\n      startDateTime: '2025-03-25T10:00:00',\r\n      endDateTime: '2025-03-25T18:30:00',\r\n      purpose: 'Transport von Materialien',\r\n      destination: 'Augsburg',\r\n      status: 'pending',\r\n      requestDate: '2025-03-05T08:10:00'\r\n    }\r\n  ]);\r\n  \r\n  // Hilfsfunktion zur Formatierung von Datum/Zeit für die Anfragen\r\n  const formatDateTime = (dateTimeString) => {\r\n    const date = new Date(dateTimeString);\r\n    return date.toLocaleString('de-DE', { \r\n      day: '2-digit', \r\n      month: '2-digit', \r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n  \r\n  // Tab-Wechsel-Handler\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  // Laden aller Daten beim Initialisieren der Komponente\r\n  useEffect(() => {\r\n    console.log(\"Bookings-Komponente wird initialisiert - Lade Daten\");\r\n    checkBackendConnection();\r\n    loadFallbackVehicles(); // Lade sofort Fallback-Daten\r\n    loadAllData();\r\n  }, []);\r\n\r\n  // Lokale Buchungen speichern, wenn sie sich ändern\r\n  useEffect(() => {\r\n    saveLocalBookings(localBookings);\r\n  }, [localBookings]);\r\n\r\n  // Alle Daten laden, je nach Verbindungsstatus\r\n  const loadAllData = async () => {\r\n    if (localMode) {\r\n      loadLocalData();\r\n    } else {\r\n      try {\r\n        await Promise.all([loadVehicles(), loadBackendBookings()]);\r\n      } catch (err) {\r\n        console.error(\"Fehler beim Laden der Daten, wechsle in lokalen Modus:\", err);\r\n        setLocalMode(true);\r\n        loadLocalData();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Lokale Daten laden (schnell und zuverlässig)\r\n  const loadLocalData = () => {\r\n    setLoading(true);\r\n    console.log(\"Lade lokale Daten\");\r\n    \r\n    // Lade Fahrzeuge\r\n    setVehicles(FALLBACK_VEHICLES);\r\n    setLoadingVehicles(false);\r\n    \r\n    // Lade Buchungen aus localStorage\r\n    const storedBookings = getLocalBookings();\r\n    \r\n    // Formatiere die Buchungen für die Anzeige\r\n    const formattedBookings = storedBookings.map(booking => ({\r\n      ...booking,\r\n      start_date: dayjs(booking.start_date),\r\n      end_date: dayjs(booking.end_date)\r\n    }));\r\n    \r\n    setBookings(formattedBookings);\r\n    setLoading(false);\r\n    setBackendStatus('Lokaler Modus (Backend nicht erreichbar)');\r\n    showNotification(\"Lokaler Modus aktiv - Änderungen werden dauerhaft im Browser gespeichert\", \"info\");\r\n  };\r\n\r\n  // Backend-Verbindung überprüfen\r\n  const checkBackendConnection = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/vehicles`, { \r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (response.ok) {\r\n        setBackendStatus('Verbunden');\r\n        setLocalMode(false);\r\n        console.log(\"Backend-Verbindung erfolgreich hergestellt\");\r\n      } else {\r\n        setBackendStatus(`Fehler: ${response.status} ${response.statusText}`);\r\n        setLocalMode(true);\r\n        console.error(\"Backend-Verbindung fehlgeschlagen:\", response.status, response.statusText);\r\n      }\r\n    } catch (error) {\r\n      setBackendStatus('Keine Verbindung');\r\n      setLocalMode(true);\r\n      console.error(\"Backend nicht erreichbar:\", error.message);\r\n      showNotification(\"Backend-Server nicht erreichbar. Lokaler Modus aktiviert.\", \"warning\");\r\n    }\r\n  };\r\n\r\n  // Fahrzeuge vom Backend laden\r\n  const loadVehicles = async () => {\r\n    console.log(\"Versuche Fahrzeuge vom Server zu laden...\");\r\n    setLoadingVehicles(true);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/api/vehicles`, {\r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        console.warn(`Server-Fehler beim Laden der Fahrzeuge: ${response.status}`);\r\n        loadFallbackVehicles();\r\n        return;\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"Server-Fahrzeugdaten:\", data);\r\n      \r\n      if (Array.isArray(data) && data.length > 0) {\r\n        const formattedVehicles = data.map(vehicle => ({\r\n          id: vehicle.id?.toString() || '',\r\n          modell: vehicle.modell || 'Unbekannt',\r\n          kennzeichen: vehicle.kennzeichen || 'Unbekannt',\r\n          displayName: `${vehicle.modell || 'Unbekannt'} / ${vehicle.kennzeichen || 'Unbekannt'}`\r\n        }));\r\n        \r\n        console.log(`${formattedVehicles.length} Fahrzeuge geladen`);\r\n        setVehicles(formattedVehicles);\r\n      } else {\r\n        console.warn(\"Keine Fahrzeuge vom Server erhalten, verwende Fallback-Daten\");\r\n        loadFallbackVehicles();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Laden der Fahrzeuge:\", error);\r\n      loadFallbackVehicles();\r\n    } finally {\r\n      setLoadingVehicles(false);\r\n    }\r\n  };\r\n\r\n  // Fallback-Fahrzeuge laden wenn Backend nicht verfügbar\r\n  const loadFallbackVehicles = () => {\r\n    console.log(\"Verwende Fallback-Fahrzeuge\");\r\n    setVehicles(FALLBACK_VEHICLES);\r\n    setLoadingVehicles(false);\r\n  };\r\n\r\n  // Buchungen vom Backend laden\r\n  const loadBackendBookings = async () => {\r\n    console.log(\"Versuche Buchungen vom Server zu laden...\");\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/api/bookings`, {\r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        console.warn(`Server-Fehler beim Laden der Buchungen: ${response.status}`);\r\n        throw new Error(`Server antwortet mit ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"Server-Buchungsdaten:\", data);\r\n      \r\n      if (Array.isArray(data)) {\r\n        const formattedBookings = data.map(booking => ({\r\n          id: booking.id,\r\n          vehicle_id: booking.vehicle_id,\r\n          vehicle_name: findVehicleName(booking.vehicle_id),\r\n          start_date: dayjs(booking.start_date || booking.startzeit),\r\n          end_date: dayjs(booking.end_date || booking.endzeit),\r\n          employee_name: booking.mitarbeiter || booking.employee_name || '',\r\n          department: booking.abteilung || booking.department || '',\r\n          purpose: booking.zweck || booking.purpose || '',\r\n          status: booking.status || 'Reserviert',\r\n          notes: booking.notizen || booking.notes || ''\r\n        }));\r\n        \r\n        console.log(`${formattedBookings.length} Buchungen geladen`);\r\n        setBookings(formattedBookings);\r\n      } else {\r\n        console.warn(\"Keine Buchungen vom Server erhalten oder unerwartetes Format\");\r\n        throw new Error(\"Unerwartetes Datenformat\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Laden der Buchungen, wechsle in lokalen Modus:\", error);\r\n      setLocalMode(true);\r\n      loadLocalData();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Findet den Fahrzeugnamen anhand der ID\r\n  const findVehicleName = (vehicleId) => {\r\n    const vehicle = vehicles.find(v => v.id === vehicleId);\r\n    return vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\r\n  };\r\n\r\n  // Form Change Handler\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Fehler zurücksetzen wenn Feld geändert wird\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({ ...prev, [name]: null }));\r\n    }\r\n  };\r\n\r\n  // Datumsfeld-Handler\r\n  const handleDateChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    // Fehler zurücksetzen wenn Feld geändert wird\r\n    if (formErrors[field]) {\r\n      setFormErrors(prev => ({ ...prev, [field]: null }));\r\n    }\r\n  };\r\n  \r\n  // Formular zurücksetzen\r\n  const resetForm = () => {\r\n    setFormData({\r\n      vehicle_id: '',\r\n      employee_name: '',\r\n      department: '',\r\n      purpose: '',\r\n      start_date: dayjs(),\r\n      end_date: dayjs().add(1, 'day'),\r\n      status: 'Reserviert',\r\n      notes: ''\r\n    });\r\n    setFormErrors({});\r\n    setEditingId(null);\r\n  };\r\n\r\n  // Formular validieren\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    \r\n    if (!formData.vehicle_id) {\r\n      errors.vehicle_id = 'Bitte ein Fahrzeug auswählen';\r\n    }\r\n    \r\n    if (!formData.employee_name) {\r\n      errors.employee_name = 'Bitte einen Mitarbeiternamen eingeben';\r\n    }\r\n    \r\n    if (!formData.purpose) {\r\n      errors.purpose = 'Bitte einen Verwendungszweck angeben';\r\n    }\r\n    \r\n    if (!formData.start_date) {\r\n      errors.start_date = 'Bitte ein Startdatum wählen';\r\n    }\r\n    \r\n    if (!formData.end_date) {\r\n      errors.end_date = 'Bitte ein Enddatum wählen';\r\n    } else if (formData.start_date && formData.end_date.isBefore(formData.start_date)) {\r\n      errors.end_date = 'Das Enddatum muss nach dem Startdatum liegen';\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  // Form Submit Handler\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Formular wird abgesendet mit Daten:\", formData);\r\n    \r\n    // Formular validieren\r\n    const errors = validateForm();\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    if (localMode) {\r\n      // Lokale Speicherung\r\n      handleLocalSave();\r\n    } else {\r\n      try {\r\n        await handleBackendSave();\r\n      } catch (error) {\r\n        console.error(\"Backend-Speicherung fehlgeschlagen, verwende lokale Speicherung:\", error);\r\n        handleLocalSave();\r\n      }\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n  \r\n  // Lokale Speicherung einer Buchung\r\n  const handleLocalSave = () => {\r\n    const localId = editingId && editingId.startsWith('local-') \r\n      ? editingId \r\n      : `local-${Date.now()}`;\r\n      \r\n    const newBooking = {\r\n      id: localId,\r\n      vehicle_id: formData.vehicle_id,\r\n      vehicle_name: findVehicleName(formData.vehicle_id),\r\n      employee_name: formData.employee_name,\r\n      department: formData.department,\r\n      purpose: formData.purpose,\r\n      start_date: formData.start_date.toISOString(),\r\n      end_date: formData.end_date.toISOString(),\r\n      status: formData.status,\r\n      notes: formData.notes\r\n    };\r\n    \r\n    // Aktualisiere die lokalen Buchungen\r\n    if (editingId && editingId.startsWith('local-')) {\r\n      // Buchung aktualisieren\r\n      const updatedBookings = localBookings.map(booking => \r\n        booking.id === editingId ? newBooking : booking\r\n      );\r\n      setLocalBookings(updatedBookings);\r\n    } else {\r\n      // Neue Buchung hinzufügen\r\n      setLocalBookings([...localBookings, newBooking]);\r\n    }\r\n    \r\n    // Aktualisiere den Anzeige-State (formatiert)\r\n    const formattedBookings = [...localBookings, editingId ? null : newBooking]\r\n      .filter(Boolean)\r\n      .map(booking => ({\r\n        ...booking,\r\n        start_date: dayjs(booking.start_date),\r\n        end_date: dayjs(booking.end_date)\r\n      }));\r\n    \r\n    if (editingId) {\r\n      // Wenn wir bearbeiten, müssen wir die neue Version verwenden\r\n      const bookingIndex = formattedBookings.findIndex(b => b.id === editingId);\r\n      if (bookingIndex >= 0) {\r\n        formattedBookings[bookingIndex] = {\r\n          ...newBooking,\r\n          start_date: dayjs(newBooking.start_date),\r\n          end_date: dayjs(newBooking.end_date)\r\n        };\r\n      }\r\n    }\r\n    \r\n    setBookings(formattedBookings);\r\n    showNotification(\r\n      editingId ? \"Buchung dauerhaft aktualisiert\" : \"Buchung dauerhaft gespeichert\", \r\n      \"success\"\r\n    );\r\n    resetForm();\r\n  };\r\n  \r\n  // Backend-Speicherung einer Buchung\r\n  const handleBackendSave = async () => {\r\n    // Anpassen der Daten an das Backend-Schema\r\n    const bookingToSave = {\r\n      vehicle_id: formData.vehicle_id,\r\n      startzeit: formData.start_date.toISOString(),\r\n      endzeit: formData.end_date.toISOString(),\r\n      status: formData.status || 'Reserviert',\r\n      zweck: formData.purpose || '',\r\n      mitarbeiter: formData.employee_name || '',\r\n      abteilung: formData.department || '',\r\n    };\r\n    \r\n    // Buchung speichern\r\n    const url = editingId && !editingId.startsWith('local-')\r\n      ? `${API_URL}/api/bookings/${editingId}`\r\n      : `${API_URL}/api/bookings`;\r\n    \r\n    const method = editingId && !editingId.startsWith('local-') ? 'PUT' : 'POST';\r\n    console.log(`${method}-Anfrage an ${url}`);\r\n    \r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      mode: 'cors',\r\n      cache: 'no-cache',\r\n      body: JSON.stringify(bookingToSave)\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      console.error(\"Server-Fehler:\", response.status, errorText);\r\n      throw new Error(`Server-Fehler: ${response.status} ${errorText}`);\r\n    }\r\n    \r\n    const result = await response.json();\r\n    console.log(\"Server-Antwort:\", result);\r\n    \r\n    showNotification(\r\n      editingId ? \"Buchung aktualisiert\" : \"Neue Buchung erstellt\", \r\n      \"success\"\r\n    );\r\n    resetForm();\r\n    await loadBackendBookings();\r\n  };\r\n\r\n  // Buchung löschen\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Möchten Sie diese Buchung wirklich löschen?\")) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    // Lokale Buchung löschen\r\n    if (id.startsWith('local-') || localMode) {\r\n      console.log(\"Lösche lokale Buchung:\", id);\r\n      const updatedBookings = localBookings.filter(booking => booking.id !== id);\r\n      setLocalBookings(updatedBookings);\r\n      \r\n      // Aktualisiere State\r\n      const formattedBookings = updatedBookings.map(booking => ({\r\n        ...booking,\r\n        start_date: dayjs(booking.start_date),\r\n        end_date: dayjs(booking.end_date)\r\n      }));\r\n      \r\n      setBookings(formattedBookings);\r\n      showNotification(\"Buchung dauerhaft gelöscht\", \"success\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    // Backend-Buchung löschen\r\n    try {\r\n      console.log(`DELETE ${API_URL}/api/bookings/${id}`);\r\n      const response = await fetch(`${API_URL}/api/bookings/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Fehler beim Löschen der Buchung: ${response.status} - ${errorText}`);\r\n      }\r\n      \r\n      showNotification(\"Buchung erfolgreich gelöscht\", \"success\");\r\n      await loadBackendBookings();\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Löschen der Buchung:\", error);\r\n      showNotification(`Fehler beim Löschen der Buchung: ${error.message}`, \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Buchung bearbeiten\r\n  const handleEdit = (booking) => {\r\n    console.log(\"Bearbeite Buchung:\", booking);\r\n    setEditingId(booking.id);\r\n    setFormData({\r\n      vehicle_id: booking.vehicle_id || '',\r\n      employee_name: booking.employee_name || '',\r\n      department: booking.department || '',\r\n      purpose: booking.purpose || '',\r\n      start_date: dayjs(booking.start_date),\r\n      end_date: dayjs(booking.end_date),\r\n      status: booking.status || 'Reserviert',\r\n      notes: booking.notes || ''\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  // Benachrichtigung anzeigen\r\n  const showNotification = (message, severity = 'info') => {\r\n    setAlertMessage(message);\r\n    setAlertSeverity(severity);\r\n    setShowAlert(true);\r\n  };\r\n\r\n  // Modus wechseln zwischen lokal und Backend\r\n  const toggleMode = () => {\r\n    const newMode = !localMode;\r\n    setLocalMode(newMode);\r\n    \r\n    if (newMode) {\r\n      setBackendStatus('Lokaler Modus (manuell aktiviert)');\r\n      loadLocalData();\r\n    } else {\r\n      checkBackendConnection();\r\n      loadAllData();\r\n    }\r\n    \r\n    showNotification(\r\n      newMode \r\n        ? \"Lokaler Modus aktiviert - Änderungen werden dauerhaft im Browser gespeichert\" \r\n        : \"Backend-Modus aktiviert - Verbindung zum Server wird hergestellt\",\r\n      \"info\"\r\n    );\r\n  };\r\n\r\n  // Funktion zum Rendern der Anfragen-Liste\r\n  const renderRequestsTab = () => {\r\n    return (\r\n      <Box>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Fahrzeuganfragen\r\n        </Typography>\r\n        <Paper>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Benutzer</TableCell>\r\n                <TableCell>Fahrzeug</TableCell>\r\n                <TableCell>Zeitraum</TableCell>\r\n                <TableCell>Zweck</TableCell>\r\n                <TableCell>Status</TableCell>\r\n                <TableCell>Aktionen</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {requests.map((request) => (\r\n                <TableRow key={request.id} hover>\r\n                  <TableCell>\r\n                    <Box>\r\n                      <Typography variant=\"body2\">{request.userName}</Typography>\r\n                      <Typography variant=\"caption\" color=\"textSecondary\">{request.userDepartment}</Typography>\r\n                    </Box>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Box>\r\n                      <Typography variant=\"body2\">{request.vehicleModel}</Typography>\r\n                      <Typography variant=\"caption\" color=\"textSecondary\">{request.vehicleLicensePlate}</Typography>\r\n                    </Box>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Box>\r\n                      <Typography variant=\"body2\">{formatDateTime(request.startDateTime)}</Typography>\r\n                      <Typography variant=\"caption\" color=\"textSecondary\">bis {formatDateTime(request.endDateTime)}</Typography>\r\n                    </Box>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Box>\r\n                      <Typography variant=\"body2\">{request.purpose}</Typography>\r\n                      <Typography variant=\"caption\" color=\"textSecondary\">{request.destination}</Typography>\r\n                    </Box>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Chip \r\n                      label={\r\n                        request.status === 'pending' ? 'Ausstehend' :\r\n                        request.status === 'approved' ? 'Genehmigt' :\r\n                        request.status === 'rejected' ? 'Abgelehnt' : 'Unbekannt'\r\n                      }\r\n                      color={\r\n                        request.status === 'pending' ? 'warning' :\r\n                        request.status === 'approved' ? 'success' :\r\n                        request.status === 'rejected' ? 'error' : 'default'\r\n                      }\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Stack direction=\"row\" spacing={1}>\r\n                      <Button \r\n                        variant=\"outlined\" \r\n                        size=\"small\" \r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                          // In einer echten Anwendung: Details anzeigen\r\n                          console.log(\"Details für Anfrage:\", request.id);\r\n                        }}\r\n                      >\r\n                        Details\r\n                      </Button>\r\n                      {request.status === 'pending' && (\r\n                        <>\r\n                          <Button \r\n                            variant=\"outlined\" \r\n                            size=\"small\" \r\n                            color=\"success\"\r\n                            onClick={() => {\r\n                              // In einer echten Anwendung: Anfrage genehmigen\r\n                              setRequests(requests.map(req => \r\n                                req.id === request.id ? {...req, status: 'approved'} : req\r\n                              ));\r\n                            }}\r\n                          >\r\n                            Genehmigen\r\n                          </Button>\r\n                          <Button \r\n                            variant=\"outlined\" \r\n                            size=\"small\" \r\n                            color=\"error\"\r\n                            onClick={() => {\r\n                              // In einer echten Anwendung: Anfrage ablehnen\r\n                              setRequests(requests.map(req => \r\n                                req.id === request.id ? {...req, status: 'rejected'} : req\r\n                              ));\r\n                            }}\r\n                          >\r\n                            Ablehnen\r\n                          </Button>\r\n                        </>\r\n                      )}\r\n                    </Stack>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Paper>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  // Render-Funktion für Formularsicht\r\n  if (showForm) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ py: 4, position: 'relative', overflow: 'visible' }}>\r\n        <Box sx={{ mb: 4, display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n          {/* Status-Banner wird nur angezeigt, wenn es ein Problem mit dem Backend gibt */}\r\n          {localMode && backendStatus !== 'Verbunden' && (\r\n            <Alert severity=\"info\" sx={{ mb: 1 }}>\r\n              <strong>Hinweis:</strong> Buchungen werden im Browser gespeichert, da das Backend nicht erreichbar ist.\r\n            </Alert>\r\n          )}\r\n          \r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Button \r\n              variant=\"outlined\" \r\n              onClick={() => setShowForm(false)}\r\n              sx={{ mb: 2 }}\r\n            >\r\n              Zurück zur Übersicht\r\n            </Button>\r\n          </Box>\r\n          \r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n            {editingId ? 'Buchung bearbeiten' : 'Neue Buchung erstellen'}\r\n          </Typography>\r\n        </Box>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Card elevation={3}>\r\n          <CardContent>\r\n            <Box component=\"form\" onSubmit={handleSubmit} noValidate>\r\n              <Grid container spacing={2}>\r\n                {/* Fahrzeugauswahl */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"vehicle_id\">\r\n                      Fahrzeug *\r\n                    </label>\r\n                    <select\r\n                      id=\"vehicle_id\"\r\n                      name=\"vehicle_id\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.vehicle_id}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    >\r\n                      <option value=\"\" disabled>Bitte wählen</option>\r\n                      {loadingVehicles ? (\r\n                        <option value=\"\" disabled>Fahrzeuge werden geladen...</option>\r\n                      ) : vehicles.length > 0 ? (\r\n                        vehicles.map(vehicle => (\r\n                          <option key={vehicle.id} value={vehicle.id}>\r\n                            {vehicle.displayName}\r\n                          </option>\r\n                        ))\r\n                      ) : (\r\n                        <option value=\"\" disabled>Keine Fahrzeuge verfügbar</option>\r\n                      )}\r\n                    </select>\r\n                    {formErrors.vehicle_id && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.vehicle_id}\r\n                      </p>\r\n                    )}\r\n                    {!loadingVehicles && vehicles.length === 0 && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        Keine Fahrzeuge gefunden. Bitte fügen Sie zuerst Fahrzeuge hinzu.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Mitarbeiter */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"employee_name\">\r\n                      Mitarbeiter *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"employee_name\"\r\n                      name=\"employee_name\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.employee_name}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    {formErrors.employee_name && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.employee_name}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Abteilung */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"department\">\r\n                      Abteilung/Kostenstelle\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"department\"\r\n                      name=\"department\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.department}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Zweck */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"purpose\">\r\n                      Verwendungszweck *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"purpose\"\r\n                      name=\"purpose\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.purpose}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    {formErrors.purpose && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.purpose}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Startdatum */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"start_date\">\r\n                      Startdatum *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"start_date\"\r\n                      name=\"start_date\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.start_date.format('YYYY-MM-DD')}\r\n                      onChange={(e) => {\r\n                        const newDate = dayjs(e.target.value);\r\n                        if(newDate.isValid()) {\r\n                          // Behalte die Uhrzeit bei, ändere nur das Datum\r\n                          const newDateTime = formData.start_date\r\n                            .year(newDate.year())\r\n                            .month(newDate.month())\r\n                            .date(newDate.date());\r\n                          handleDateChange('start_date', newDateTime);\r\n                        }\r\n                      }}\r\n                      required\r\n                    />\r\n                    {formErrors.start_date && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.start_date}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Startzeit */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"start_time\">\r\n                      Startzeit\r\n                    </label>\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"start_time\"\r\n                      name=\"start_time\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.start_date.format('HH:mm')}\r\n                      onChange={(e) => {\r\n                        const [hours, minutes] = e.target.value.split(':').map(Number);\r\n                        const newDateTime = formData.start_date\r\n                          .hour(hours)\r\n                          .minute(minutes)\r\n                          .second(0);\r\n                        handleDateChange('start_date', newDateTime);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Enddatum */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"end_date\">\r\n                      Enddatum *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"end_date\"\r\n                      name=\"end_date\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.end_date.format('YYYY-MM-DD')}\r\n                      onChange={(e) => {\r\n                        const newDate = dayjs(e.target.value);\r\n                        if(newDate.isValid()) {\r\n                          // Behalte die Uhrzeit bei, ändere nur das Datum\r\n                          const newDateTime = formData.end_date\r\n                            .year(newDate.year())\r\n                            .month(newDate.month())\r\n                            .date(newDate.date());\r\n                          handleDateChange('end_date', newDateTime);\r\n                        }\r\n                      }}\r\n                      required\r\n                    />\r\n                    {formErrors.end_date && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.end_date}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Endzeit */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"end_time\">\r\n                      Endzeit\r\n                    </label>\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"end_time\"\r\n                      name=\"end_time\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.end_date.format('HH:mm')}\r\n                      onChange={(e) => {\r\n                        const [hours, minutes] = e.target.value.split(':').map(Number);\r\n                        const newDateTime = formData.end_date\r\n                          .hour(hours)\r\n                          .minute(minutes)\r\n                          .second(0);\r\n                        handleDateChange('end_date', newDateTime);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Status */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"status\">\r\n                      Status\r\n                    </label>\r\n                    <select\r\n                      id=\"status\"\r\n                      name=\"status\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.status}\r\n                      onChange={handleInputChange}\r\n                    >\r\n                      <option value=\"Reserviert\">Reserviert</option>\r\n                      <option value=\"Ausgegeben\">Ausgegeben</option>\r\n                      <option value=\"Zurückgegeben\">Zurückgegeben</option>\r\n                    </select>\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Notizen */}\r\n                <Grid item xs={12}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"notes\">\r\n                      Notizen\r\n                    </label>\r\n                    <textarea\r\n                      id=\"notes\"\r\n                      name=\"notes\"\r\n                      rows=\"3\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.notes}\r\n                      onChange={handleInputChange}\r\n                    ></textarea>\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Buttons */}\r\n                <Grid item xs={12}>\r\n                  <div className=\"flex justify-end space-x-3\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      onClick={resetForm}\r\n                      disabled={loading}\r\n                      variant=\"outlined\"\r\n                      sx={{ mr: 2 }}\r\n                    >\r\n                      Abbrechen\r\n                    </Button>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Wird gespeichert...' : editingId ? 'Aktualisieren' : 'Buchung erstellen'}\r\n                    </Button>\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Render-Funktion für Listenansicht\r\n  return (\r\n    <Container maxWidth=\"xl\">\r\n      <Box my={3}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          {isUserView ? \"Meine Buchungen\" : \"Buchungsverwaltung\"}\r\n        </Typography>\r\n        \r\n        {!isUserView && (\r\n          <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}>\r\n            <Tabs value={activeTab} onChange={handleTabChange} aria-label=\"buchungs-tabs\">\r\n              <Tab label=\"Buchungen\" />\r\n              <Tab label=\"Anfragen\" />\r\n            </Tabs>\r\n          </Box>\r\n        )}\r\n        \r\n        {loading ? (\r\n          <Box display=\"flex\" justifyContent=\"center\" my={4}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : activeTab === 0 ? (\r\n          <Container maxWidth=\"lg\" sx={{ py: 4, position: 'relative', overflow: 'visible' }}>\r\n            {/* Status-Banner wird nur angezeigt, wenn es ein Problem mit dem Backend gibt */}\r\n            {localMode && backendStatus !== 'Verbunden' && (\r\n              <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                <strong>Hinweis:</strong> Buchungen werden im Browser gespeichert, da das Backend nicht erreichbar ist.\r\n              </Alert>\r\n            )}\r\n            \r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n              <Box>\r\n                <Typography variant=\"h4\" component=\"h1\">\r\n                  Buchungsverwaltung\r\n                </Typography>\r\n              </Box>\r\n              \r\n              <Button \r\n                variant=\"contained\" \r\n                color=\"primary\" \r\n                onClick={() => {\r\n                  setEditingId(null);\r\n                  setShowForm(true);\r\n                }}\r\n                disabled={loading}\r\n              >\r\n                Neue Buchung\r\n              </Button>\r\n            </Box>\r\n\r\n            {error && (\r\n              <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n                {error}\r\n              </Alert>\r\n            )}\r\n\r\n            {bookings.length === 0 ? (\r\n              <Paper sx={{ p: 4, textAlign: 'center' }}>\r\n                <Typography variant=\"body1\" color=\"text.secondary\" gutterBottom>\r\n                  Keine Buchungen vorhanden\r\n                </Typography>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    setEditingId(null);\r\n                    setShowForm(true);\r\n                  }}\r\n                  sx={{ mt: 2 }}\r\n                  disabled={loading}\r\n                >\r\n                  Erste Buchung erstellen\r\n                </Button>\r\n              </Paper>\r\n            ) : (\r\n              <Paper elevation={3} sx={{ overflowX: 'auto' }}>\r\n                <Table>\r\n                  <TableHead sx={{ backgroundColor: '#f5f5f5' }}>\r\n                    <TableRow>\r\n                      <TableCell><Typography variant=\"subtitle2\">Fahrzeug</Typography></TableCell>\r\n                      <TableCell><Typography variant=\"subtitle2\">Zeitraum</Typography></TableCell>\r\n                      <TableCell><Typography variant=\"subtitle2\">Mitarbeiter</Typography></TableCell>\r\n                      <TableCell><Typography variant=\"subtitle2\">Zweck</Typography></TableCell>\r\n                      <TableCell><Typography variant=\"subtitle2\">Status</Typography></TableCell>\r\n                      <TableCell align=\"right\"><Typography variant=\"subtitle2\">Aktionen</Typography></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {bookings.map((booking) => (\r\n                      <TableRow \r\n                        key={booking.id} \r\n                        hover\r\n                        sx={booking.id.toString().startsWith('local-') ? { backgroundColor: '#fff8e1' } : {}}\r\n                      >\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {booking.vehicle_name || 'Unbekanntes Fahrzeug'}\r\n                          </Typography>\r\n                          {booking.id.toString().startsWith('local-') && (\r\n                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                              (Lokal gespeichert)\r\n                            </Typography>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {booking.start_date.format('DD.MM.YYYY HH:mm')}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            bis {booking.end_date.format('DD.MM.YYYY HH:mm')}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {booking.employee_name || 'Nicht angegeben'}\r\n                          </Typography>\r\n                          {booking.department && (\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              {booking.department}\r\n                            </Typography>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {booking.purpose || 'Kein Zweck angegeben'}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip \r\n                            label={booking.status || 'Unbekannt'} \r\n                            size=\"small\"\r\n                            color={booking.status === 'Reserviert' ? 'warning' : \r\n                                   booking.status === 'Ausgegeben' ? 'success' : 'info'}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell align=\"right\">\r\n                          <IconButton \r\n                            size=\"small\" \r\n                            color=\"primary\" \r\n                            onClick={() => handleEdit(booking)}\r\n                            title=\"Bearbeiten\"\r\n                          >\r\n                            E\r\n                          </IconButton>\r\n                          <IconButton \r\n                            size=\"small\" \r\n                            color=\"error\" \r\n                            onClick={() => handleDelete(booking.id)}\r\n                            title=\"Löschen\"\r\n                          >\r\n                            X\r\n                          </IconButton>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            )}\r\n          </Container>\r\n        ) : (\r\n          // Tab für Anfragen\r\n          renderRequestsTab()\r\n        )}\r\n        \r\n        {/* Benachrichtigungen */}\r\n        <Snackbar \r\n          open={showAlert} \r\n          autoHideDuration={6000} \r\n          onClose={() => setShowAlert(false)}\r\n        >\r\n          <Alert onClose={() => setShowAlert(false)} severity={alertSeverity} sx={{ width: '100%' }}>\r\n            {alertMessage}\r\n          </Alert>\r\n        </Snackbar>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Bookings; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}