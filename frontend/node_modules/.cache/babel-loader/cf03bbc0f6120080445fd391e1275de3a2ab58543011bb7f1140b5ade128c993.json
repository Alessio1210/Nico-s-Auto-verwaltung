{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Betzal001\\\\OneDrive - Pirelli\\\\Documents\\\\Fuhrpark\\\\Nico-s-Auto-verwaltung\\\\frontend\\\\src\\\\components\\\\GlobalDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { CalendarIcon, TruckIcon, ClockIcon, UserIcon, CurrencyEuroIcon, ChartBarIcon, ExclamationTriangleIcon, CheckCircleIcon, WrenchScrewdriverIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GlobalDashboard({\n  data,\n  user\n}) {\n  _s();\n  // State für die Dashboard-Daten, die automatisch mit den übergebenen Daten oder Dummy-Daten befüllt werden\n  const [dashboardData, setDashboardData] = useState({\n    bookingCount: 47,\n    activeBookings: 12,\n    vehicleCount: 18,\n    availableVehicles: 6,\n    maintenanceCount: 5,\n    userCount: 32,\n    totalDistance: 57842,\n    // Dummy Daten für das Balkendiagramm (Buchungen pro Tag)\n    bookingsPerDay: [{\n      day: 'Mo',\n      count: 8\n    }, {\n      day: 'Di',\n      count: 12\n    }, {\n      day: 'Mi',\n      count: 7\n    }, {\n      day: 'Do',\n      count: 15\n    }, {\n      day: 'Fr',\n      count: 18\n    }, {\n      day: 'Sa',\n      count: 3\n    }, {\n      day: 'So',\n      count: 1\n    }],\n    // Dummy Daten für die neuesten Buchungen\n    recentBookings: [{\n      id: 1,\n      user: 'Max Mustermann',\n      vehicle: 'BMW M1',\n      startTime: '2025-03-07T08:00:00',\n      endTime: '2025-03-07T17:00:00',\n      status: 'akzeptiert'\n    }, {\n      id: 2,\n      user: 'Anna Schmidt',\n      vehicle: 'VW Polo',\n      startTime: '2025-03-08T09:30:00',\n      endTime: '2025-03-08T18:30:00',\n      status: 'angefragt'\n    }, {\n      id: 3,\n      user: 'Tim Meyer',\n      vehicle: 'Mercedes GLE',\n      startTime: '2025-03-09T07:45:00',\n      endTime: '2025-03-09T16:45:00',\n      status: 'akzeptiert'\n    }, {\n      id: 4,\n      user: 'Laura Müller',\n      vehicle: 'Audi RS5',\n      startTime: '2025-03-10T10:15:00',\n      endTime: '2025-03-10T19:15:00',\n      status: 'abgelehnt'\n    }],\n    // Dummy Daten für anstehende Wartungen\n    upcomingMaintenance: [{\n      id: 1,\n      vehicle: 'VW Polo',\n      date: '2025-03-15',\n      type: 'Ölwechsel'\n    }, {\n      id: 2,\n      vehicle: 'BMW M1',\n      date: '2025-03-18',\n      type: 'Inspektion'\n    }, {\n      id: 3,\n      vehicle: 'Mercedes GLE',\n      date: '2025-03-25',\n      type: 'TÜV'\n    }],\n    // Dummy Daten für Fahrzeugauslastung\n    vehicleUsage: [{\n      vehicle: 'VW Polo',\n      usage: 87\n    }, {\n      vehicle: 'BMW M1',\n      usage: 65\n    }, {\n      vehicle: 'Mercedes GLE',\n      usage: 78\n    }, {\n      vehicle: 'Porsche GT3',\n      usage: 43\n    }, {\n      vehicle: 'Audi RS5',\n      usage: 92\n    }]\n  });\n\n  // Effekt zum Verarbeiten der übergebenen Daten\n  useEffect(() => {\n    if (data) {\n      const processedData = {\n        ...dashboardData\n      };\n\n      // Verarbeitung der übergebenen Daten und Aktualisierung des States\n      if (data.vehicles && Array.isArray(data.vehicles)) {\n        processedData.vehicleCount = data.vehicles.length;\n\n        // Korrigierte Logik: Ein Fahrzeug ist verfügbar, wenn es keine aktive Buchung hat\n        // oder wenn es explizit als 'Verfügbar' markiert ist\n        if (data.bookings && Array.isArray(data.bookings)) {\n          // Aktive Buchungen filtern (akzeptiert oder angefragt)\n          const activeBookings = data.bookings.filter(booking => booking.status === 'akzeptiert' || booking.status === 'angefragt');\n          processedData.activeBookings = activeBookings.length;\n\n          // IDs der Fahrzeuge in aktiven Buchungen\n          const bookedVehicleIds = activeBookings.map(booking => booking.vehicleId);\n\n          // Fahrzeuge sind verfügbar, wenn ihre ID nicht in den gebuchten Fahrzeugen ist\n          // oder wenn sie explizit als 'Verfügbar' markiert sind\n          const availableVehiclesCount = data.vehicles.filter(vehicle => !bookedVehicleIds.includes(vehicle.id) && (vehicle.status === 'Verfügbar' || vehicle.status === 'verfügbar' || !vehicle.status)).length;\n          processedData.availableVehicles = activeBookings.length === 0 ? data.vehicles.length : availableVehiclesCount;\n        } else {\n          // Wenn keine Buchungsdaten vorhanden sind, gehen wir davon aus, dass alle Fahrzeuge verfügbar sind\n          processedData.availableVehicles = data.vehicles.length;\n        }\n\n        // Fahrzeugauslastung berechnen, falls Daten vorhanden\n        if (data.bookings && Array.isArray(data.bookings)) {\n          const vehicleUsage = data.vehicles.map(vehicle => {\n            // Finde alle Buchungen für dieses Fahrzeug\n            const bookingsForVehicle = data.bookings.filter(b => b.vehicleId === vehicle.id);\n\n            // Berechne Auslastung basierend auf der Anzahl der Buchungen\n            // im Verhältnis zu allen Buchungen oder direkt als Prozentsatz der Nutzungszeit\n            let usagePercentage = 0;\n            if (bookingsForVehicle.length > 0) {\n              // Auslastung basierend auf der Zeit, die das Fahrzeug gebucht war\n              let totalHoursBooked = 0;\n              const currentDate = new Date();\n              const thirtyDaysAgo = new Date();\n              thirtyDaysAgo.setDate(currentDate.getDate() - 30);\n              const totalHoursInMonth = 30 * 24; // 30 Tage * 24 Stunden\n\n              bookingsForVehicle.forEach(booking => {\n                const startTime = new Date(booking.startTime);\n                const endTime = new Date(booking.endTime);\n\n                // Nur Buchungen der letzten 30 Tage berücksichtigen\n                if (endTime >= thirtyDaysAgo) {\n                  // Stundendifferenz zwischen Start und Ende berechnen\n                  const hoursDiff = (endTime - startTime) / (1000 * 60 * 60);\n                  totalHoursBooked += hoursDiff;\n                }\n              });\n\n              // Auslastung = gebuchte Stunden / Gesamtstunden im Monat\n              usagePercentage = Math.min(Math.round(totalHoursBooked / totalHoursInMonth * 100), 100);\n            }\n            return {\n              vehicle: vehicle.model || vehicle.marke || 'Unbekannt',\n              usage: usagePercentage\n            };\n          });\n\n          // Sortieren nach Auslastung (absteigend) und auf 5 Einträge begrenzen\n          processedData.vehicleUsage = vehicleUsage.sort((a, b) => b.usage - a.usage).slice(0, 5);\n        }\n      }\n      if (data.bookings && Array.isArray(data.bookings)) {\n        processedData.bookingCount = data.bookings.length;\n        processedData.activeBookings = data.bookings.filter(b => b.status === 'akzeptiert' || b.status === 'angefragt').length;\n\n        // Neueste Buchungen filtern und sortieren\n        processedData.recentBookings = data.bookings.sort((a, b) => new Date(b.startTime) - new Date(a.startTime)).slice(0, 5);\n\n        // Berechnung der Buchungen pro Tag\n        const now = new Date();\n        const daysOfWeek = ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'];\n        const bookingsPerDay = Array(7).fill(0).map((_, index) => {\n          const day = new Date();\n          day.setDate(now.getDate() - now.getDay() + index);\n          const count = data.bookings.filter(booking => {\n            const bookingDate = new Date(booking.startTime);\n            return bookingDate.getDate() === day.getDate() && bookingDate.getMonth() === day.getMonth() && bookingDate.getFullYear() === day.getFullYear();\n          }).length;\n          return {\n            day: daysOfWeek[index],\n            count\n          };\n        });\n        processedData.bookingsPerDay = bookingsPerDay;\n      }\n      if (data.users && Array.isArray(data.users)) {\n        processedData.userCount = data.users.length;\n      }\n      if (data.maintenanceRecords && Array.isArray(data.maintenanceRecords)) {\n        processedData.maintenanceCount = data.maintenanceRecords.length;\n\n        // Anstehende Wartungen sortieren\n        processedData.upcomingMaintenance = data.maintenanceRecords.filter(m => new Date(m.date) > new Date()).sort((a, b) => new Date(a.date) - new Date(b.date)).slice(0, 5);\n      }\n      if (data.statistics && typeof data.statistics === 'object') {\n        if (data.statistics.totalDistance) {\n          processedData.totalDistance = data.statistics.totalDistance;\n        }\n      }\n      setDashboardData(processedData);\n    }\n  }, [data]);\n\n  // Hilfsfunktion zur Formatierung von Datum/Zeit\n  const formatDateTime = dateTimeString => {\n    const date = new Date(dateTimeString);\n    return date.toLocaleString('de-DE', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Hilfsfunktion zur Bestimmung der Statusfarbe\n  const getStatusColor = status => {\n    switch (status) {\n      case 'akzeptiert':\n        return 'bg-green-100 text-green-800';\n      case 'angefragt':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'abgelehnt':\n        return 'bg-red-100 text-red-800';\n      case 'abgeschlossen':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Berechnung des maximalen Werts für das Balkendiagramm\n  const maxBookingCount = Math.max(...dashboardData.bookingsPerDay.map(day => day.count));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: [\"Willkommen, \", user ? user.name : 'Administrator']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Letztes Update: \", new Date().toLocaleDateString('de-DE'), \" \", new Date().toLocaleTimeString('de-DE')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mb-1\",\n            children: \"Fahrzeuge gesamt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold\",\n            children: dashboardData.vehicleCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-green-600\",\n            children: [dashboardData.availableVehicles, \" verf\\xFCgbar\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-100 p-3 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(TruckIcon, {\n            className: \"h-8 w-8 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mb-1\",\n            children: \"Buchungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold\",\n            children: dashboardData.bookingCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-600\",\n            children: [dashboardData.activeBookings, \" aktiv\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-indigo-100 p-3 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n            className: \"h-8 w-8 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mb-1\",\n            children: \"Gesamte Strecke\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold\",\n            children: [dashboardData.totalDistance.toLocaleString(), \" km\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Alle Fahrzeuge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-100 p-3 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(ChartBarIcon, {\n            className: \"h-8 w-8 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mb-1\",\n            children: \"Benutzer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold\",\n            children: dashboardData.userCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Registrierte Nutzer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-purple-100 p-3 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(UserIcon, {\n            className: \"h-8 w-8 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow lg:col-span-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Buchungen pro Tag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative h-64\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-0 left-0 right-0 flex items-end justify-between h-56\",\n            children: dashboardData.bookingsPerDay.map((day, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-12 bg-blue-500 rounded-t transition-all duration-300 hover:bg-blue-600\",\n                style: {\n                  height: `${maxBookingCount > 0 ? day.count / maxBookingCount * 100 : 0}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 text-xs text-gray-500\",\n                children: day.day\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 left-0 bottom-0 flex flex-col justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: maxBookingCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: Math.round(maxBookingCount / 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Fahrzeugauslastung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: dashboardData.vehicleUsage.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: item.vehicle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [item.usage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `h-2 rounded-full ${item.usage > 80 ? 'bg-red-500' : item.usage > 50 ? 'bg-yellow-500' : 'bg-green-500'}`,\n                style: {\n                  width: `${item.usage}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Neueste Buchungen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Benutzer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Fahrzeug\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Zeit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: dashboardData.recentBookings.map(booking => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 whitespace-nowrap text-sm\",\n                  children: booking.userName || booking.user\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 whitespace-nowrap text-sm\",\n                  children: booking.vehicleName || booking.vehicle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 whitespace-nowrap text-sm\",\n                  children: formatDateTime(booking.startTime)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 whitespace-nowrap text-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(booking.status)}`,\n                    children: booking.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this)]\n              }, booking.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-right\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => alert('Funktion noch nicht implementiert'),\n            className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n            children: \"Alle anzeigen \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Anstehende Wartungen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), dashboardData.upcomingMaintenance.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: dashboardData.upcomingMaintenance.map(maintenance => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start p-3 border rounded hover:bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 mr-4\",\n              children: /*#__PURE__*/_jsxDEV(WrenchScrewdriverIcon, {\n                className: \"h-5 w-5 text-orange-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: maintenance.vehicleName || maintenance.vehicle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: maintenance.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-400\",\n                children: new Date(maintenance.date).toLocaleDateString('de-DE')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n                children: \"Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this)]\n          }, maintenance.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center text-gray-500\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Keine anstehenden Wartungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-right\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => alert('Funktion noch nicht implementiert'),\n            className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n            children: \"Wartungsplan \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap justify-end gap-4 mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => alert('Funktion noch nicht implementiert'),\n        className: \"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n          className: \"h-5 w-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), \"Buchungen verwalten\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => alert('Funktion noch nicht implementiert'),\n        className: \"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(TruckIcon, {\n          className: \"h-5 w-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this), \"Fahrzeug hinzuf\\xFCgen\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => alert('Funktion noch nicht implementiert'),\n        className: \"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n          className: \"h-5 w-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), \"Benutzer verwalten\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n_s(GlobalDashboard, \"I4j5SOvL426x/K4HhbHb0xG/+bs=\");\n_c = GlobalDashboard;\nexport default GlobalDashboard;\nvar _c;\n$RefreshReg$(_c, \"GlobalDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","CalendarIcon","TruckIcon","ClockIcon","UserIcon","CurrencyEuroIcon","ChartBarIcon","ExclamationTriangleIcon","CheckCircleIcon","WrenchScrewdriverIcon","jsxDEV","_jsxDEV","GlobalDashboard","data","user","_s","dashboardData","setDashboardData","bookingCount","activeBookings","vehicleCount","availableVehicles","maintenanceCount","userCount","totalDistance","bookingsPerDay","day","count","recentBookings","id","vehicle","startTime","endTime","status","upcomingMaintenance","date","type","vehicleUsage","usage","processedData","vehicles","Array","isArray","length","bookings","filter","booking","bookedVehicleIds","map","vehicleId","availableVehiclesCount","includes","bookingsForVehicle","b","usagePercentage","totalHoursBooked","currentDate","Date","thirtyDaysAgo","setDate","getDate","totalHoursInMonth","forEach","hoursDiff","Math","min","round","model","marke","sort","a","slice","now","daysOfWeek","fill","_","index","getDay","bookingDate","getMonth","getFullYear","users","maintenanceRecords","m","statistics","formatDateTime","dateTimeString","toLocaleString","month","year","hour","minute","getStatusColor","maxBookingCount","max","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","toLocaleDateString","toLocaleTimeString","idx","style","height","item","width","userName","vehicleName","onClick","alert","maintenance","_c","$RefreshReg$"],"sources":["C:/Users/Betzal001/OneDrive - Pirelli/Documents/Fuhrpark/Nico-s-Auto-verwaltung/frontend/src/components/GlobalDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { \r\n  CalendarIcon, \r\n  TruckIcon, \r\n  ClockIcon, \r\n  UserIcon, \r\n  CurrencyEuroIcon, \r\n  ChartBarIcon,\r\n  ExclamationTriangleIcon,\r\n  CheckCircleIcon,\r\n  WrenchScrewdriverIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nfunction GlobalDashboard({ data, user }) {\r\n  // State für die Dashboard-Daten, die automatisch mit den übergebenen Daten oder Dummy-Daten befüllt werden\r\n  const [dashboardData, setDashboardData] = useState({\r\n    bookingCount: 47,\r\n    activeBookings: 12,\r\n    vehicleCount: 18,\r\n    availableVehicles: 6,\r\n    maintenanceCount: 5,\r\n    userCount: 32,\r\n    totalDistance: 57842,\r\n    // Dummy Daten für das Balkendiagramm (Buchungen pro Tag)\r\n    bookingsPerDay: [\r\n      { day: 'Mo', count: 8 },\r\n      { day: 'Di', count: 12 },\r\n      { day: 'Mi', count: 7 },\r\n      { day: 'Do', count: 15 },\r\n      { day: 'Fr', count: 18 },\r\n      { day: 'Sa', count: 3 },\r\n      { day: 'So', count: 1 },\r\n    ],\r\n    // Dummy Daten für die neuesten Buchungen\r\n    recentBookings: [\r\n      { id: 1, user: 'Max Mustermann', vehicle: 'BMW M1', startTime: '2025-03-07T08:00:00', endTime: '2025-03-07T17:00:00', status: 'akzeptiert' },\r\n      { id: 2, user: 'Anna Schmidt', vehicle: 'VW Polo', startTime: '2025-03-08T09:30:00', endTime: '2025-03-08T18:30:00', status: 'angefragt' },\r\n      { id: 3, user: 'Tim Meyer', vehicle: 'Mercedes GLE', startTime: '2025-03-09T07:45:00', endTime: '2025-03-09T16:45:00', status: 'akzeptiert' },\r\n      { id: 4, user: 'Laura Müller', vehicle: 'Audi RS5', startTime: '2025-03-10T10:15:00', endTime: '2025-03-10T19:15:00', status: 'abgelehnt' },\r\n    ],\r\n    // Dummy Daten für anstehende Wartungen\r\n    upcomingMaintenance: [\r\n      { id: 1, vehicle: 'VW Polo', date: '2025-03-15', type: 'Ölwechsel' },\r\n      { id: 2, vehicle: 'BMW M1', date: '2025-03-18', type: 'Inspektion' },\r\n      { id: 3, vehicle: 'Mercedes GLE', date: '2025-03-25', type: 'TÜV' },\r\n    ],\r\n    // Dummy Daten für Fahrzeugauslastung\r\n    vehicleUsage: [\r\n      { vehicle: 'VW Polo', usage: 87 },\r\n      { vehicle: 'BMW M1', usage: 65 },\r\n      { vehicle: 'Mercedes GLE', usage: 78 },\r\n      { vehicle: 'Porsche GT3', usage: 43 },\r\n      { vehicle: 'Audi RS5', usage: 92 },\r\n    ]\r\n  });\r\n\r\n  // Effekt zum Verarbeiten der übergebenen Daten\r\n  useEffect(() => {\r\n    if (data) {\r\n      const processedData = {...dashboardData};\r\n      \r\n      // Verarbeitung der übergebenen Daten und Aktualisierung des States\r\n      if (data.vehicles && Array.isArray(data.vehicles)) {\r\n        processedData.vehicleCount = data.vehicles.length;\r\n        \r\n        // Korrigierte Logik: Ein Fahrzeug ist verfügbar, wenn es keine aktive Buchung hat\r\n        // oder wenn es explizit als 'Verfügbar' markiert ist\r\n        if (data.bookings && Array.isArray(data.bookings)) {\r\n          // Aktive Buchungen filtern (akzeptiert oder angefragt)\r\n          const activeBookings = data.bookings.filter(booking => \r\n            booking.status === 'akzeptiert' || booking.status === 'angefragt'\r\n          );\r\n          \r\n          processedData.activeBookings = activeBookings.length;\r\n          \r\n          // IDs der Fahrzeuge in aktiven Buchungen\r\n          const bookedVehicleIds = activeBookings.map(booking => booking.vehicleId);\r\n          \r\n          // Fahrzeuge sind verfügbar, wenn ihre ID nicht in den gebuchten Fahrzeugen ist\r\n          // oder wenn sie explizit als 'Verfügbar' markiert sind\r\n          const availableVehiclesCount = data.vehicles.filter(vehicle => \r\n            !bookedVehicleIds.includes(vehicle.id) && \r\n            (vehicle.status === 'Verfügbar' || vehicle.status === 'verfügbar' || !vehicle.status)\r\n          ).length;\r\n          \r\n          processedData.availableVehicles = activeBookings.length === 0 \r\n            ? data.vehicles.length \r\n            : availableVehiclesCount;\r\n        } else {\r\n          // Wenn keine Buchungsdaten vorhanden sind, gehen wir davon aus, dass alle Fahrzeuge verfügbar sind\r\n          processedData.availableVehicles = data.vehicles.length;\r\n        }\r\n        \r\n        // Fahrzeugauslastung berechnen, falls Daten vorhanden\r\n        if (data.bookings && Array.isArray(data.bookings)) {\r\n          const vehicleUsage = data.vehicles.map(vehicle => {\r\n            // Finde alle Buchungen für dieses Fahrzeug\r\n            const bookingsForVehicle = data.bookings.filter(b => b.vehicleId === vehicle.id);\r\n            \r\n            // Berechne Auslastung basierend auf der Anzahl der Buchungen\r\n            // im Verhältnis zu allen Buchungen oder direkt als Prozentsatz der Nutzungszeit\r\n            let usagePercentage = 0;\r\n            \r\n            if (bookingsForVehicle.length > 0) {\r\n              // Auslastung basierend auf der Zeit, die das Fahrzeug gebucht war\r\n              let totalHoursBooked = 0;\r\n              const currentDate = new Date();\r\n              const thirtyDaysAgo = new Date();\r\n              thirtyDaysAgo.setDate(currentDate.getDate() - 30);\r\n              const totalHoursInMonth = 30 * 24; // 30 Tage * 24 Stunden\r\n              \r\n              bookingsForVehicle.forEach(booking => {\r\n                const startTime = new Date(booking.startTime);\r\n                const endTime = new Date(booking.endTime);\r\n                \r\n                // Nur Buchungen der letzten 30 Tage berücksichtigen\r\n                if (endTime >= thirtyDaysAgo) {\r\n                  // Stundendifferenz zwischen Start und Ende berechnen\r\n                  const hoursDiff = (endTime - startTime) / (1000 * 60 * 60);\r\n                  totalHoursBooked += hoursDiff;\r\n                }\r\n              });\r\n              \r\n              // Auslastung = gebuchte Stunden / Gesamtstunden im Monat\r\n              usagePercentage = Math.min(Math.round((totalHoursBooked / totalHoursInMonth) * 100), 100);\r\n            }\r\n            \r\n            return {\r\n              vehicle: vehicle.model || vehicle.marke || 'Unbekannt',\r\n              usage: usagePercentage\r\n            };\r\n          });\r\n          \r\n          // Sortieren nach Auslastung (absteigend) und auf 5 Einträge begrenzen\r\n          processedData.vehicleUsage = vehicleUsage\r\n            .sort((a, b) => b.usage - a.usage)\r\n            .slice(0, 5);\r\n        }\r\n      }\r\n      \r\n      if (data.bookings && Array.isArray(data.bookings)) {\r\n        processedData.bookingCount = data.bookings.length;\r\n        processedData.activeBookings = data.bookings.filter(b => \r\n          b.status === 'akzeptiert' || b.status === 'angefragt'\r\n        ).length;\r\n        \r\n        // Neueste Buchungen filtern und sortieren\r\n        processedData.recentBookings = data.bookings\r\n          .sort((a, b) => new Date(b.startTime) - new Date(a.startTime))\r\n          .slice(0, 5);\r\n          \r\n        // Berechnung der Buchungen pro Tag\r\n        const now = new Date();\r\n        const daysOfWeek = ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'];\r\n        const bookingsPerDay = Array(7).fill(0).map((_, index) => {\r\n          const day = new Date();\r\n          day.setDate(now.getDate() - now.getDay() + index);\r\n          \r\n          const count = data.bookings.filter(booking => {\r\n            const bookingDate = new Date(booking.startTime);\r\n            return (\r\n              bookingDate.getDate() === day.getDate() &&\r\n              bookingDate.getMonth() === day.getMonth() &&\r\n              bookingDate.getFullYear() === day.getFullYear()\r\n            );\r\n          }).length;\r\n          \r\n          return { day: daysOfWeek[index], count };\r\n        });\r\n        \r\n        processedData.bookingsPerDay = bookingsPerDay;\r\n      }\r\n      \r\n      if (data.users && Array.isArray(data.users)) {\r\n        processedData.userCount = data.users.length;\r\n      }\r\n      \r\n      if (data.maintenanceRecords && Array.isArray(data.maintenanceRecords)) {\r\n        processedData.maintenanceCount = data.maintenanceRecords.length;\r\n        \r\n        // Anstehende Wartungen sortieren\r\n        processedData.upcomingMaintenance = data.maintenanceRecords\r\n          .filter(m => new Date(m.date) > new Date())\r\n          .sort((a, b) => new Date(a.date) - new Date(b.date))\r\n          .slice(0, 5);\r\n      }\r\n      \r\n      if (data.statistics && typeof data.statistics === 'object') {\r\n        if (data.statistics.totalDistance) {\r\n          processedData.totalDistance = data.statistics.totalDistance;\r\n        }\r\n      }\r\n      \r\n      setDashboardData(processedData);\r\n    }\r\n  }, [data]);\r\n\r\n  // Hilfsfunktion zur Formatierung von Datum/Zeit\r\n  const formatDateTime = (dateTimeString) => {\r\n    const date = new Date(dateTimeString);\r\n    return date.toLocaleString('de-DE', { \r\n      day: '2-digit', \r\n      month: '2-digit', \r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Hilfsfunktion zur Bestimmung der Statusfarbe\r\n  const getStatusColor = (status) => {\r\n    switch(status) {\r\n      case 'akzeptiert':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'angefragt':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'abgelehnt':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'abgeschlossen':\r\n        return 'bg-blue-100 text-blue-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  // Berechnung des maximalen Werts für das Balkendiagramm\r\n  const maxBookingCount = Math.max(...dashboardData.bookingsPerDay.map(day => day.count));\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-800\">Admin Dashboard</h2>\r\n          <p className=\"text-sm text-gray-500\">Willkommen, {user ? user.name : 'Administrator'}</p>\r\n        </div>\r\n        <div className=\"text-sm text-gray-500\">\r\n          Letztes Update: {new Date().toLocaleDateString('de-DE')} {new Date().toLocaleTimeString('de-DE')}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Kachelbereich für Schnellübersicht */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow flex justify-between items-center\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-500 mb-1\">Fahrzeuge gesamt</p>\r\n            <p className=\"text-2xl font-bold\">{dashboardData.vehicleCount}</p>\r\n            <p className=\"text-sm text-green-600\">{dashboardData.availableVehicles} verfügbar</p>\r\n          </div>\r\n          <div className=\"bg-blue-100 p-3 rounded-lg\">\r\n            <TruckIcon className=\"h-8 w-8 text-blue-600\" />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-white p-6 rounded-lg shadow flex justify-between items-center\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-500 mb-1\">Buchungen</p>\r\n            <p className=\"text-2xl font-bold\">{dashboardData.bookingCount}</p>\r\n            <p className=\"text-sm text-blue-600\">{dashboardData.activeBookings} aktiv</p>\r\n          </div>\r\n          <div className=\"bg-indigo-100 p-3 rounded-lg\">\r\n            <CalendarIcon className=\"h-8 w-8 text-indigo-600\" />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-white p-6 rounded-lg shadow flex justify-between items-center\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-500 mb-1\">Gesamte Strecke</p>\r\n            <p className=\"text-2xl font-bold\">{dashboardData.totalDistance.toLocaleString()} km</p>\r\n            <p className=\"text-sm text-gray-500\">Alle Fahrzeuge</p>\r\n          </div>\r\n          <div className=\"bg-green-100 p-3 rounded-lg\">\r\n            <ChartBarIcon className=\"h-8 w-8 text-green-600\" />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-white p-6 rounded-lg shadow flex justify-between items-center\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-500 mb-1\">Benutzer</p>\r\n            <p className=\"text-2xl font-bold\">{dashboardData.userCount}</p>\r\n            <p className=\"text-sm text-gray-500\">Registrierte Nutzer</p>\r\n          </div>\r\n          <div className=\"bg-purple-100 p-3 rounded-lg\">\r\n            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Hauptbereich mit Charts und Listen */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Buchungen pro Tag (Balkendiagramm) */}\r\n        <div className=\"bg-white p-6 rounded-lg shadow lg:col-span-2\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Buchungen pro Tag</h3>\r\n          <div className=\"relative h-64\">\r\n            <div className=\"absolute bottom-0 left-0 right-0 flex items-end justify-between h-56\">\r\n              {dashboardData.bookingsPerDay.map((day, idx) => (\r\n                <div key={idx} className=\"flex flex-col items-center w-full\">\r\n                  <div \r\n                    className=\"w-12 bg-blue-500 rounded-t transition-all duration-300 hover:bg-blue-600\"\r\n                    style={{ height: `${maxBookingCount > 0 ? (day.count / maxBookingCount) * 100 : 0}%` }}\r\n                  ></div>\r\n                  <div className=\"mt-2 text-xs text-gray-500\">{day.day}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {/* Y-Achse */}\r\n            <div className=\"absolute top-0 left-0 bottom-0 flex flex-col justify-between\">\r\n              <span className=\"text-xs text-gray-500\">{maxBookingCount}</span>\r\n              <span className=\"text-xs text-gray-500\">{Math.round(maxBookingCount / 2)}</span>\r\n              <span className=\"text-xs text-gray-500\">0</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Fahrzeugauslastung */}\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Fahrzeugauslastung</h3>\r\n          <div className=\"space-y-4\">\r\n            {dashboardData.vehicleUsage.map((item, idx) => (\r\n              <div key={idx}>\r\n                <div className=\"flex justify-between text-sm mb-1\">\r\n                  <span>{item.vehicle}</span>\r\n                  <span>{item.usage}%</span>\r\n                </div>\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                  <div \r\n                    className={`h-2 rounded-full ${\r\n                      item.usage > 80 ? 'bg-red-500' : \r\n                      item.usage > 50 ? 'bg-yellow-500' : \r\n                      'bg-green-500'\r\n                    }`} \r\n                    style={{ width: `${item.usage}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Unterer Bereich mit Listen */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Neueste Buchungen */}\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Neueste Buchungen</h3>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Benutzer</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fahrzeug</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Zeit</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-200\">\r\n                {dashboardData.recentBookings.map(booking => (\r\n                  <tr key={booking.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3 whitespace-nowrap text-sm\">{booking.userName || booking.user}</td>\r\n                    <td className=\"px-4 py-3 whitespace-nowrap text-sm\">{booking.vehicleName || booking.vehicle}</td>\r\n                    <td className=\"px-4 py-3 whitespace-nowrap text-sm\">\r\n                      {formatDateTime(booking.startTime)}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 whitespace-nowrap text-sm\">\r\n                      <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(booking.status)}`}>\r\n                        {booking.status}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"mt-4 text-right\">\r\n            <button \r\n              onClick={() => alert('Funktion noch nicht implementiert')}\r\n              className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\r\n            >\r\n              Alle anzeigen →\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Anstehende Wartungen */}\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Anstehende Wartungen</h3>\r\n          {dashboardData.upcomingMaintenance.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {dashboardData.upcomingMaintenance.map(maintenance => (\r\n                <div key={maintenance.id} className=\"flex items-start p-3 border rounded hover:bg-gray-50\">\r\n                  <div className=\"flex-shrink-0 mr-4\">\r\n                    <WrenchScrewdriverIcon className=\"h-5 w-5 text-orange-500\" />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"font-medium\">{maintenance.vehicleName || maintenance.vehicle}</p>\r\n                    <p className=\"text-sm text-gray-500\">{maintenance.type}</p>\r\n                    <p className=\"text-xs text-gray-400\">\r\n                      {new Date(maintenance.date).toLocaleDateString('de-DE')}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <button className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\">\r\n                      Details\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"p-4 text-center text-gray-500\">\r\n              <p>Keine anstehenden Wartungen</p>\r\n            </div>\r\n          )}\r\n          <div className=\"mt-4 text-right\">\r\n            <button\r\n              onClick={() => alert('Funktion noch nicht implementiert')}\r\n              className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\r\n            >\r\n              Wartungsplan →\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Admin Action Buttons */}\r\n      <div className=\"flex flex-wrap justify-end gap-4 mt-6\">\r\n        <button\r\n          onClick={() => alert('Funktion noch nicht implementiert')}\r\n          className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center\"\r\n        >\r\n          <CalendarIcon className=\"h-5 w-5 mr-2\" />\r\n          Buchungen verwalten\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => alert('Funktion noch nicht implementiert')}\r\n          className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md flex items-center\"\r\n        >\r\n          <TruckIcon className=\"h-5 w-5 mr-2\" />\r\n          Fahrzeug hinzufügen\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => alert('Funktion noch nicht implementiert')}\r\n          className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md flex items-center\"\r\n        >\r\n          <UserIcon className=\"h-5 w-5 mr-2\" />\r\n          Benutzer verwalten\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GlobalDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}