{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\frontend\\\\src\\\\components\\\\AdminCalendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ArrowLeftIcon, ArrowRightIcon, ViewListIcon, ViewGridIcon, ChevronDownIcon } from '@heroicons/react/24/outline';\n\n// Farben für verschiedene Fahrzeuge\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst vehicleColors = ['#4f46e5',\n// indigo\n'#10b981',\n// emerald\n'#ef4444',\n// red\n'#f97316',\n// orange\n'#8b5cf6',\n// violet\n'#06b6d4',\n// cyan\n'#ec4899',\n// pink\n'#f59e0b',\n// amber\n'#64748b',\n// slate\n'#84cc16' // lime\n];\n\n// Hash-Funktion, um konsistente Farben für ein Fahrzeug zu bekommen\nconst getVehicleColor = vehicleId => {\n  const id = parseInt(vehicleId);\n  return vehicleColors[id % vehicleColors.length];\n};\nfunction AdminCalendar({\n  vehicles: propVehicles\n}) {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [view, setView] = useState('month'); // 'day', 'week', 'month'\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [selectedBooking, setSelectedBooking] = useState(null);\n  const [showDetails, setShowDetails] = useState(false);\n  const [vehicleFilter, setVehicleFilter] = useState('all'); // 'all', 'booked', 'available'\n  const [showFilterOptions, setShowFilterOptions] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showAllVehicles, setShowAllVehicles] = useState(false);\n\n  // Lade alle Fahrzeuge und Buchungen\n  useEffect(() => {\n    setLoading(true);\n    try {\n      // Nutze Fahrzeuge aus Props (falls vorhanden) oder aus dem localStorage\n      if (propVehicles && propVehicles.length > 0) {\n        console.log('Nutze Fahrzeuge aus Props:', propVehicles);\n        setVehicles(propVehicles);\n      } else {\n        // Lade alle Fahrzeuge aus dem localStorage als Fallback\n        const savedVehicles = localStorage.getItem('vehicles');\n        const vehiclesList = savedVehicles ? JSON.parse(savedVehicles) : [];\n        console.log('Nutze Fahrzeuge aus localStorage:', vehiclesList);\n        setVehicles(vehiclesList);\n      }\n\n      // Lade alle Anfragen aus dem localStorage\n      const savedRequests = localStorage.getItem('vehicleRequests');\n      const allBookings = savedRequests ? JSON.parse(savedRequests) : [];\n\n      // Sortiere nach Startdatum\n      allBookings.sort((a, b) => new Date(a.startDateTime) - new Date(b.startDateTime));\n      setBookings(allBookings);\n      console.log('Alle Buchungen geladen:', allBookings);\n    } catch (error) {\n      console.error('Fehler beim Laden der Daten:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [propVehicles]);\n\n  // Hilfsfunktionen für Datumsberechnungen\n  const getMonthName = date => {\n    return date.toLocaleString('de-DE', {\n      month: 'long'\n    });\n  };\n  const getDaysInMonth = date => {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n  };\n  const getFirstDayOfMonth = date => {\n    return new Date(date.getFullYear(), date.getMonth(), 1).getDay() || 7; // Wandelt 0 (Sonntag) in 7 um für europäisches Format\n  };\n  const getDaysInWeek = date => {\n    const day = date.getDay() || 7; // Konvertiere Sonntag (0) zu 7\n    const startOfWeek = new Date(date);\n    startOfWeek.setDate(date.getDate() - day + 1); // Montag der aktuellen Woche\n\n    const days = [];\n    for (let i = 0; i < 7; i++) {\n      const currentDay = new Date(startOfWeek);\n      currentDay.setDate(startOfWeek.getDate() + i);\n      days.push(currentDay);\n    }\n    return days;\n  };\n\n  // Navigation\n  const goToPrevious = () => {\n    const newDate = new Date(currentDate);\n    if (view === 'day') {\n      newDate.setDate(currentDate.getDate() - 1);\n    } else if (view === 'week') {\n      newDate.setDate(currentDate.getDate() - 7);\n    } else {\n      newDate.setMonth(currentDate.getMonth() - 1);\n    }\n    setCurrentDate(newDate);\n  };\n  const goToNext = () => {\n    const newDate = new Date(currentDate);\n    if (view === 'day') {\n      newDate.setDate(currentDate.getDate() + 1);\n    } else if (view === 'week') {\n      newDate.setDate(currentDate.getDate() + 7);\n    } else {\n      newDate.setMonth(currentDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n  };\n  const goToToday = () => {\n    setCurrentDate(new Date());\n  };\n\n  // Formatierung für die Anzeige\n  const formatDate = date => {\n    return date.toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    });\n  };\n  const formatTime = dateStr => {\n    const date = new Date(dateStr);\n    return date.toLocaleTimeString('de-DE', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Buchungen nach Datum filtern\n  const getBookingsForDate = date => {\n    return bookings.filter(booking => {\n      const startDate = new Date(booking.startDateTime);\n      const endDate = new Date(booking.endDateTime);\n\n      // Setze die Zeiten auf Mitternacht für Datumsvergleich\n      const checkDate = new Date(date);\n      checkDate.setHours(0, 0, 0, 0);\n      const startDay = new Date(startDate);\n      startDay.setHours(0, 0, 0, 0);\n      const endDay = new Date(endDate);\n      endDay.setHours(0, 0, 0, 0);\n      return checkDate >= startDay && checkDate <= endDay;\n    });\n  };\n\n  // Buchungsdetails anzeigen\n  const showBookingDetails = booking => {\n    setSelectedBooking(booking);\n    setShowDetails(true);\n  };\n  const hideBookingDetails = () => {\n    setSelectedBooking(null);\n    setShowDetails(false);\n  };\n\n  // Render der Tagesansicht\n  const renderDayView = () => {\n    const hours = Array.from({\n      length: 24\n    }, (_, i) => i);\n    const dateToShow = new Date(currentDate);\n    const todayBookings = getBookingsForDate(dateToShow);\n    const filteredVehicles = getFilteredVehicles();\n\n    // Funktion, um zu prüfen, ob ein Fahrzeug an diesem Tag gebucht ist\n    const isVehicleBookedOnDate = vehicleId => {\n      return todayBookings.some(booking => booking.vehicleId === vehicleId.toString());\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto max-h-[calc(100vh-300px)]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-[80px_1fr] border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-2 font-semibold\",\n          children: \"Uhrzeit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-2 font-semibold\",\n          children: formatDate(dateToShow)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), hours.map(hour => {\n        const hourText = `${hour.toString().padStart(2, '0')}:00`;\n        const hourBookings = todayBookings.filter(booking => {\n          const startTime = new Date(booking.startDateTime);\n          const endTime = new Date(booking.endDateTime);\n          const currentHourStart = new Date(dateToShow);\n          currentHourStart.setHours(hour, 0, 0, 0);\n          const currentHourEnd = new Date(dateToShow);\n          currentHourEnd.setHours(hour, 59, 59, 999);\n          return startTime >= currentHourStart && startTime <= currentHourEnd || endTime >= currentHourStart && endTime <= currentHourEnd || startTime <= currentHourStart && endTime >= currentHourEnd;\n        });\n\n        // Für Stunden 8-18 Uhr, zeige Fahrzeuge ohne Buchungen an, wenn Option aktiviert\n        const showEmptyVehicles = showAllVehicles && hour >= 8 && hour <= 18;\n        // Fahrzeuge, die in dieser Stunde keine Buchung haben\n        const unbookedVehicles = showEmptyVehicles ? filteredVehicles.filter(vehicle => !hourBookings.some(booking => booking.vehicleId === vehicle.id.toString())) : [];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-[80px_1fr] border-b min-h-[60px] hover:bg-gray-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right pr-2 py-2 text-sm border-r\",\n            children: hourText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-1 relative\",\n            children: [hourBookings.map((booking, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\",\n              style: {\n                backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\n                borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\n              },\n              onClick: () => showBookingDetails(booking),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-xs\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: booking.vehicleModel || 'Fahrzeug'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: [formatTime(booking.startDateTime), \"-\", formatTime(booking.endDateTime)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs truncate\",\n                children: [booking.userName, \": \", booking.purpose]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this)]\n            }, `${booking.id}-${idx}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this)), showEmptyVehicles && unbookedVehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-1 p-1 rounded border border-dashed\",\n              style: {\n                borderColor: getVehicleColor(vehicle.id),\n                backgroundColor: `${getVehicleColor(vehicle.id)}05`\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-semibold text-gray-500\",\n                children: [vehicle.modell, \" - Verf\\xFCgbar\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 21\n              }, this)\n            }, `empty-${vehicle.id}-${hour}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, hour, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render der Wochenansicht\n  const renderWeekView = () => {\n    const weekDays = getDaysInWeek(currentDate);\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto max-h-[calc(100vh-220px)]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-[80px_repeat(7,1fr)] border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), weekDays.map((day, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-center p-2 font-semibold ${day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: weekdayNames[idx]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: day.getDate()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), Array.from({\n        length: 12\n      }, (_, i) => i + 8).map(hour => {\n        const hourText = `${hour.toString().padStart(2, '0')}:00`;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-[80px_repeat(7,1fr)] border-b hover:bg-gray-50 min-h-[60px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right pr-2 py-2 text-sm border-r\",\n            children: hourText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), weekDays.map((day, dayIdx) => {\n            const currentDate = new Date(day);\n            currentDate.setHours(hour, 0, 0, 0);\n            const hourBookings = bookings.filter(booking => {\n              const startTime = new Date(booking.startDateTime);\n              const endTime = new Date(booking.endDateTime);\n              const currentHourStart = new Date(currentDate);\n              const currentHourEnd = new Date(currentDate);\n              currentHourEnd.setHours(hour, 59, 59, 999);\n              return startTime >= currentHourStart && startTime <= currentHourEnd || endTime >= currentHourStart && endTime <= currentHourEnd || startTime <= currentHourStart && endTime >= currentHourEnd;\n            });\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-1 border-r ${day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''}`,\n              children: hourBookings.map((booking, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\",\n                style: {\n                  backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\n                  borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\n                },\n                onClick: () => showBookingDetails(booking),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs font-semibold truncate\",\n                  children: booking.vehicleModel || 'Fahrzeug'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs truncate\",\n                  children: booking.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 25\n                }, this)]\n              }, `${booking.id}-${idx}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 23\n              }, this))\n            }, dayIdx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this);\n          })]\n        }, hour, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render der Monatsansicht\n  const renderMonthView = () => {\n    const daysInMonth = getDaysInMonth(currentDate);\n    const firstDay = getFirstDayOfMonth(currentDate);\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n    const filteredVehicles = getFilteredVehicles();\n    const days = [];\n\n    // Leere Zellen für Tage vor dem ersten Tag des Monats\n    for (let i = 1; i < firstDay; i++) {\n      days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 border bg-gray-50 min-h-[100px]\"\n      }, `empty-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }, this));\n    }\n\n    // Tage des Monats\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\n      const dayBookings = getBookingsForDate(date);\n      const isToday = date.toDateString() === new Date().toDateString();\n      const isWeekend = date.getDay() === 0 || date.getDay() === 6;\n\n      // Fahrzeuge, die an diesem Tag keine Buchung haben\n      const bookedVehicleIds = dayBookings.map(booking => booking.vehicleId);\n      const unbookedVehicles = showAllVehicles ? filteredVehicles.filter(vehicle => !bookedVehicleIds.includes(vehicle.id.toString())) : [];\n      days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-2 border ${isToday ? 'bg-blue-50 border-blue-300' : isWeekend ? 'bg-gray-50' : ''} min-h-[100px] overflow-y-auto`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold\",\n          children: day\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), dayBookings.map((booking, idx) => {\n          var _booking$purpose, _booking$purpose2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\",\n            style: {\n              backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\n              borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\n            },\n            onClick: () => showBookingDetails(booking),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs font-semibold truncate\",\n              children: booking.vehicleModel || 'Fahrzeug'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs truncate\",\n              children: [booking.userName, \": \", (_booking$purpose = booking.purpose) === null || _booking$purpose === void 0 ? void 0 : _booking$purpose.substring(0, 15), ((_booking$purpose2 = booking.purpose) === null || _booking$purpose2 === void 0 ? void 0 : _booking$purpose2.length) > 15 ? '...' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, `${booking.id}-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this);\n        }), showAllVehicles && !isWeekend && unbookedVehicles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 p-1 bg-gray-50 rounded text-xs text-gray-500\",\n          children: [unbookedVehicles.length, \" Fahrzeuge verf\\xFCgbar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this)]\n      }, `day-${day}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto max-h-[calc(100vh-300px)]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-7 gap-0\",\n        children: [weekdayNames.map((day, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-2 font-semibold border-t border-x\",\n          children: day\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)), days]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Haupttitel für die Kalenderansicht\n  const getCalendarTitle = () => {\n    if (view === 'day') {\n      return formatDate(currentDate);\n    } else if (view === 'week') {\n      const weekDays = getDaysInWeek(currentDate);\n      const firstDay = weekDays[0];\n      const lastDay = weekDays[6];\n      return `${formatDate(firstDay)} - ${formatDate(lastDay)}`;\n    } else {\n      return `${getMonthName(currentDate)} ${currentDate.getFullYear()}`;\n    }\n  };\n\n  // Bookings Details Modal\n  const renderBookingDetails = () => {\n    if (!selectedBooking) return null;\n    const vehicle = vehicles.find(v => v.id === selectedBooking.vehicleId) || {\n      modell: selectedBooking.vehicleModel,\n      kennzeichen: selectedBooking.vehicleLicensePlate || selectedBooking.licensePlate\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl max-w-2xl w-full p-0 max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-gray-50 flex justify-between items-center border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Buchungsdetails\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: hideBookingDetails,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-6 w-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Fahrzeug\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: [vehicle.modell, \" (\", vehicle.kennzeichen, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${selectedBooking.status === 'approved' ? 'bg-green-100 text-green-800' : selectedBooking.status === 'rejected' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}`,\n                children: selectedBooking.status === 'approved' ? 'Genehmigt' : selectedBooking.status === 'rejected' ? 'Abgelehnt' : 'Ausstehend'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Zeitraum\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: [\"Von: \", new Date(selectedBooking.startDateTime).toLocaleString('de-DE')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: [\"Bis: \", new Date(selectedBooking.endDateTime).toLocaleString('de-DE')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Benutzer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: selectedBooking.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: selectedBooking.userDepartment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Verwendungszweck\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedBooking.purpose\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Zielort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedBooking.destination || 'Nicht angegeben'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this), selectedBooking.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Notizen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedBooking.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this), selectedBooking.responseNote && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Anmerkung vom Administrator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"italic\",\n                children: selectedBooking.responseNote\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-gray-50 border-t flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: hideBookingDetails,\n            className: \"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\",\n            children: \"Schlie\\xDFen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Ermittle, welche Fahrzeug-IDs in den aktuellen Buchungen enthalten sind\n  const getBookedVehicleIds = () => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    return bookings.filter(booking => {\n      const endDate = new Date(booking.endDateTime);\n      endDate.setHours(0, 0, 0, 0);\n      return endDate >= today;\n    }).map(booking => booking.vehicleId);\n  };\n\n  // Filtere Fahrzeuge basierend auf dem aktuellen Filter und der Suche\n  const getFilteredVehicles = () => {\n    const bookedVehicleIds = getBookedVehicleIds();\n    let filtered = vehicles;\n\n    // Erst nach Buchungsstatus filtern\n    switch (vehicleFilter) {\n      case 'booked':\n        filtered = vehicles.filter(vehicle => bookedVehicleIds.includes(vehicle.id.toString()));\n        break;\n      case 'available':\n        filtered = vehicles.filter(vehicle => !bookedVehicleIds.includes(vehicle.id.toString()));\n        break;\n      default:\n        filtered = vehicles;\n    }\n\n    // Dann nach Suchbegriff filtern, falls vorhanden\n    if (searchTerm.trim()) {\n      const search = searchTerm.toLowerCase().trim();\n      filtered = filtered.filter(vehicle => {\n        var _vehicle$modell, _vehicle$kennzeichen, _vehicle$typ;\n        return ((_vehicle$modell = vehicle.modell) === null || _vehicle$modell === void 0 ? void 0 : _vehicle$modell.toLowerCase().includes(search)) || ((_vehicle$kennzeichen = vehicle.kennzeichen) === null || _vehicle$kennzeichen === void 0 ? void 0 : _vehicle$kennzeichen.toLowerCase().includes(search)) || ((_vehicle$typ = vehicle.typ) === null || _vehicle$typ === void 0 ? void 0 : _vehicle$typ.toLowerCase().includes(search));\n      });\n    }\n    return filtered;\n  };\n\n  // Fahrzeugfarben-Legende mit Filteroptionen\n  const renderVehicleLegend = () => {\n    const filteredVehicles = getFilteredVehicles();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold\",\n          children: [\"Fahrzeuge (\", filteredVehicles.length, \" von \", vehicles.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowFilterOptions(!showFilterOptions),\n            className: \"px-3 py-1 bg-white border rounded-md text-sm flex items-center\",\n            children: [vehicleFilter === 'all' ? 'Alle Fahrzeuge' : vehicleFilter === 'booked' ? 'Gebuchte Fahrzeuge' : 'Verfügbare Fahrzeuge', /*#__PURE__*/_jsxDEV(ChevronDownIcon, {\n              className: \"h-4 w-4 ml-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 13\n          }, this), showFilterOptions && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute right-0 mt-1 py-1 bg-white shadow-lg rounded-md z-10 w-48 border\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-full text-left px-4 py-2 text-sm ${vehicleFilter === 'all' ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'}`,\n              onClick: () => {\n                setVehicleFilter('all');\n                setShowFilterOptions(false);\n              },\n              children: \"Alle Fahrzeuge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-full text-left px-4 py-2 text-sm ${vehicleFilter === 'booked' ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'}`,\n              onClick: () => {\n                setVehicleFilter('booked');\n                setShowFilterOptions(false);\n              },\n              children: \"Gebuchte Fahrzeuge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-full text-left px-4 py-2 text-sm ${vehicleFilter === 'available' ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'}`,\n              onClick: () => {\n                setVehicleFilter('available');\n                setShowFilterOptions(false);\n              },\n              children: \"Verf\\xFCgbare Fahrzeuge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: filteredVehicles.map((vehicle, idx) => {\n          const isBooked = getBookedVehicleIds().includes(vehicle.id.toString());\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center px-2 py-1 rounded text-xs\",\n            style: {\n              backgroundColor: `${getVehicleColor(vehicle.id)}15`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full mr-1\",\n              style: {\n                backgroundColor: getVehicleColor(vehicle.id)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [vehicle.modell, \" (\", vehicle.kennzeichen, \")\", isBooked && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-1 text-xs text-gray-500\",\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Neue Komponente für die Fahrzeugsuche\n  const SearchBar = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full md:w-72 mb-4 md:mb-0\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Fahrzeug suchen...\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value),\n      className: \"w-full px-4 py-2 border rounded-md pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 688,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute left-3 top-2.5 text-gray-400\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"h-5 w-5\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        stroke: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 7\n    }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setSearchTerm(''),\n      className: \"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"h-5 w-5\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        stroke: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M6 18L18 6M6 6l12 12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 687,\n    columnNumber: 5\n  }, this);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-3 text-gray-600\",\n        children: \"Lade Kalender...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: \"Fahrzeugkalender (Admin)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex flex-col md:flex-row items-start md:items-center justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showAllVehicles,\n            onChange: () => setShowAllVehicles(!showAllVehicles),\n            className: \"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 13\n          }, this), \"Alle Fahrzeuge anzeigen (auch ohne Buchungen)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-4 md:mb-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToPrevious,\n          className: \"p-2 border rounded mr-2 hover:bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToToday,\n          className: \"px-4 py-2 border rounded mr-2 hover:bg-gray-100\",\n          children: \"Heute\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToNext,\n          className: \"p-2 border rounded mr-4 hover:bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold\",\n          children: getCalendarTitle()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('day'),\n          className: `px-4 py-2 border-t border-b border-l rounded-l ${view === 'day' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'}`,\n          children: \"Tag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('week'),\n          className: `px-4 py-2 border ${view === 'week' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'}`,\n          children: \"Woche\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('month'),\n          className: `px-4 py-2 border-t border-b border-r rounded-r ${view === 'month' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'}`,\n          children: \"Monat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this), renderVehicleLegend(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow overflow-hidden border\",\n      children: vehicles.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-gray-500\",\n        children: \"Keine Fahrzeuge verf\\xFCgbar. Bitte f\\xFCgen Sie zuerst Fahrzeuge hinzu.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [view === 'day' && renderDayView(), view === 'week' && renderWeekView(), view === 'month' && renderMonthView()]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 7\n    }, this), showDetails && renderBookingDetails()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 723,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminCalendar, \"r3G8BH2EYGtfuNk1c44dGKSXJdE=\");\n_c = AdminCalendar;\nexport default AdminCalendar;\nvar _c;\n$RefreshReg$(_c, \"AdminCalendar\");","map":{"version":3,"names":["React","useState","useEffect","ArrowLeftIcon","ArrowRightIcon","ViewListIcon","ViewGridIcon","ChevronDownIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","vehicleColors","getVehicleColor","vehicleId","id","parseInt","length","AdminCalendar","vehicles","propVehicles","_s","bookings","setBookings","setVehicles","loading","setLoading","view","setView","currentDate","setCurrentDate","Date","selectedBooking","setSelectedBooking","showDetails","setShowDetails","vehicleFilter","setVehicleFilter","showFilterOptions","setShowFilterOptions","searchTerm","setSearchTerm","showAllVehicles","setShowAllVehicles","console","log","savedVehicles","localStorage","getItem","vehiclesList","JSON","parse","savedRequests","allBookings","sort","a","b","startDateTime","error","getMonthName","date","toLocaleString","month","getDaysInMonth","getFullYear","getMonth","getDate","getFirstDayOfMonth","getDay","getDaysInWeek","day","startOfWeek","setDate","days","i","currentDay","push","goToPrevious","newDate","setMonth","goToNext","goToToday","formatDate","toLocaleDateString","year","formatTime","dateStr","toLocaleTimeString","hour","minute","getBookingsForDate","filter","booking","startDate","endDate","endDateTime","checkDate","setHours","startDay","endDay","showBookingDetails","hideBookingDetails","renderDayView","hours","Array","from","_","dateToShow","todayBookings","filteredVehicles","getFilteredVehicles","isVehicleBookedOnDate","some","toString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","hourText","padStart","hourBookings","startTime","endTime","currentHourStart","currentHourEnd","showEmptyVehicles","unbookedVehicles","vehicle","idx","style","backgroundColor","borderLeft","onClick","vehicleModel","userName","purpose","borderColor","modell","renderWeekView","weekDays","weekdayNames","toDateString","dayIdx","renderMonthView","daysInMonth","firstDay","dayBookings","isToday","isWeekend","bookedVehicleIds","includes","_booking$purpose","_booking$purpose2","substring","getCalendarTitle","lastDay","renderBookingDetails","find","v","kennzeichen","vehicleLicensePlate","licensePlate","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","status","userDepartment","destination","notes","responseNote","getBookedVehicleIds","today","filtered","trim","search","toLowerCase","_vehicle$modell","_vehicle$kennzeichen","_vehicle$typ","typ","renderVehicleLegend","isBooked","SearchBar","type","placeholder","value","onChange","e","target","xmlns","checked","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/frontend/src/components/AdminCalendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeftIcon, ArrowRightIcon, ViewListIcon, ViewGridIcon, ChevronDownIcon } from '@heroicons/react/24/outline';\r\n\r\n// Farben für verschiedene Fahrzeuge\r\nconst vehicleColors = [\r\n  '#4f46e5', // indigo\r\n  '#10b981', // emerald\r\n  '#ef4444', // red\r\n  '#f97316', // orange\r\n  '#8b5cf6', // violet\r\n  '#06b6d4', // cyan\r\n  '#ec4899', // pink\r\n  '#f59e0b', // amber\r\n  '#64748b', // slate\r\n  '#84cc16'  // lime\r\n];\r\n\r\n// Hash-Funktion, um konsistente Farben für ein Fahrzeug zu bekommen\r\nconst getVehicleColor = (vehicleId) => {\r\n  const id = parseInt(vehicleId);\r\n  return vehicleColors[id % vehicleColors.length];\r\n};\r\n\r\nfunction AdminCalendar({ vehicles: propVehicles }) {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [view, setView] = useState('month'); // 'day', 'week', 'month'\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [selectedBooking, setSelectedBooking] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [vehicleFilter, setVehicleFilter] = useState('all'); // 'all', 'booked', 'available'\r\n  const [showFilterOptions, setShowFilterOptions] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showAllVehicles, setShowAllVehicles] = useState(false);\r\n\r\n  // Lade alle Fahrzeuge und Buchungen\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    \r\n    try {\r\n      // Nutze Fahrzeuge aus Props (falls vorhanden) oder aus dem localStorage\r\n      if (propVehicles && propVehicles.length > 0) {\r\n        console.log('Nutze Fahrzeuge aus Props:', propVehicles);\r\n        setVehicles(propVehicles);\r\n      } else {\r\n        // Lade alle Fahrzeuge aus dem localStorage als Fallback\r\n        const savedVehicles = localStorage.getItem('vehicles');\r\n        const vehiclesList = savedVehicles ? JSON.parse(savedVehicles) : [];\r\n        console.log('Nutze Fahrzeuge aus localStorage:', vehiclesList);\r\n        setVehicles(vehiclesList);\r\n      }\r\n      \r\n      // Lade alle Anfragen aus dem localStorage\r\n      const savedRequests = localStorage.getItem('vehicleRequests');\r\n      const allBookings = savedRequests ? JSON.parse(savedRequests) : [];\r\n      \r\n      // Sortiere nach Startdatum\r\n      allBookings.sort((a, b) => new Date(a.startDateTime) - new Date(b.startDateTime));\r\n      \r\n      setBookings(allBookings);\r\n      console.log('Alle Buchungen geladen:', allBookings);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Daten:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [propVehicles]);\r\n\r\n  // Hilfsfunktionen für Datumsberechnungen\r\n  const getMonthName = (date) => {\r\n    return date.toLocaleString('de-DE', { month: 'long' });\r\n  };\r\n  \r\n  const getDaysInMonth = (date) => {\r\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n  };\r\n  \r\n  const getFirstDayOfMonth = (date) => {\r\n    return new Date(date.getFullYear(), date.getMonth(), 1).getDay() || 7; // Wandelt 0 (Sonntag) in 7 um für europäisches Format\r\n  };\r\n  \r\n  const getDaysInWeek = (date) => {\r\n    const day = date.getDay() || 7; // Konvertiere Sonntag (0) zu 7\r\n    const startOfWeek = new Date(date);\r\n    startOfWeek.setDate(date.getDate() - day + 1); // Montag der aktuellen Woche\r\n    \r\n    const days = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const currentDay = new Date(startOfWeek);\r\n      currentDay.setDate(startOfWeek.getDate() + i);\r\n      days.push(currentDay);\r\n    }\r\n    \r\n    return days;\r\n  };\r\n\r\n  // Navigation\r\n  const goToPrevious = () => {\r\n    const newDate = new Date(currentDate);\r\n    if (view === 'day') {\r\n      newDate.setDate(currentDate.getDate() - 1);\r\n    } else if (view === 'week') {\r\n      newDate.setDate(currentDate.getDate() - 7);\r\n    } else {\r\n      newDate.setMonth(currentDate.getMonth() - 1);\r\n    }\r\n    setCurrentDate(newDate);\r\n  };\r\n  \r\n  const goToNext = () => {\r\n    const newDate = new Date(currentDate);\r\n    if (view === 'day') {\r\n      newDate.setDate(currentDate.getDate() + 1);\r\n    } else if (view === 'week') {\r\n      newDate.setDate(currentDate.getDate() + 7);\r\n    } else {\r\n      newDate.setMonth(currentDate.getMonth() + 1);\r\n    }\r\n    setCurrentDate(newDate);\r\n  };\r\n  \r\n  const goToToday = () => {\r\n    setCurrentDate(new Date());\r\n  };\r\n\r\n  // Formatierung für die Anzeige\r\n  const formatDate = (date) => {\r\n    return date.toLocaleDateString('de-DE', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n  \r\n  const formatTime = (dateStr) => {\r\n    const date = new Date(dateStr);\r\n    return date.toLocaleTimeString('de-DE', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Buchungen nach Datum filtern\r\n  const getBookingsForDate = (date) => {\r\n    return bookings.filter(booking => {\r\n      const startDate = new Date(booking.startDateTime);\r\n      const endDate = new Date(booking.endDateTime);\r\n      \r\n      // Setze die Zeiten auf Mitternacht für Datumsvergleich\r\n      const checkDate = new Date(date);\r\n      checkDate.setHours(0, 0, 0, 0);\r\n      \r\n      const startDay = new Date(startDate);\r\n      startDay.setHours(0, 0, 0, 0);\r\n      \r\n      const endDay = new Date(endDate);\r\n      endDay.setHours(0, 0, 0, 0);\r\n      \r\n      return checkDate >= startDay && checkDate <= endDay;\r\n    });\r\n  };\r\n\r\n  // Buchungsdetails anzeigen\r\n  const showBookingDetails = (booking) => {\r\n    setSelectedBooking(booking);\r\n    setShowDetails(true);\r\n  };\r\n  \r\n  const hideBookingDetails = () => {\r\n    setSelectedBooking(null);\r\n    setShowDetails(false);\r\n  };\r\n\r\n  // Render der Tagesansicht\r\n  const renderDayView = () => {\r\n    const hours = Array.from({ length: 24 }, (_, i) => i);\r\n    const dateToShow = new Date(currentDate);\r\n    const todayBookings = getBookingsForDate(dateToShow);\r\n    const filteredVehicles = getFilteredVehicles();\r\n    \r\n    // Funktion, um zu prüfen, ob ein Fahrzeug an diesem Tag gebucht ist\r\n    const isVehicleBookedOnDate = (vehicleId) => {\r\n      return todayBookings.some(booking => booking.vehicleId === vehicleId.toString());\r\n    };\r\n    \r\n    return (\r\n      <div className=\"overflow-auto max-h-[calc(100vh-300px)]\">\r\n        <div className=\"grid grid-cols-[80px_1fr] border-b\">\r\n          <div className=\"text-center py-2 font-semibold\">\r\n            Uhrzeit\r\n          </div>\r\n          <div className=\"text-center py-2 font-semibold\">\r\n            {formatDate(dateToShow)}\r\n          </div>\r\n        </div>\r\n        \r\n        {hours.map(hour => {\r\n          const hourText = `${hour.toString().padStart(2, '0')}:00`;\r\n          const hourBookings = todayBookings.filter(booking => {\r\n            const startTime = new Date(booking.startDateTime);\r\n            const endTime = new Date(booking.endDateTime);\r\n            const currentHourStart = new Date(dateToShow);\r\n            currentHourStart.setHours(hour, 0, 0, 0);\r\n            const currentHourEnd = new Date(dateToShow);\r\n            currentHourEnd.setHours(hour, 59, 59, 999);\r\n            \r\n            return (\r\n              (startTime >= currentHourStart && startTime <= currentHourEnd) || \r\n              (endTime >= currentHourStart && endTime <= currentHourEnd) ||\r\n              (startTime <= currentHourStart && endTime >= currentHourEnd)\r\n            );\r\n          });\r\n          \r\n          // Für Stunden 8-18 Uhr, zeige Fahrzeuge ohne Buchungen an, wenn Option aktiviert\r\n          const showEmptyVehicles = showAllVehicles && hour >= 8 && hour <= 18;\r\n          // Fahrzeuge, die in dieser Stunde keine Buchung haben\r\n          const unbookedVehicles = showEmptyVehicles ? \r\n            filteredVehicles.filter(vehicle => \r\n              !hourBookings.some(booking => booking.vehicleId === vehicle.id.toString())\r\n            ) : [];\r\n          \r\n          return (\r\n            <div key={hour} className=\"grid grid-cols-[80px_1fr] border-b min-h-[60px] hover:bg-gray-50\">\r\n              <div className=\"text-right pr-2 py-2 text-sm border-r\">\r\n                {hourText}\r\n              </div>\r\n              <div className=\"p-1 relative\">\r\n                {hourBookings.map((booking, idx) => (\r\n                  <div \r\n                    key={`${booking.id}-${idx}`}\r\n                    className=\"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\"\r\n                    style={{ \r\n                      backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\r\n                      borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\r\n                    }}\r\n                    onClick={() => showBookingDetails(booking)}\r\n                  >\r\n                    <div className=\"flex justify-between text-xs\">\r\n                      <span className=\"font-semibold\">\r\n                        {booking.vehicleModel || 'Fahrzeug'}\r\n                      </span>\r\n                      <span className=\"text-gray-500\">\r\n                        {formatTime(booking.startDateTime)}-{formatTime(booking.endDateTime)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"text-xs truncate\">\r\n                      {booking.userName}: {booking.purpose}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                \r\n                {/* Fahrzeuge ohne Buchungen */}\r\n                {showEmptyVehicles && unbookedVehicles.map((vehicle) => (\r\n                  <div \r\n                    key={`empty-${vehicle.id}-${hour}`}\r\n                    className=\"mb-1 p-1 rounded border border-dashed\"\r\n                    style={{ \r\n                      borderColor: getVehicleColor(vehicle.id),\r\n                      backgroundColor: `${getVehicleColor(vehicle.id)}05`,\r\n                    }}\r\n                  >\r\n                    <div className=\"text-xs font-semibold text-gray-500\">\r\n                      {vehicle.modell} - Verfügbar\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render der Wochenansicht\r\n  const renderWeekView = () => {\r\n    const weekDays = getDaysInWeek(currentDate);\r\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\r\n    \r\n    return (\r\n      <div className=\"overflow-auto max-h-[calc(100vh-220px)]\">\r\n        <div className=\"grid grid-cols-[80px_repeat(7,1fr)] border-b\">\r\n          <div className=\"p-2\"></div>\r\n          {weekDays.map((day, idx) => (\r\n            <div \r\n              key={idx}\r\n              className={`text-center p-2 font-semibold ${\r\n                day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''\r\n              }`}\r\n            >\r\n              <div>{weekdayNames[idx]}</div>\r\n              <div>{day.getDate()}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        {Array.from({ length: 12 }, (_, i) => i + 8).map(hour => {\r\n          const hourText = `${hour.toString().padStart(2, '0')}:00`;\r\n          \r\n          return (\r\n            <div key={hour} className=\"grid grid-cols-[80px_repeat(7,1fr)] border-b hover:bg-gray-50 min-h-[60px]\">\r\n              <div className=\"text-right pr-2 py-2 text-sm border-r\">\r\n                {hourText}\r\n              </div>\r\n              \r\n              {weekDays.map((day, dayIdx) => {\r\n                const currentDate = new Date(day);\r\n                currentDate.setHours(hour, 0, 0, 0);\r\n                \r\n                const hourBookings = bookings.filter(booking => {\r\n                  const startTime = new Date(booking.startDateTime);\r\n                  const endTime = new Date(booking.endDateTime);\r\n                  const currentHourStart = new Date(currentDate);\r\n                  const currentHourEnd = new Date(currentDate);\r\n                  currentHourEnd.setHours(hour, 59, 59, 999);\r\n                  \r\n                  return (\r\n                    (startTime >= currentHourStart && startTime <= currentHourEnd) || \r\n                    (endTime >= currentHourStart && endTime <= currentHourEnd) ||\r\n                    (startTime <= currentHourStart && endTime >= currentHourEnd)\r\n                  );\r\n                });\r\n                \r\n                return (\r\n                  <div \r\n                    key={dayIdx} \r\n                    className={`p-1 border-r ${\r\n                      day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''\r\n                    }`}\r\n                  >\r\n                    {hourBookings.map((booking, idx) => (\r\n                      <div \r\n                        key={`${booking.id}-${idx}`}\r\n                        className=\"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\"\r\n                        style={{ \r\n                          backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\r\n                          borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\r\n                        }}\r\n                        onClick={() => showBookingDetails(booking)}\r\n                      >\r\n                        <div className=\"text-xs font-semibold truncate\">\r\n                          {booking.vehicleModel || 'Fahrzeug'}\r\n                        </div>\r\n                        <div className=\"text-xs truncate\">\r\n                          {booking.userName}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render der Monatsansicht\r\n  const renderMonthView = () => {\r\n    const daysInMonth = getDaysInMonth(currentDate);\r\n    const firstDay = getFirstDayOfMonth(currentDate);\r\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\r\n    const filteredVehicles = getFilteredVehicles();\r\n    \r\n    const days = [];\r\n    \r\n    // Leere Zellen für Tage vor dem ersten Tag des Monats\r\n    for (let i = 1; i < firstDay; i++) {\r\n      days.push(<div key={`empty-${i}`} className=\"p-2 border bg-gray-50 min-h-[100px]\"></div>);\r\n    }\r\n    \r\n    // Tage des Monats\r\n    for (let day = 1; day <= daysInMonth; day++) {\r\n      const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\r\n      const dayBookings = getBookingsForDate(date);\r\n      const isToday = date.toDateString() === new Date().toDateString();\r\n      const isWeekend = date.getDay() === 0 || date.getDay() === 6;\r\n      \r\n      // Fahrzeuge, die an diesem Tag keine Buchung haben\r\n      const bookedVehicleIds = dayBookings.map(booking => booking.vehicleId);\r\n      const unbookedVehicles = showAllVehicles ? \r\n        filteredVehicles.filter(vehicle => \r\n          !bookedVehicleIds.includes(vehicle.id.toString())\r\n        ) : [];\r\n      \r\n      days.push(\r\n        <div \r\n          key={`day-${day}`} \r\n          className={`p-2 border ${isToday ? 'bg-blue-50 border-blue-300' : isWeekend ? 'bg-gray-50' : ''} min-h-[100px] overflow-y-auto`}\r\n        >\r\n          <div className=\"font-semibold\">{day}</div>\r\n          {dayBookings.map((booking, idx) => (\r\n            <div \r\n              key={`${booking.id}-${idx}`}\r\n              className=\"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\"\r\n              style={{ \r\n                backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\r\n                borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\r\n              }}\r\n              onClick={() => showBookingDetails(booking)}\r\n            >\r\n              <div className=\"text-xs font-semibold truncate\">\r\n                {booking.vehicleModel || 'Fahrzeug'}\r\n              </div>\r\n              <div className=\"text-xs truncate\">\r\n                {booking.userName}: {booking.purpose?.substring(0, 15)}\r\n                {booking.purpose?.length > 15 ? '...' : ''}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          \r\n          {/* Fahrzeuge ohne Buchungen */}\r\n          {showAllVehicles && !isWeekend && unbookedVehicles.length > 0 && (\r\n            <div className=\"mt-1 p-1 bg-gray-50 rounded text-xs text-gray-500\">\r\n              {unbookedVehicles.length} Fahrzeuge verfügbar\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className=\"overflow-auto max-h-[calc(100vh-300px)]\">\r\n        <div className=\"grid grid-cols-7 gap-0\">\r\n          {/* Wochentage */}\r\n          {weekdayNames.map((day, idx) => (\r\n            <div key={idx} className=\"text-center p-2 font-semibold border-t border-x\">\r\n              {day}\r\n            </div>\r\n          ))}\r\n          \r\n          {/* Kalendertage */}\r\n          {days}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Haupttitel für die Kalenderansicht\r\n  const getCalendarTitle = () => {\r\n    if (view === 'day') {\r\n      return formatDate(currentDate);\r\n    } else if (view === 'week') {\r\n      const weekDays = getDaysInWeek(currentDate);\r\n      const firstDay = weekDays[0];\r\n      const lastDay = weekDays[6];\r\n      \r\n      return `${formatDate(firstDay)} - ${formatDate(lastDay)}`;\r\n    } else {\r\n      return `${getMonthName(currentDate)} ${currentDate.getFullYear()}`;\r\n    }\r\n  };\r\n\r\n  // Bookings Details Modal\r\n  const renderBookingDetails = () => {\r\n    if (!selectedBooking) return null;\r\n    \r\n    const vehicle = vehicles.find(v => v.id === selectedBooking.vehicleId) || {\r\n      modell: selectedBooking.vehicleModel,\r\n      kennzeichen: selectedBooking.vehicleLicensePlate || selectedBooking.licensePlate\r\n    };\r\n    \r\n    return (\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-50\">\r\n        <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full p-0 max-h-[90vh] overflow-y-auto\">\r\n          <div className=\"p-4 bg-gray-50 flex justify-between items-center border-b\">\r\n            <h3 className=\"text-lg font-semibold\">Buchungsdetails</h3>\r\n            <button \r\n              onClick={hideBookingDetails}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Fahrzeug</h4>\r\n                <p className=\"font-medium\">\r\n                  {vehicle.modell} ({vehicle.kennzeichen})\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Status</h4>\r\n                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                  selectedBooking.status === 'approved' ? 'bg-green-100 text-green-800' : \r\n                  selectedBooking.status === 'rejected' ? 'bg-red-100 text-red-800' : \r\n                  'bg-yellow-100 text-yellow-800'\r\n                }`}>\r\n                  {selectedBooking.status === 'approved' ? 'Genehmigt' :\r\n                   selectedBooking.status === 'rejected' ? 'Abgelehnt' : 'Ausstehend'}\r\n                </span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Zeitraum</h4>\r\n                <p className=\"font-medium\">\r\n                  Von: {new Date(selectedBooking.startDateTime).toLocaleString('de-DE')}\r\n                </p>\r\n                <p className=\"font-medium\">\r\n                  Bis: {new Date(selectedBooking.endDateTime).toLocaleString('de-DE')}\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Benutzer</h4>\r\n                <p className=\"font-medium\">{selectedBooking.userName}</p>\r\n                <p className=\"text-sm text-gray-600\">{selectedBooking.userDepartment}</p>\r\n              </div>\r\n\r\n              <div className=\"col-span-2\">\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Verwendungszweck</h4>\r\n                <p>{selectedBooking.purpose}</p>\r\n              </div>\r\n\r\n              <div className=\"col-span-2\">\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Zielort</h4>\r\n                <p>{selectedBooking.destination || 'Nicht angegeben'}</p>\r\n              </div>\r\n\r\n              {selectedBooking.notes && (\r\n                <div className=\"col-span-2\">\r\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Notizen</h4>\r\n                  <p>{selectedBooking.notes}</p>\r\n                </div>\r\n              )}\r\n\r\n              {selectedBooking.responseNote && (\r\n                <div className=\"col-span-2\">\r\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-1\">\r\n                    Anmerkung vom Administrator\r\n                  </h4>\r\n                  <p className=\"italic\">{selectedBooking.responseNote}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"p-4 bg-gray-50 border-t flex justify-end\">\r\n            <button\r\n              onClick={hideBookingDetails}\r\n              className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\"\r\n            >\r\n              Schließen\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Ermittle, welche Fahrzeug-IDs in den aktuellen Buchungen enthalten sind\r\n  const getBookedVehicleIds = () => {\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    \r\n    return bookings\r\n      .filter(booking => {\r\n        const endDate = new Date(booking.endDateTime);\r\n        endDate.setHours(0, 0, 0, 0);\r\n        return endDate >= today;\r\n      })\r\n      .map(booking => booking.vehicleId);\r\n  };\r\n\r\n  // Filtere Fahrzeuge basierend auf dem aktuellen Filter und der Suche\r\n  const getFilteredVehicles = () => {\r\n    const bookedVehicleIds = getBookedVehicleIds();\r\n    let filtered = vehicles;\r\n    \r\n    // Erst nach Buchungsstatus filtern\r\n    switch (vehicleFilter) {\r\n      case 'booked':\r\n        filtered = vehicles.filter(vehicle => bookedVehicleIds.includes(vehicle.id.toString()));\r\n        break;\r\n      case 'available':\r\n        filtered = vehicles.filter(vehicle => !bookedVehicleIds.includes(vehicle.id.toString()));\r\n        break;\r\n      default:\r\n        filtered = vehicles;\r\n    }\r\n    \r\n    // Dann nach Suchbegriff filtern, falls vorhanden\r\n    if (searchTerm.trim()) {\r\n      const search = searchTerm.toLowerCase().trim();\r\n      filtered = filtered.filter(\r\n        vehicle => \r\n          vehicle.modell?.toLowerCase().includes(search) ||\r\n          vehicle.kennzeichen?.toLowerCase().includes(search) ||\r\n          vehicle.typ?.toLowerCase().includes(search)\r\n      );\r\n    }\r\n    \r\n    return filtered;\r\n  };\r\n\r\n  // Fahrzeugfarben-Legende mit Filteroptionen\r\n  const renderVehicleLegend = () => {\r\n    const filteredVehicles = getFilteredVehicles();\r\n    \r\n    return (\r\n      <div className=\"mb-4\">\r\n        <div className=\"mb-2 flex justify-between items-center\">\r\n          <h3 className=\"text-sm font-semibold\">Fahrzeuge ({filteredVehicles.length} von {vehicles.length})</h3>\r\n          \r\n          <div className=\"relative\">\r\n            <button \r\n              onClick={() => setShowFilterOptions(!showFilterOptions)}\r\n              className=\"px-3 py-1 bg-white border rounded-md text-sm flex items-center\"\r\n            >\r\n              {vehicleFilter === 'all' ? 'Alle Fahrzeuge' : \r\n               vehicleFilter === 'booked' ? 'Gebuchte Fahrzeuge' : \r\n               'Verfügbare Fahrzeuge'}\r\n              <ChevronDownIcon className=\"h-4 w-4 ml-1\" />\r\n            </button>\r\n            \r\n            {showFilterOptions && (\r\n              <div className=\"absolute right-0 mt-1 py-1 bg-white shadow-lg rounded-md z-10 w-48 border\">\r\n                <button \r\n                  className={`w-full text-left px-4 py-2 text-sm ${vehicleFilter === 'all' ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'}`}\r\n                  onClick={() => {\r\n                    setVehicleFilter('all');\r\n                    setShowFilterOptions(false);\r\n                  }}\r\n                >\r\n                  Alle Fahrzeuge\r\n                </button>\r\n                <button \r\n                  className={`w-full text-left px-4 py-2 text-sm ${vehicleFilter === 'booked' ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'}`}\r\n                  onClick={() => {\r\n                    setVehicleFilter('booked');\r\n                    setShowFilterOptions(false);\r\n                  }}\r\n                >\r\n                  Gebuchte Fahrzeuge\r\n                </button>\r\n                <button \r\n                  className={`w-full text-left px-4 py-2 text-sm ${vehicleFilter === 'available' ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'}`}\r\n                  onClick={() => {\r\n                    setVehicleFilter('available');\r\n                    setShowFilterOptions(false);\r\n                  }}\r\n                >\r\n                  Verfügbare Fahrzeuge\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {filteredVehicles.map((vehicle, idx) => {\r\n            const isBooked = getBookedVehicleIds().includes(vehicle.id.toString());\r\n            \r\n            return (\r\n              <div \r\n                key={idx}\r\n                className=\"flex items-center px-2 py-1 rounded text-xs\"\r\n                style={{ \r\n                  backgroundColor: `${getVehicleColor(vehicle.id)}15`,\r\n                }}\r\n              >\r\n                <div \r\n                  className=\"w-3 h-3 rounded-full mr-1\"\r\n                  style={{ backgroundColor: getVehicleColor(vehicle.id) }}\r\n                ></div>\r\n                <span>\r\n                  {vehicle.modell} ({vehicle.kennzeichen})\r\n                  {isBooked && <span className=\"ml-1 text-xs text-gray-500\">•</span>}\r\n                </span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Neue Komponente für die Fahrzeugsuche\r\n  const SearchBar = () => (\r\n    <div className=\"relative w-full md:w-72 mb-4 md:mb-0\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Fahrzeug suchen...\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        className=\"w-full px-4 py-2 border rounded-md pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n      />\r\n      <div className=\"absolute left-3 top-2.5 text-gray-400\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n        </svg>\r\n      </div>\r\n      {searchTerm && (\r\n        <button\r\n          onClick={() => setSearchTerm('')}\r\n          className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\"\r\n        >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n          </svg>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n        <span className=\"ml-3 text-gray-600\">Lade Kalender...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 py-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Fahrzeugkalender (Admin)</h1>\r\n      \r\n      {/* Suchleiste und Einstellungen */}\r\n      <div className=\"mb-4 flex flex-col md:flex-row items-start md:items-center justify-between gap-4\">\r\n        <SearchBar />\r\n        \r\n        <div className=\"flex items-center space-x-4\">\r\n          <label className=\"flex items-center text-sm\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showAllVehicles}\r\n              onChange={() => setShowAllVehicles(!showAllVehicles)}\r\n              className=\"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n            />\r\n            Alle Fahrzeuge anzeigen (auch ohne Buchungen)\r\n          </label>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Kontrollleiste */}\r\n      <div className=\"flex flex-col md:flex-row justify-between mb-6\">\r\n        <div className=\"flex items-center mb-4 md:mb-0\">\r\n          <button\r\n            onClick={goToPrevious}\r\n            className=\"p-2 border rounded mr-2 hover:bg-gray-100\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5\" />\r\n          </button>\r\n          \r\n          <button\r\n            onClick={goToToday}\r\n            className=\"px-4 py-2 border rounded mr-2 hover:bg-gray-100\"\r\n          >\r\n            Heute\r\n          </button>\r\n          \r\n          <button\r\n            onClick={goToNext}\r\n            className=\"p-2 border rounded mr-4 hover:bg-gray-100\"\r\n          >\r\n            <ArrowRightIcon className=\"h-5 w-5\" />\r\n          </button>\r\n          \r\n          <h2 className=\"text-xl font-semibold\">\r\n            {getCalendarTitle()}\r\n          </h2>\r\n        </div>\r\n        \r\n        <div className=\"flex\">\r\n          <button\r\n            onClick={() => setView('day')}\r\n            className={`px-4 py-2 border-t border-b border-l rounded-l ${\r\n              view === 'day' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            Tag\r\n          </button>\r\n          <button\r\n            onClick={() => setView('week')}\r\n            className={`px-4 py-2 border ${\r\n              view === 'week' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            Woche\r\n          </button>\r\n          <button\r\n            onClick={() => setView('month')}\r\n            className={`px-4 py-2 border-t border-b border-r rounded-r ${\r\n              view === 'month' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            Monat\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Fahrzeugfarben-Legende */}\r\n      {renderVehicleLegend()}\r\n      \r\n      {/* Kalenderansicht */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden border\">\r\n        {vehicles.length === 0 ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            Keine Fahrzeuge verfügbar. Bitte fügen Sie zuerst Fahrzeuge hinzu.\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {view === 'day' && renderDayView()}\r\n            {view === 'week' && renderWeekView()}\r\n            {view === 'month' && renderMonthView()}\r\n          </>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Buchungsdetails Modal */}\r\n      {showDetails && renderBookingDetails()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminCalendar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}