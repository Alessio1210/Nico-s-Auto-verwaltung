{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\Frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Sidebar from './components/Sidebar';\nimport VehicleList from './components/VehicleList';\nimport GlobalDashboard from './components/GlobalDashboard';\nimport StatisticsDashboard from './components/StatisticsDashboard';\nimport UserDashboard from './components/UserDashboard';\nimport VehicleRequests from './components/VehicleRequests';\nimport UserRequests from './components/UserRequests';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(true); // Für Demo-Zwecke standardmäßig angemeldet\n  const [isAdmin, setIsAdmin] = useState(true); // Für Demo-Zwecke standardmäßig Admin\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [activeView, setActiveView] = useState('vehicles'); // Standard: Fahrzeugansicht anzeigen\n\n  // Zentraler Fahrzeugzustand\n  const [vehicles, setVehicles] = useState([]);\n  const [vehiclesLoaded, setVehiclesLoaded] = useState(false);\n\n  // Laden der Fahrzeuge beim Start der Anwendung\n  useEffect(() => {\n    loadVehicles();\n  }, []);\n\n  // Funktion zum Laden der Fahrzeuge aus der API\n  const loadVehicles = () => {\n    console.log(\"App: Lade Fahrzeuge aus der API...\");\n    setVehiclesLoaded(false);\n\n    // Direkt von der API laden\n    axios.get('http://localhost:5000/api/vehicles').then(response => {\n      console.log('Antwort vom Server:', response);\n      if (response.data && Array.isArray(response.data)) {\n        // Fahrzeuge aus der API-Antwort laden\n        console.log(`App: ${response.data.length} Fahrzeuge aus der API geladen`);\n        setVehicles(response.data);\n\n        // Auch im localStorage speichern für Offline-Zugriff\n        try {\n          localStorage.setItem('vehicles', JSON.stringify(response.data));\n          console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\n        } catch (error) {\n          console.error(\"App: Fehler beim Speichern im localStorage:\", error);\n        }\n      } else {\n        console.warn(\"App: Keine Fahrzeuge in der API-Antwort gefunden\", response);\n        loadFallbackVehicles();\n      }\n      setVehiclesLoaded(true);\n    }).catch(error => {\n      console.error('App: Fehler beim Laden der Fahrzeuge von der API:', error);\n      loadFallbackVehicles();\n    });\n  };\n\n  // Hilfsfunction zum Laden von Fallback-Fahrzeugen\n  const loadFallbackVehicles = () => {\n    console.log(\"App: Lade Fallback-Fahrzeuge...\");\n\n    // Standard-Demo-Fahrzeuge\n    const standardVehicles = [{\n      id: 1,\n      modell: 'VW Golf',\n      kennzeichen: 'M-AB 1234',\n      kilometerstand: 45000,\n      tankstand: 75,\n      status: 'Verfügbar',\n      tuev_datum: '2023-12-01',\n      au_datum: '2023-12-01',\n      bild: 'https://cdn.pixabay.com/photo/2013/07/13/10/15/volkswagen-156965_960_720.png'\n    }, {\n      id: 2,\n      modell: 'Mercedes C-Klasse',\n      kennzeichen: 'M-CD 5678',\n      kilometerstand: 25000,\n      tankstand: 90,\n      status: 'Verfügbar',\n      tuev_datum: '2024-06-15',\n      au_datum: '2024-06-15',\n      bild: 'https://cdn.pixabay.com/photo/2016/04/17/22/10/mercedes-1335674_960_720.png'\n    }, {\n      id: 3,\n      modell: 'BMW 3er',\n      kennzeichen: 'M-EF 9012',\n      kilometerstand: 35000,\n      tankstand: 60,\n      status: 'Verfügbar',\n      tuev_datum: '2024-03-20',\n      au_datum: '2024-03-20',\n      bild: 'https://cdn.pixabay.com/photo/2013/07/12/14/35/car-148539_960_720.png'\n    }, {\n      id: 4,\n      modell: 'Audi A4',\n      kennzeichen: 'M-GH 3456',\n      kilometerstand: 15000,\n      tankstand: 100,\n      status: 'Verfügbar',\n      tuev_datum: '2024-09-10',\n      au_datum: '2024-09-10',\n      bild: 'https://cdn.pixabay.com/photo/2014/04/02/10/58/car-304920_960_720.png'\n    }, {\n      id: 5,\n      modell: 'Opel Astra',\n      kennzeichen: 'M-IJ 7890',\n      kilometerstand: 55000,\n      tankstand: 45,\n      status: 'Verfügbar',\n      tuev_datum: '2023-10-05',\n      au_datum: '2023-10-05',\n      bild: 'https://cdn.pixabay.com/photo/2014/04/03/00/30/car-308405_960_720.png'\n    }];\n\n    // Versuche, lokale Fahrzeuge zu laden\n    try {\n      const savedVehicles = localStorage.getItem('vehicles');\n      if (savedVehicles) {\n        const parsedVehicles = JSON.parse(savedVehicles);\n        console.log(\"App: Geladene Fahrzeuge aus localStorage:\", parsedVehicles);\n        setVehicles(parsedVehicles);\n      } else {\n        // Wenn keine Fahrzeuge im localStorage existieren, die Standardfahrzeuge verwenden\n        console.log(\"App: Keine Fahrzeuge im localStorage, verwende Standardfahrzeuge\");\n        localStorage.setItem('vehicles', JSON.stringify(standardVehicles));\n        setVehicles(standardVehicles);\n      }\n    } catch (error) {\n      console.error(\"App: Fehler beim Laden der Fahrzeuge aus localStorage:\", error);\n      setVehicles(standardVehicles);\n    }\n    setVehiclesLoaded(true);\n  };\n\n  // Fahrzeug hinzufügen\n  const addVehicle = newVehicle => {\n    console.log(\"App: Füge neues Fahrzeug hinzu:\", newVehicle);\n\n    // Versuche das Fahrzeug über die API hinzuzufügen\n    if (newVehicle.id) {\n      // Wenn bereits eine ID vorhanden ist, wurde das Fahrzeug bereits in der Komponente erstellt\n      // (z.B. im Offline-Modus) - direkt dem State hinzufügen\n      const updatedVehicles = [...vehicles, newVehicle];\n      setVehicles(updatedVehicles);\n\n      // Speichern im localStorage\n      try {\n        localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\n        console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\n      } catch (error) {\n        console.error(\"App: Fehler beim Speichern im localStorage:\", error);\n      }\n    } else {\n      // Wenn keine ID vorhanden ist, versuche es über die API\n      // Im realen System würde hier ein API-Aufruf zum Speichern stattfinden\n      console.log(\"App: Fahrzeug würde an API gesendet werden\");\n\n      // Simuliere einen erfolgreichen API-Aufruf\n      const vehicleWithId = {\n        ...newVehicle,\n        id: Date.now() // In der realen Anwendung würde die ID vom Server kommen\n      };\n      const updatedVehicles = [...vehicles, vehicleWithId];\n      setVehicles(updatedVehicles);\n\n      // Speichern im localStorage\n      try {\n        localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\n        console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\n      } catch (error) {\n        console.error(\"App: Fehler beim Speichern im localStorage:\", error);\n      }\n    }\n  };\n\n  // Fahrzeug aktualisieren\n  const updateVehicle = updatedVehicle => {\n    console.log(\"App: Aktualisiere Fahrzeug:\", updatedVehicle);\n    const updatedVehicles = vehicles.map(v => v.id === updatedVehicle.id ? updatedVehicle : v);\n    setVehicles(updatedVehicles);\n\n    // Speichern im localStorage\n    try {\n      localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\n      console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\n    } catch (error) {\n      console.error(\"App: Fehler beim Speichern im localStorage:\", error);\n    }\n  };\n\n  // Fahrzeug löschen\n  const deleteVehicle = vehicleId => {\n    console.log(\"App: Lösche Fahrzeug mit ID:\", vehicleId);\n    const updatedVehicles = vehicles.filter(v => v.id !== vehicleId);\n    setVehicles(updatedVehicles);\n\n    // Speichern im localStorage\n    try {\n      localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\n      console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\n    } catch (error) {\n      console.error(\"App: Fehler beim Speichern im localStorage:\", error);\n    }\n  };\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    localStorage.removeItem('isLoggedIn');\n  };\n  const toggleAdminMode = () => {\n    setIsAdmin(!isAdmin);\n  };\n\n  // Renderlogik basierend auf der aktiven Ansicht\n  const renderContent = () => {\n    if (!vehiclesLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex justify-center my-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 14\n      }, this);\n    }\n    switch (activeView) {\n      case 'dashboard':\n        return isAdmin ? /*#__PURE__*/_jsxDEV(GlobalDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(UserDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 48\n        }, this);\n      case 'vehicles':\n        return /*#__PURE__*/_jsxDEV(VehicleList, {\n          isUserView: !isAdmin,\n          vehicles: vehicles,\n          onAddVehicle: addVehicle,\n          onUpdateVehicle: updateVehicle,\n          onDeleteVehicle: deleteVehicle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 16\n        }, this);\n      case 'statistics':\n        return isAdmin ? /*#__PURE__*/_jsxDEV(StatisticsDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 26\n        }, this) : null;\n      case 'vehicle-requests':\n        return isAdmin ? /*#__PURE__*/_jsxDEV(VehicleRequests, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 26\n        }, this) : null;\n      case 'my-requests':\n        return !isAdmin ? /*#__PURE__*/_jsxDEV(UserRequests, {\n          setActiveView: setActiveView\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 27\n        }, this) : null;\n      default:\n        return /*#__PURE__*/_jsxDEV(VehicleList, {\n          isUserView: !isAdmin,\n          vehicles: vehicles,\n          onAddVehicle: addVehicle,\n          onUpdateVehicle: updateVehicle,\n          onDeleteVehicle: deleteVehicle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: sidebarOpen,\n      toggleSidebar: () => setSidebarOpen(!sidebarOpen),\n      isAdmin: isAdmin,\n      onLogout: handleLogout,\n      activeView: activeView,\n      setActiveView: setActiveView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 md:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"Fahrzeugverwaltung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mr-2 text-sm\",\n              children: isAdmin ? 'Admin-Modus' : 'Benutzer-Modus'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleAdminMode,\n              className: \"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600\",\n              children: isAdmin ? 'Zu Benutzeransicht wechseln' : 'Zu Admin-Ansicht wechseln'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), renderContent()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"cL/daNrzzmoCBUeD809aYO44SHU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Sidebar","VehicleList","GlobalDashboard","StatisticsDashboard","UserDashboard","VehicleRequests","UserRequests","axios","jsxDEV","_jsxDEV","App","_s","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","sidebarOpen","setSidebarOpen","activeView","setActiveView","vehicles","setVehicles","vehiclesLoaded","setVehiclesLoaded","loadVehicles","console","log","get","then","response","data","Array","isArray","length","localStorage","setItem","JSON","stringify","error","warn","loadFallbackVehicles","catch","standardVehicles","id","modell","kennzeichen","kilometerstand","tankstand","status","tuev_datum","au_datum","bild","savedVehicles","getItem","parsedVehicles","parse","addVehicle","newVehicle","updatedVehicles","vehicleWithId","Date","now","updateVehicle","updatedVehicle","map","v","deleteVehicle","vehicleId","filter","handleLogout","removeItem","toggleAdminMode","renderContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isUserView","onAddVehicle","onUpdateVehicle","onDeleteVehicle","isOpen","toggleSidebar","onLogout","onClick","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport VehicleList from './components/VehicleList';\r\nimport GlobalDashboard from './components/GlobalDashboard';\r\nimport StatisticsDashboard from './components/StatisticsDashboard';\r\nimport UserDashboard from './components/UserDashboard';\r\nimport VehicleRequests from './components/VehicleRequests';\r\nimport UserRequests from './components/UserRequests';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(true); // Für Demo-Zwecke standardmäßig angemeldet\r\n  const [isAdmin, setIsAdmin] = useState(true); // Für Demo-Zwecke standardmäßig Admin\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [activeView, setActiveView] = useState('vehicles'); // Standard: Fahrzeugansicht anzeigen\r\n  \r\n  // Zentraler Fahrzeugzustand\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [vehiclesLoaded, setVehiclesLoaded] = useState(false);\r\n  \r\n  // Laden der Fahrzeuge beim Start der Anwendung\r\n  useEffect(() => {\r\n    loadVehicles();\r\n  }, []);\r\n  \r\n  // Funktion zum Laden der Fahrzeuge aus der API\r\n  const loadVehicles = () => {\r\n    console.log(\"App: Lade Fahrzeuge aus der API...\");\r\n    setVehiclesLoaded(false);\r\n    \r\n    // Direkt von der API laden\r\n    axios.get('http://localhost:5000/api/vehicles')\r\n      .then(response => {\r\n        console.log('Antwort vom Server:', response);\r\n        \r\n        if (response.data && Array.isArray(response.data)) {\r\n          // Fahrzeuge aus der API-Antwort laden\r\n          console.log(`App: ${response.data.length} Fahrzeuge aus der API geladen`);\r\n          setVehicles(response.data);\r\n          \r\n          // Auch im localStorage speichern für Offline-Zugriff\r\n          try {\r\n            localStorage.setItem('vehicles', JSON.stringify(response.data));\r\n            console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\r\n          } catch (error) {\r\n            console.error(\"App: Fehler beim Speichern im localStorage:\", error);\r\n          }\r\n        } else {\r\n          console.warn(\"App: Keine Fahrzeuge in der API-Antwort gefunden\", response);\r\n          loadFallbackVehicles();\r\n        }\r\n        \r\n        setVehiclesLoaded(true);\r\n      })\r\n      .catch(error => {\r\n        console.error('App: Fehler beim Laden der Fahrzeuge von der API:', error);\r\n        loadFallbackVehicles();\r\n      });\r\n  };\r\n  \r\n  // Hilfsfunction zum Laden von Fallback-Fahrzeugen\r\n  const loadFallbackVehicles = () => {\r\n    console.log(\"App: Lade Fallback-Fahrzeuge...\");\r\n    \r\n    // Standard-Demo-Fahrzeuge\r\n    const standardVehicles = [\r\n      {\r\n        id: 1,\r\n        modell: 'VW Golf',\r\n        kennzeichen: 'M-AB 1234',\r\n        kilometerstand: 45000,\r\n        tankstand: 75,\r\n        status: 'Verfügbar',\r\n        tuev_datum: '2023-12-01',\r\n        au_datum: '2023-12-01',\r\n        bild: 'https://cdn.pixabay.com/photo/2013/07/13/10/15/volkswagen-156965_960_720.png'\r\n      },\r\n      {\r\n        id: 2,\r\n        modell: 'Mercedes C-Klasse',\r\n        kennzeichen: 'M-CD 5678',\r\n        kilometerstand: 25000,\r\n        tankstand: 90,\r\n        status: 'Verfügbar',\r\n        tuev_datum: '2024-06-15',\r\n        au_datum: '2024-06-15',\r\n        bild: 'https://cdn.pixabay.com/photo/2016/04/17/22/10/mercedes-1335674_960_720.png'\r\n      },\r\n      {\r\n        id: 3,\r\n        modell: 'BMW 3er',\r\n        kennzeichen: 'M-EF 9012',\r\n        kilometerstand: 35000,\r\n        tankstand: 60,\r\n        status: 'Verfügbar',\r\n        tuev_datum: '2024-03-20',\r\n        au_datum: '2024-03-20',\r\n        bild: 'https://cdn.pixabay.com/photo/2013/07/12/14/35/car-148539_960_720.png'\r\n      },\r\n      {\r\n        id: 4,\r\n        modell: 'Audi A4',\r\n        kennzeichen: 'M-GH 3456',\r\n        kilometerstand: 15000,\r\n        tankstand: 100,\r\n        status: 'Verfügbar',\r\n        tuev_datum: '2024-09-10',\r\n        au_datum: '2024-09-10',\r\n        bild: 'https://cdn.pixabay.com/photo/2014/04/02/10/58/car-304920_960_720.png'\r\n      },\r\n      {\r\n        id: 5,\r\n        modell: 'Opel Astra',\r\n        kennzeichen: 'M-IJ 7890',\r\n        kilometerstand: 55000,\r\n        tankstand: 45,\r\n        status: 'Verfügbar',\r\n        tuev_datum: '2023-10-05',\r\n        au_datum: '2023-10-05',\r\n        bild: 'https://cdn.pixabay.com/photo/2014/04/03/00/30/car-308405_960_720.png'\r\n      }\r\n    ];\r\n    \r\n    // Versuche, lokale Fahrzeuge zu laden\r\n    try {\r\n      const savedVehicles = localStorage.getItem('vehicles');\r\n      if (savedVehicles) {\r\n        const parsedVehicles = JSON.parse(savedVehicles);\r\n        console.log(\"App: Geladene Fahrzeuge aus localStorage:\", parsedVehicles);\r\n        setVehicles(parsedVehicles);\r\n      } else {\r\n        // Wenn keine Fahrzeuge im localStorage existieren, die Standardfahrzeuge verwenden\r\n        console.log(\"App: Keine Fahrzeuge im localStorage, verwende Standardfahrzeuge\");\r\n        localStorage.setItem('vehicles', JSON.stringify(standardVehicles));\r\n        setVehicles(standardVehicles);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"App: Fehler beim Laden der Fahrzeuge aus localStorage:\", error);\r\n      setVehicles(standardVehicles);\r\n    }\r\n    \r\n    setVehiclesLoaded(true);\r\n  };\r\n  \r\n  // Fahrzeug hinzufügen\r\n  const addVehicle = (newVehicle) => {\r\n    console.log(\"App: Füge neues Fahrzeug hinzu:\", newVehicle);\r\n    \r\n    // Versuche das Fahrzeug über die API hinzuzufügen\r\n    if (newVehicle.id) {\r\n      // Wenn bereits eine ID vorhanden ist, wurde das Fahrzeug bereits in der Komponente erstellt\r\n      // (z.B. im Offline-Modus) - direkt dem State hinzufügen\r\n      const updatedVehicles = [...vehicles, newVehicle];\r\n      setVehicles(updatedVehicles);\r\n      \r\n      // Speichern im localStorage\r\n      try {\r\n        localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\r\n        console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\r\n      } catch (error) {\r\n        console.error(\"App: Fehler beim Speichern im localStorage:\", error);\r\n      }\r\n    } else {\r\n      // Wenn keine ID vorhanden ist, versuche es über die API\r\n      // Im realen System würde hier ein API-Aufruf zum Speichern stattfinden\r\n      console.log(\"App: Fahrzeug würde an API gesendet werden\");\r\n      \r\n      // Simuliere einen erfolgreichen API-Aufruf\r\n      const vehicleWithId = {\r\n        ...newVehicle,\r\n        id: Date.now() // In der realen Anwendung würde die ID vom Server kommen\r\n      };\r\n      \r\n      const updatedVehicles = [...vehicles, vehicleWithId];\r\n      setVehicles(updatedVehicles);\r\n      \r\n      // Speichern im localStorage\r\n      try {\r\n        localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\r\n        console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\r\n      } catch (error) {\r\n        console.error(\"App: Fehler beim Speichern im localStorage:\", error);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Fahrzeug aktualisieren\r\n  const updateVehicle = (updatedVehicle) => {\r\n    console.log(\"App: Aktualisiere Fahrzeug:\", updatedVehicle);\r\n    const updatedVehicles = vehicles.map(v => v.id === updatedVehicle.id ? updatedVehicle : v);\r\n    setVehicles(updatedVehicles);\r\n    \r\n    // Speichern im localStorage\r\n    try {\r\n      localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\r\n      console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\r\n    } catch (error) {\r\n      console.error(\"App: Fehler beim Speichern im localStorage:\", error);\r\n    }\r\n  };\r\n  \r\n  // Fahrzeug löschen\r\n  const deleteVehicle = (vehicleId) => {\r\n    console.log(\"App: Lösche Fahrzeug mit ID:\", vehicleId);\r\n    const updatedVehicles = vehicles.filter(v => v.id !== vehicleId);\r\n    setVehicles(updatedVehicles);\r\n    \r\n    // Speichern im localStorage\r\n    try {\r\n      localStorage.setItem('vehicles', JSON.stringify(updatedVehicles));\r\n      console.log(\"App: Fahrzeuge im localStorage aktualisiert\");\r\n    } catch (error) {\r\n      console.error(\"App: Fehler beim Speichern im localStorage:\", error);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setIsLoggedIn(false);\r\n    localStorage.removeItem('isLoggedIn');\r\n  };\r\n\r\n  const toggleAdminMode = () => {\r\n    setIsAdmin(!isAdmin);\r\n  };\r\n\r\n  // Renderlogik basierend auf der aktiven Ansicht\r\n  const renderContent = () => {\r\n    if (!vehiclesLoaded) {\r\n      return <div className=\"w-full flex justify-center my-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n      </div>;\r\n    }\r\n\r\n    switch (activeView) {\r\n      case 'dashboard':\r\n        return isAdmin ? <GlobalDashboard /> : <UserDashboard />;\r\n      case 'vehicles':\r\n        return <VehicleList \r\n          isUserView={!isAdmin} \r\n          vehicles={vehicles} \r\n          onAddVehicle={addVehicle} \r\n          onUpdateVehicle={updateVehicle} \r\n          onDeleteVehicle={deleteVehicle} \r\n        />;\r\n      case 'statistics':\r\n        return isAdmin ? <StatisticsDashboard /> : null;\r\n      case 'vehicle-requests':\r\n        return isAdmin ? <VehicleRequests /> : null;\r\n      case 'my-requests':\r\n        return !isAdmin ? <UserRequests setActiveView={setActiveView} /> : null;\r\n      default:\r\n        return <VehicleList \r\n          isUserView={!isAdmin} \r\n          vehicles={vehicles} \r\n          onAddVehicle={addVehicle} \r\n          onUpdateVehicle={updateVehicle} \r\n          onDeleteVehicle={deleteVehicle} \r\n        />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100\">\r\n      <Sidebar \r\n        isOpen={sidebarOpen} \r\n        toggleSidebar={() => setSidebarOpen(!sidebarOpen)} \r\n        isAdmin={isAdmin}\r\n        onLogout={handleLogout}\r\n        activeView={activeView}\r\n        setActiveView={setActiveView}\r\n      />\r\n      \r\n      <div className=\"flex-1 overflow-auto\">\r\n        <div className=\"p-4 md:p-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h1 className=\"text-2xl font-bold text-gray-800\">Fahrzeugverwaltung</h1>\r\n            \r\n            <div className=\"flex items-center\">\r\n              <span className=\"mr-2 text-sm\">{isAdmin ? 'Admin-Modus' : 'Benutzer-Modus'}</span>\r\n              <button \r\n                onClick={toggleAdminMode}\r\n                className=\"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n              >\r\n                {isAdmin ? 'Zu Benutzeransicht wechseln' : 'Zu Admin-Ansicht wechseln'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {renderContent()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}