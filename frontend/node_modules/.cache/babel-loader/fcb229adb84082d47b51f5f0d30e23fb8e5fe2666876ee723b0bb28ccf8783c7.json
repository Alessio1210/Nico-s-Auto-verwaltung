{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\frontend\\\\src\\\\components\\\\AdminCalendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ArrowLeftIcon, ArrowRightIcon, ViewListIcon, ViewGridIcon, ChevronDownIcon } from '@heroicons/react/24/outline';\n\n// Farben für verschiedene Fahrzeuge\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst vehicleColors = ['#4f46e5',\n// indigo\n'#10b981',\n// emerald\n'#ef4444',\n// red\n'#f97316',\n// orange\n'#8b5cf6',\n// violet\n'#06b6d4',\n// cyan\n'#ec4899',\n// pink\n'#f59e0b',\n// amber\n'#64748b',\n// slate\n'#84cc16' // lime\n];\n\n// Hash-Funktion, um konsistente Farben für ein Fahrzeug zu bekommen\nconst getVehicleColor = vehicleId => {\n  const id = parseInt(vehicleId);\n  return vehicleColors[id % vehicleColors.length];\n};\nfunction AdminCalendar({\n  vehicles: propVehicles\n}) {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [view, setView] = useState('month'); // 'day', 'week', 'month'\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [selectedBooking, setSelectedBooking] = useState(null);\n  const [showDetails, setShowDetails] = useState(false);\n\n  // Lade alle Fahrzeuge und Buchungen\n  useEffect(() => {\n    setLoading(true);\n    try {\n      // Nutze Fahrzeuge aus Props (falls vorhanden) oder aus dem localStorage\n      if (propVehicles && propVehicles.length > 0) {\n        console.log('Nutze Fahrzeuge aus Props:', propVehicles);\n        setVehicles(propVehicles);\n      } else {\n        // Lade alle Fahrzeuge aus dem localStorage als Fallback\n        const savedVehicles = localStorage.getItem('vehicles');\n        const vehiclesList = savedVehicles ? JSON.parse(savedVehicles) : [];\n        console.log('Nutze Fahrzeuge aus localStorage:', vehiclesList);\n        setVehicles(vehiclesList);\n      }\n\n      // Lade alle Anfragen aus dem localStorage\n      const savedRequests = localStorage.getItem('vehicleRequests');\n      const allBookings = savedRequests ? JSON.parse(savedRequests) : [];\n\n      // Sortiere nach Startdatum\n      allBookings.sort((a, b) => new Date(a.startDateTime) - new Date(b.startDateTime));\n      setBookings(allBookings);\n      console.log('Alle Buchungen geladen:', allBookings);\n    } catch (error) {\n      console.error('Fehler beim Laden der Daten:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [propVehicles]);\n\n  // Hilfsfunktionen für Datumsberechnungen\n  const getMonthName = date => {\n    return date.toLocaleString('de-DE', {\n      month: 'long'\n    });\n  };\n  const getDaysInMonth = date => {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n  };\n  const getFirstDayOfMonth = date => {\n    return new Date(date.getFullYear(), date.getMonth(), 1).getDay() || 7; // Wandelt 0 (Sonntag) in 7 um für europäisches Format\n  };\n  const getDaysInWeek = date => {\n    const day = date.getDay() || 7; // Konvertiere Sonntag (0) zu 7\n    const startOfWeek = new Date(date);\n    startOfWeek.setDate(date.getDate() - day + 1); // Montag der aktuellen Woche\n\n    const days = [];\n    for (let i = 0; i < 7; i++) {\n      const currentDay = new Date(startOfWeek);\n      currentDay.setDate(startOfWeek.getDate() + i);\n      days.push(currentDay);\n    }\n    return days;\n  };\n\n  // Navigation\n  const goToPrevious = () => {\n    const newDate = new Date(currentDate);\n    if (view === 'day') {\n      newDate.setDate(currentDate.getDate() - 1);\n    } else if (view === 'week') {\n      newDate.setDate(currentDate.getDate() - 7);\n    } else {\n      newDate.setMonth(currentDate.getMonth() - 1);\n    }\n    setCurrentDate(newDate);\n  };\n  const goToNext = () => {\n    const newDate = new Date(currentDate);\n    if (view === 'day') {\n      newDate.setDate(currentDate.getDate() + 1);\n    } else if (view === 'week') {\n      newDate.setDate(currentDate.getDate() + 7);\n    } else {\n      newDate.setMonth(currentDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n  };\n  const goToToday = () => {\n    setCurrentDate(new Date());\n  };\n\n  // Formatierung für die Anzeige\n  const formatDate = date => {\n    return date.toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    });\n  };\n  const formatTime = dateStr => {\n    const date = new Date(dateStr);\n    return date.toLocaleTimeString('de-DE', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Buchungen nach Datum filtern\n  const getBookingsForDate = date => {\n    return bookings.filter(booking => {\n      const startDate = new Date(booking.startDateTime);\n      const endDate = new Date(booking.endDateTime);\n\n      // Setze die Zeiten auf Mitternacht für Datumsvergleich\n      const checkDate = new Date(date);\n      checkDate.setHours(0, 0, 0, 0);\n      const startDay = new Date(startDate);\n      startDay.setHours(0, 0, 0, 0);\n      const endDay = new Date(endDate);\n      endDay.setHours(0, 0, 0, 0);\n      return checkDate >= startDay && checkDate <= endDay;\n    });\n  };\n\n  // Buchungsdetails anzeigen\n  const showBookingDetails = booking => {\n    setSelectedBooking(booking);\n    setShowDetails(true);\n  };\n  const hideBookingDetails = () => {\n    setSelectedBooking(null);\n    setShowDetails(false);\n  };\n\n  // Render der Tagesansicht\n  const renderDayView = () => {\n    const hours = Array.from({\n      length: 24\n    }, (_, i) => i);\n    const dateToShow = new Date(currentDate);\n    const todayBookings = getBookingsForDate(dateToShow);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto max-h-[calc(100vh-220px)]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-[80px_1fr] border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-2 font-semibold\",\n          children: \"Uhrzeit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-2 font-semibold\",\n          children: formatDate(dateToShow)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), hours.map(hour => {\n        const hourText = `${hour.toString().padStart(2, '0')}:00`;\n        const hourBookings = todayBookings.filter(booking => {\n          const startTime = new Date(booking.startDateTime);\n          const endTime = new Date(booking.endDateTime);\n          const currentHourStart = new Date(dateToShow);\n          currentHourStart.setHours(hour, 0, 0, 0);\n          const currentHourEnd = new Date(dateToShow);\n          currentHourEnd.setHours(hour, 59, 59, 999);\n          return startTime >= currentHourStart && startTime <= currentHourEnd || endTime >= currentHourStart && endTime <= currentHourEnd || startTime <= currentHourStart && endTime >= currentHourEnd;\n        });\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-[80px_1fr] border-b min-h-[60px] hover:bg-gray-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right pr-2 py-2 text-sm border-r\",\n            children: hourText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-1 relative\",\n            children: hourBookings.map((booking, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\",\n              style: {\n                backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\n                borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\n              },\n              onClick: () => showBookingDetails(booking),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-xs\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: booking.vehicleModel || 'Fahrzeug'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: [formatTime(booking.startDateTime), \"-\", formatTime(booking.endDateTime)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs truncate\",\n                children: [booking.userName, \": \", booking.purpose]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 21\n              }, this)]\n            }, `${booking.id}-${idx}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this)]\n        }, hour, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render der Wochenansicht\n  const renderWeekView = () => {\n    const weekDays = getDaysInWeek(currentDate);\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto max-h-[calc(100vh-220px)]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-[80px_repeat(7,1fr)] border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), weekDays.map((day, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-center p-2 font-semibold ${day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: weekdayNames[idx]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: day.getDate()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), Array.from({\n        length: 12\n      }, (_, i) => i + 8).map(hour => {\n        const hourText = `${hour.toString().padStart(2, '0')}:00`;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-[80px_repeat(7,1fr)] border-b hover:bg-gray-50 min-h-[60px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right pr-2 py-2 text-sm border-r\",\n            children: hourText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), weekDays.map((day, dayIdx) => {\n            const currentDate = new Date(day);\n            currentDate.setHours(hour, 0, 0, 0);\n            const hourBookings = bookings.filter(booking => {\n              const startTime = new Date(booking.startDateTime);\n              const endTime = new Date(booking.endDateTime);\n              const currentHourStart = new Date(currentDate);\n              const currentHourEnd = new Date(currentDate);\n              currentHourEnd.setHours(hour, 59, 59, 999);\n              return startTime >= currentHourStart && startTime <= currentHourEnd || endTime >= currentHourStart && endTime <= currentHourEnd || startTime <= currentHourStart && endTime >= currentHourEnd;\n            });\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-1 border-r ${day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''}`,\n              children: hourBookings.map((booking, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\",\n                style: {\n                  backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\n                  borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\n                },\n                onClick: () => showBookingDetails(booking),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs font-semibold truncate\",\n                  children: booking.vehicleModel || 'Fahrzeug'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs truncate\",\n                  children: booking.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 25\n                }, this)]\n              }, `${booking.id}-${idx}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this))\n            }, dayIdx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this);\n          })]\n        }, hour, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render der Monatsansicht\n  const renderMonthView = () => {\n    const daysInMonth = getDaysInMonth(currentDate);\n    const firstDay = getFirstDayOfMonth(currentDate);\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n    const days = [];\n\n    // Leere Zellen für Tage vor dem ersten Tag des Monats\n    for (let i = 1; i < firstDay; i++) {\n      days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 border bg-gray-50 min-h-[100px]\"\n      }, `empty-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }, this));\n    }\n\n    // Tage des Monats\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\n      const dayBookings = getBookingsForDate(date);\n      const isToday = date.toDateString() === new Date().toDateString();\n      days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-2 border ${isToday ? 'bg-blue-50 border-blue-300' : ''} min-h-[100px] overflow-y-auto`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold\",\n          children: day\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), dayBookings.map((booking, idx) => {\n          var _booking$purpose, _booking$purpose2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\",\n            style: {\n              backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\n              borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\n            },\n            onClick: () => showBookingDetails(booking),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs font-semibold truncate\",\n              children: booking.vehicleModel || 'Fahrzeug'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs truncate\",\n              children: [booking.userName, \": \", (_booking$purpose = booking.purpose) === null || _booking$purpose === void 0 ? void 0 : _booking$purpose.substring(0, 15), ((_booking$purpose2 = booking.purpose) === null || _booking$purpose2 === void 0 ? void 0 : _booking$purpose2.length) > 15 ? '...' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)]\n          }, `${booking.id}-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this);\n        })]\n      }, `day-${day}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto max-h-[calc(100vh-220px)]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-7 gap-0\",\n        children: [weekdayNames.map((day, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-2 font-semibold border-t border-x\",\n          children: day\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)), days]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Haupttitel für die Kalenderansicht\n  const getCalendarTitle = () => {\n    if (view === 'day') {\n      return formatDate(currentDate);\n    } else if (view === 'week') {\n      const weekDays = getDaysInWeek(currentDate);\n      const firstDay = weekDays[0];\n      const lastDay = weekDays[6];\n      return `${formatDate(firstDay)} - ${formatDate(lastDay)}`;\n    } else {\n      return `${getMonthName(currentDate)} ${currentDate.getFullYear()}`;\n    }\n  };\n\n  // Bookings Details Modal\n  const renderBookingDetails = () => {\n    if (!selectedBooking) return null;\n    const vehicle = vehicles.find(v => v.id === selectedBooking.vehicleId) || {\n      modell: selectedBooking.vehicleModel,\n      kennzeichen: selectedBooking.vehicleLicensePlate || selectedBooking.licensePlate\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl max-w-2xl w-full p-0 max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-gray-50 flex justify-between items-center border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Buchungsdetails\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: hideBookingDetails,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-6 w-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Fahrzeug\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: [vehicle.modell, \" (\", vehicle.kennzeichen, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${selectedBooking.status === 'approved' ? 'bg-green-100 text-green-800' : selectedBooking.status === 'rejected' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}`,\n                children: selectedBooking.status === 'approved' ? 'Genehmigt' : selectedBooking.status === 'rejected' ? 'Abgelehnt' : 'Ausstehend'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Zeitraum\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: [\"Von: \", new Date(selectedBooking.startDateTime).toLocaleString('de-DE')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: [\"Bis: \", new Date(selectedBooking.endDateTime).toLocaleString('de-DE')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Benutzer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: selectedBooking.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: selectedBooking.userDepartment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Verwendungszweck\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedBooking.purpose\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Zielort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedBooking.destination || 'Nicht angegeben'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), selectedBooking.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Notizen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedBooking.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), selectedBooking.responseNote && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-500 mb-1\",\n                children: \"Anmerkung vom Administrator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"italic\",\n                children: selectedBooking.responseNote\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-gray-50 border-t flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: hideBookingDetails,\n            className: \"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\",\n            children: \"Schlie\\xDFen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Fahrzeugfarben-Legende\n  const renderVehicleLegend = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-2 mb-4\",\n      children: vehicles.map((vehicle, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center px-2 py-1 rounded text-xs\",\n        style: {\n          backgroundColor: `${getVehicleColor(vehicle.id)}15`\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 rounded-full mr-1\",\n          style: {\n            backgroundColor: getVehicleColor(vehicle.id)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [vehicle.modell, \" (\", vehicle.kennzeichen, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-3 text-gray-600\",\n        children: \"Lade Kalender...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: \"Fahrzeugkalender (Admin)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-4 md:mb-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToPrevious,\n          className: \"p-2 border rounded mr-2 hover:bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToToday,\n          className: \"px-4 py-2 border rounded mr-2 hover:bg-gray-100\",\n          children: \"Heute\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToNext,\n          className: \"p-2 border rounded mr-4 hover:bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold\",\n          children: getCalendarTitle()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('day'),\n          className: `px-4 py-2 border-t border-b border-l rounded-l ${view === 'day' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'}`,\n          children: \"Tag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('week'),\n          className: `px-4 py-2 border ${view === 'week' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'}`,\n          children: \"Woche\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('month'),\n          className: `px-4 py-2 border-t border-b border-r rounded-r ${view === 'month' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'}`,\n          children: \"Monat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 7\n    }, this), renderVehicleLegend(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow overflow-hidden border\",\n      children: [view === 'day' && renderDayView(), view === 'week' && renderWeekView(), view === 'month' && renderMonthView()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 7\n    }, this), showDetails && renderBookingDetails()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 541,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminCalendar, \"+G54IyFScOEAnL1Ow6AlpiDsBXM=\");\n_c = AdminCalendar;\nexport default AdminCalendar;\nvar _c;\n$RefreshReg$(_c, \"AdminCalendar\");","map":{"version":3,"names":["React","useState","useEffect","ArrowLeftIcon","ArrowRightIcon","ViewListIcon","ViewGridIcon","ChevronDownIcon","jsxDEV","_jsxDEV","vehicleColors","getVehicleColor","vehicleId","id","parseInt","length","AdminCalendar","vehicles","propVehicles","_s","bookings","setBookings","setVehicles","loading","setLoading","view","setView","currentDate","setCurrentDate","Date","selectedBooking","setSelectedBooking","showDetails","setShowDetails","console","log","savedVehicles","localStorage","getItem","vehiclesList","JSON","parse","savedRequests","allBookings","sort","a","b","startDateTime","error","getMonthName","date","toLocaleString","month","getDaysInMonth","getFullYear","getMonth","getDate","getFirstDayOfMonth","getDay","getDaysInWeek","day","startOfWeek","setDate","days","i","currentDay","push","goToPrevious","newDate","setMonth","goToNext","goToToday","formatDate","toLocaleDateString","year","formatTime","dateStr","toLocaleTimeString","hour","minute","getBookingsForDate","filter","booking","startDate","endDate","endDateTime","checkDate","setHours","startDay","endDay","showBookingDetails","hideBookingDetails","renderDayView","hours","Array","from","_","dateToShow","todayBookings","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","hourText","toString","padStart","hourBookings","startTime","endTime","currentHourStart","currentHourEnd","idx","style","backgroundColor","borderLeft","onClick","vehicleModel","userName","purpose","renderWeekView","weekDays","weekdayNames","toDateString","dayIdx","renderMonthView","daysInMonth","firstDay","dayBookings","isToday","_booking$purpose","_booking$purpose2","substring","getCalendarTitle","lastDay","renderBookingDetails","vehicle","find","v","modell","kennzeichen","vehicleLicensePlate","licensePlate","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","status","userDepartment","destination","notes","responseNote","renderVehicleLegend","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/frontend/src/components/AdminCalendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeftIcon, ArrowRightIcon, ViewListIcon, ViewGridIcon, ChevronDownIcon } from '@heroicons/react/24/outline';\r\n\r\n// Farben für verschiedene Fahrzeuge\r\nconst vehicleColors = [\r\n  '#4f46e5', // indigo\r\n  '#10b981', // emerald\r\n  '#ef4444', // red\r\n  '#f97316', // orange\r\n  '#8b5cf6', // violet\r\n  '#06b6d4', // cyan\r\n  '#ec4899', // pink\r\n  '#f59e0b', // amber\r\n  '#64748b', // slate\r\n  '#84cc16'  // lime\r\n];\r\n\r\n// Hash-Funktion, um konsistente Farben für ein Fahrzeug zu bekommen\r\nconst getVehicleColor = (vehicleId) => {\r\n  const id = parseInt(vehicleId);\r\n  return vehicleColors[id % vehicleColors.length];\r\n};\r\n\r\nfunction AdminCalendar({ vehicles: propVehicles }) {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [view, setView] = useState('month'); // 'day', 'week', 'month'\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [selectedBooking, setSelectedBooking] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  // Lade alle Fahrzeuge und Buchungen\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    \r\n    try {\r\n      // Nutze Fahrzeuge aus Props (falls vorhanden) oder aus dem localStorage\r\n      if (propVehicles && propVehicles.length > 0) {\r\n        console.log('Nutze Fahrzeuge aus Props:', propVehicles);\r\n        setVehicles(propVehicles);\r\n      } else {\r\n        // Lade alle Fahrzeuge aus dem localStorage als Fallback\r\n        const savedVehicles = localStorage.getItem('vehicles');\r\n        const vehiclesList = savedVehicles ? JSON.parse(savedVehicles) : [];\r\n        console.log('Nutze Fahrzeuge aus localStorage:', vehiclesList);\r\n        setVehicles(vehiclesList);\r\n      }\r\n      \r\n      // Lade alle Anfragen aus dem localStorage\r\n      const savedRequests = localStorage.getItem('vehicleRequests');\r\n      const allBookings = savedRequests ? JSON.parse(savedRequests) : [];\r\n      \r\n      // Sortiere nach Startdatum\r\n      allBookings.sort((a, b) => new Date(a.startDateTime) - new Date(b.startDateTime));\r\n      \r\n      setBookings(allBookings);\r\n      console.log('Alle Buchungen geladen:', allBookings);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Daten:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [propVehicles]);\r\n\r\n  // Hilfsfunktionen für Datumsberechnungen\r\n  const getMonthName = (date) => {\r\n    return date.toLocaleString('de-DE', { month: 'long' });\r\n  };\r\n  \r\n  const getDaysInMonth = (date) => {\r\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n  };\r\n  \r\n  const getFirstDayOfMonth = (date) => {\r\n    return new Date(date.getFullYear(), date.getMonth(), 1).getDay() || 7; // Wandelt 0 (Sonntag) in 7 um für europäisches Format\r\n  };\r\n  \r\n  const getDaysInWeek = (date) => {\r\n    const day = date.getDay() || 7; // Konvertiere Sonntag (0) zu 7\r\n    const startOfWeek = new Date(date);\r\n    startOfWeek.setDate(date.getDate() - day + 1); // Montag der aktuellen Woche\r\n    \r\n    const days = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const currentDay = new Date(startOfWeek);\r\n      currentDay.setDate(startOfWeek.getDate() + i);\r\n      days.push(currentDay);\r\n    }\r\n    \r\n    return days;\r\n  };\r\n\r\n  // Navigation\r\n  const goToPrevious = () => {\r\n    const newDate = new Date(currentDate);\r\n    if (view === 'day') {\r\n      newDate.setDate(currentDate.getDate() - 1);\r\n    } else if (view === 'week') {\r\n      newDate.setDate(currentDate.getDate() - 7);\r\n    } else {\r\n      newDate.setMonth(currentDate.getMonth() - 1);\r\n    }\r\n    setCurrentDate(newDate);\r\n  };\r\n  \r\n  const goToNext = () => {\r\n    const newDate = new Date(currentDate);\r\n    if (view === 'day') {\r\n      newDate.setDate(currentDate.getDate() + 1);\r\n    } else if (view === 'week') {\r\n      newDate.setDate(currentDate.getDate() + 7);\r\n    } else {\r\n      newDate.setMonth(currentDate.getMonth() + 1);\r\n    }\r\n    setCurrentDate(newDate);\r\n  };\r\n  \r\n  const goToToday = () => {\r\n    setCurrentDate(new Date());\r\n  };\r\n\r\n  // Formatierung für die Anzeige\r\n  const formatDate = (date) => {\r\n    return date.toLocaleDateString('de-DE', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n  \r\n  const formatTime = (dateStr) => {\r\n    const date = new Date(dateStr);\r\n    return date.toLocaleTimeString('de-DE', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Buchungen nach Datum filtern\r\n  const getBookingsForDate = (date) => {\r\n    return bookings.filter(booking => {\r\n      const startDate = new Date(booking.startDateTime);\r\n      const endDate = new Date(booking.endDateTime);\r\n      \r\n      // Setze die Zeiten auf Mitternacht für Datumsvergleich\r\n      const checkDate = new Date(date);\r\n      checkDate.setHours(0, 0, 0, 0);\r\n      \r\n      const startDay = new Date(startDate);\r\n      startDay.setHours(0, 0, 0, 0);\r\n      \r\n      const endDay = new Date(endDate);\r\n      endDay.setHours(0, 0, 0, 0);\r\n      \r\n      return checkDate >= startDay && checkDate <= endDay;\r\n    });\r\n  };\r\n\r\n  // Buchungsdetails anzeigen\r\n  const showBookingDetails = (booking) => {\r\n    setSelectedBooking(booking);\r\n    setShowDetails(true);\r\n  };\r\n  \r\n  const hideBookingDetails = () => {\r\n    setSelectedBooking(null);\r\n    setShowDetails(false);\r\n  };\r\n\r\n  // Render der Tagesansicht\r\n  const renderDayView = () => {\r\n    const hours = Array.from({ length: 24 }, (_, i) => i);\r\n    const dateToShow = new Date(currentDate);\r\n    const todayBookings = getBookingsForDate(dateToShow);\r\n    \r\n    return (\r\n      <div className=\"overflow-auto max-h-[calc(100vh-220px)]\">\r\n        <div className=\"grid grid-cols-[80px_1fr] border-b\">\r\n          <div className=\"text-center py-2 font-semibold\">\r\n            Uhrzeit\r\n          </div>\r\n          <div className=\"text-center py-2 font-semibold\">\r\n            {formatDate(dateToShow)}\r\n          </div>\r\n        </div>\r\n        \r\n        {hours.map(hour => {\r\n          const hourText = `${hour.toString().padStart(2, '0')}:00`;\r\n          const hourBookings = todayBookings.filter(booking => {\r\n            const startTime = new Date(booking.startDateTime);\r\n            const endTime = new Date(booking.endDateTime);\r\n            const currentHourStart = new Date(dateToShow);\r\n            currentHourStart.setHours(hour, 0, 0, 0);\r\n            const currentHourEnd = new Date(dateToShow);\r\n            currentHourEnd.setHours(hour, 59, 59, 999);\r\n            \r\n            return (\r\n              (startTime >= currentHourStart && startTime <= currentHourEnd) || \r\n              (endTime >= currentHourStart && endTime <= currentHourEnd) ||\r\n              (startTime <= currentHourStart && endTime >= currentHourEnd)\r\n            );\r\n          });\r\n          \r\n          return (\r\n            <div key={hour} className=\"grid grid-cols-[80px_1fr] border-b min-h-[60px] hover:bg-gray-50\">\r\n              <div className=\"text-right pr-2 py-2 text-sm border-r\">\r\n                {hourText}\r\n              </div>\r\n              <div className=\"p-1 relative\">\r\n                {hourBookings.map((booking, idx) => (\r\n                  <div \r\n                    key={`${booking.id}-${idx}`}\r\n                    className=\"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\"\r\n                    style={{ \r\n                      backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\r\n                      borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\r\n                    }}\r\n                    onClick={() => showBookingDetails(booking)}\r\n                  >\r\n                    <div className=\"flex justify-between text-xs\">\r\n                      <span className=\"font-semibold\">\r\n                        {booking.vehicleModel || 'Fahrzeug'}\r\n                      </span>\r\n                      <span className=\"text-gray-500\">\r\n                        {formatTime(booking.startDateTime)}-{formatTime(booking.endDateTime)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"text-xs truncate\">\r\n                      {booking.userName}: {booking.purpose}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render der Wochenansicht\r\n  const renderWeekView = () => {\r\n    const weekDays = getDaysInWeek(currentDate);\r\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\r\n    \r\n    return (\r\n      <div className=\"overflow-auto max-h-[calc(100vh-220px)]\">\r\n        <div className=\"grid grid-cols-[80px_repeat(7,1fr)] border-b\">\r\n          <div className=\"p-2\"></div>\r\n          {weekDays.map((day, idx) => (\r\n            <div \r\n              key={idx}\r\n              className={`text-center p-2 font-semibold ${\r\n                day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''\r\n              }`}\r\n            >\r\n              <div>{weekdayNames[idx]}</div>\r\n              <div>{day.getDate()}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        {Array.from({ length: 12 }, (_, i) => i + 8).map(hour => {\r\n          const hourText = `${hour.toString().padStart(2, '0')}:00`;\r\n          \r\n          return (\r\n            <div key={hour} className=\"grid grid-cols-[80px_repeat(7,1fr)] border-b hover:bg-gray-50 min-h-[60px]\">\r\n              <div className=\"text-right pr-2 py-2 text-sm border-r\">\r\n                {hourText}\r\n              </div>\r\n              \r\n              {weekDays.map((day, dayIdx) => {\r\n                const currentDate = new Date(day);\r\n                currentDate.setHours(hour, 0, 0, 0);\r\n                \r\n                const hourBookings = bookings.filter(booking => {\r\n                  const startTime = new Date(booking.startDateTime);\r\n                  const endTime = new Date(booking.endDateTime);\r\n                  const currentHourStart = new Date(currentDate);\r\n                  const currentHourEnd = new Date(currentDate);\r\n                  currentHourEnd.setHours(hour, 59, 59, 999);\r\n                  \r\n                  return (\r\n                    (startTime >= currentHourStart && startTime <= currentHourEnd) || \r\n                    (endTime >= currentHourStart && endTime <= currentHourEnd) ||\r\n                    (startTime <= currentHourStart && endTime >= currentHourEnd)\r\n                  );\r\n                });\r\n                \r\n                return (\r\n                  <div \r\n                    key={dayIdx} \r\n                    className={`p-1 border-r ${\r\n                      day.toDateString() === new Date().toDateString() ? 'bg-blue-50' : ''\r\n                    }`}\r\n                  >\r\n                    {hourBookings.map((booking, idx) => (\r\n                      <div \r\n                        key={`${booking.id}-${idx}`}\r\n                        className=\"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\"\r\n                        style={{ \r\n                          backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\r\n                          borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\r\n                        }}\r\n                        onClick={() => showBookingDetails(booking)}\r\n                      >\r\n                        <div className=\"text-xs font-semibold truncate\">\r\n                          {booking.vehicleModel || 'Fahrzeug'}\r\n                        </div>\r\n                        <div className=\"text-xs truncate\">\r\n                          {booking.userName}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render der Monatsansicht\r\n  const renderMonthView = () => {\r\n    const daysInMonth = getDaysInMonth(currentDate);\r\n    const firstDay = getFirstDayOfMonth(currentDate);\r\n    const weekdayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\r\n    \r\n    const days = [];\r\n    \r\n    // Leere Zellen für Tage vor dem ersten Tag des Monats\r\n    for (let i = 1; i < firstDay; i++) {\r\n      days.push(<div key={`empty-${i}`} className=\"p-2 border bg-gray-50 min-h-[100px]\"></div>);\r\n    }\r\n    \r\n    // Tage des Monats\r\n    for (let day = 1; day <= daysInMonth; day++) {\r\n      const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\r\n      const dayBookings = getBookingsForDate(date);\r\n      const isToday = date.toDateString() === new Date().toDateString();\r\n      \r\n      days.push(\r\n        <div \r\n          key={`day-${day}`} \r\n          className={`p-2 border ${isToday ? 'bg-blue-50 border-blue-300' : ''} min-h-[100px] overflow-y-auto`}\r\n        >\r\n          <div className=\"font-semibold\">{day}</div>\r\n          {dayBookings.map((booking, idx) => (\r\n            <div \r\n              key={`${booking.id}-${idx}`}\r\n              className=\"mb-1 p-1 rounded cursor-pointer hover:shadow-md transition-shadow\"\r\n              style={{ \r\n                backgroundColor: `${getVehicleColor(booking.vehicleId)}15`,\r\n                borderLeft: `4px solid ${getVehicleColor(booking.vehicleId)}`\r\n              }}\r\n              onClick={() => showBookingDetails(booking)}\r\n            >\r\n              <div className=\"text-xs font-semibold truncate\">\r\n                {booking.vehicleModel || 'Fahrzeug'}\r\n              </div>\r\n              <div className=\"text-xs truncate\">\r\n                {booking.userName}: {booking.purpose?.substring(0, 15)}\r\n                {booking.purpose?.length > 15 ? '...' : ''}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className=\"overflow-auto max-h-[calc(100vh-220px)]\">\r\n        <div className=\"grid grid-cols-7 gap-0\">\r\n          {/* Wochentage */}\r\n          {weekdayNames.map((day, idx) => (\r\n            <div key={idx} className=\"text-center p-2 font-semibold border-t border-x\">\r\n              {day}\r\n            </div>\r\n          ))}\r\n          \r\n          {/* Kalendertage */}\r\n          {days}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Haupttitel für die Kalenderansicht\r\n  const getCalendarTitle = () => {\r\n    if (view === 'day') {\r\n      return formatDate(currentDate);\r\n    } else if (view === 'week') {\r\n      const weekDays = getDaysInWeek(currentDate);\r\n      const firstDay = weekDays[0];\r\n      const lastDay = weekDays[6];\r\n      \r\n      return `${formatDate(firstDay)} - ${formatDate(lastDay)}`;\r\n    } else {\r\n      return `${getMonthName(currentDate)} ${currentDate.getFullYear()}`;\r\n    }\r\n  };\r\n\r\n  // Bookings Details Modal\r\n  const renderBookingDetails = () => {\r\n    if (!selectedBooking) return null;\r\n    \r\n    const vehicle = vehicles.find(v => v.id === selectedBooking.vehicleId) || {\r\n      modell: selectedBooking.vehicleModel,\r\n      kennzeichen: selectedBooking.vehicleLicensePlate || selectedBooking.licensePlate\r\n    };\r\n    \r\n    return (\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-50\">\r\n        <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full p-0 max-h-[90vh] overflow-y-auto\">\r\n          <div className=\"p-4 bg-gray-50 flex justify-between items-center border-b\">\r\n            <h3 className=\"text-lg font-semibold\">Buchungsdetails</h3>\r\n            <button \r\n              onClick={hideBookingDetails}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Fahrzeug</h4>\r\n                <p className=\"font-medium\">\r\n                  {vehicle.modell} ({vehicle.kennzeichen})\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Status</h4>\r\n                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                  selectedBooking.status === 'approved' ? 'bg-green-100 text-green-800' : \r\n                  selectedBooking.status === 'rejected' ? 'bg-red-100 text-red-800' : \r\n                  'bg-yellow-100 text-yellow-800'\r\n                }`}>\r\n                  {selectedBooking.status === 'approved' ? 'Genehmigt' :\r\n                   selectedBooking.status === 'rejected' ? 'Abgelehnt' : 'Ausstehend'}\r\n                </span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Zeitraum</h4>\r\n                <p className=\"font-medium\">\r\n                  Von: {new Date(selectedBooking.startDateTime).toLocaleString('de-DE')}\r\n                </p>\r\n                <p className=\"font-medium\">\r\n                  Bis: {new Date(selectedBooking.endDateTime).toLocaleString('de-DE')}\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Benutzer</h4>\r\n                <p className=\"font-medium\">{selectedBooking.userName}</p>\r\n                <p className=\"text-sm text-gray-600\">{selectedBooking.userDepartment}</p>\r\n              </div>\r\n\r\n              <div className=\"col-span-2\">\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Verwendungszweck</h4>\r\n                <p>{selectedBooking.purpose}</p>\r\n              </div>\r\n\r\n              <div className=\"col-span-2\">\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Zielort</h4>\r\n                <p>{selectedBooking.destination || 'Nicht angegeben'}</p>\r\n              </div>\r\n\r\n              {selectedBooking.notes && (\r\n                <div className=\"col-span-2\">\r\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-1\">Notizen</h4>\r\n                  <p>{selectedBooking.notes}</p>\r\n                </div>\r\n              )}\r\n\r\n              {selectedBooking.responseNote && (\r\n                <div className=\"col-span-2\">\r\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-1\">\r\n                    Anmerkung vom Administrator\r\n                  </h4>\r\n                  <p className=\"italic\">{selectedBooking.responseNote}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"p-4 bg-gray-50 border-t flex justify-end\">\r\n            <button\r\n              onClick={hideBookingDetails}\r\n              className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\"\r\n            >\r\n              Schließen\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Fahrzeugfarben-Legende\r\n  const renderVehicleLegend = () => {\r\n    return (\r\n      <div className=\"flex flex-wrap gap-2 mb-4\">\r\n        {vehicles.map((vehicle, idx) => (\r\n          <div \r\n            key={idx}\r\n            className=\"flex items-center px-2 py-1 rounded text-xs\"\r\n            style={{ \r\n              backgroundColor: `${getVehicleColor(vehicle.id)}15`,\r\n            }}\r\n          >\r\n            <div \r\n              className=\"w-3 h-3 rounded-full mr-1\"\r\n              style={{ backgroundColor: getVehicleColor(vehicle.id) }}\r\n            ></div>\r\n            <span>{vehicle.modell} ({vehicle.kennzeichen})</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n        <span className=\"ml-3 text-gray-600\">Lade Kalender...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 py-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Fahrzeugkalender (Admin)</h1>\r\n      \r\n      {/* Kontrollleiste */}\r\n      <div className=\"flex flex-col md:flex-row justify-between mb-6\">\r\n        <div className=\"flex items-center mb-4 md:mb-0\">\r\n          <button\r\n            onClick={goToPrevious}\r\n            className=\"p-2 border rounded mr-2 hover:bg-gray-100\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5\" />\r\n          </button>\r\n          \r\n          <button\r\n            onClick={goToToday}\r\n            className=\"px-4 py-2 border rounded mr-2 hover:bg-gray-100\"\r\n          >\r\n            Heute\r\n          </button>\r\n          \r\n          <button\r\n            onClick={goToNext}\r\n            className=\"p-2 border rounded mr-4 hover:bg-gray-100\"\r\n          >\r\n            <ArrowRightIcon className=\"h-5 w-5\" />\r\n          </button>\r\n          \r\n          <h2 className=\"text-xl font-semibold\">\r\n            {getCalendarTitle()}\r\n          </h2>\r\n        </div>\r\n        \r\n        <div className=\"flex\">\r\n          <button\r\n            onClick={() => setView('day')}\r\n            className={`px-4 py-2 border-t border-b border-l rounded-l ${\r\n              view === 'day' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            Tag\r\n          </button>\r\n          <button\r\n            onClick={() => setView('week')}\r\n            className={`px-4 py-2 border ${\r\n              view === 'week' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            Woche\r\n          </button>\r\n          <button\r\n            onClick={() => setView('month')}\r\n            className={`px-4 py-2 border-t border-b border-r rounded-r ${\r\n              view === 'month' ? 'bg-blue-50 border-blue-500 text-blue-600' : 'hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            Monat\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Fahrzeugfarben-Legende */}\r\n      {renderVehicleLegend()}\r\n      \r\n      {/* Kalenderansicht */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden border\">\r\n        {view === 'day' && renderDayView()}\r\n        {view === 'week' && renderWeekView()}\r\n        {view === 'month' && renderMonthView()}\r\n      </div>\r\n      \r\n      {/* Buchungsdetails Modal */}\r\n      {showDetails && renderBookingDetails()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminCalendar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}