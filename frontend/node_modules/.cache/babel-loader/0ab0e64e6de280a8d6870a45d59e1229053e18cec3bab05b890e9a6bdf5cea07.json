{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\frontend\\\\src\\\\components\\\\BookingForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { CalendarIcon, ClockIcon, ArrowRightIcon, CheckCircleIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookingForm({\n  vehicle,\n  onSubmit,\n  onCancel,\n  checkAvailability\n}) {\n  _s();\n  const [formStep, setFormStep] = useState(1);\n  const [totalSteps] = useState(3);\n  const [bookingData, setBookingData] = useState({\n    pickupDate: '',\n    pickupTime: '08:00',\n    returnDate: '',\n    returnTime: '17:00',\n    purpose: '',\n    destination: '',\n    passengers: 1,\n    notes: ''\n  });\n  const [conflicts, setConflicts] = useState([]);\n  const [validated, setValidated] = useState(false);\n\n  // Aktuelles Datum berechnen (für min-Werte in den Datumsfeldern)\n  const today = new Date().toISOString().split('T')[0];\n\n  // Refs für Fokusbewahrung\n  const inputRefs = {\n    pickupDate: useRef(null),\n    pickupTime: useRef(null),\n    returnDate: useRef(null),\n    returnTime: useRef(null),\n    purpose: useRef(null),\n    destination: useRef(null),\n    passengers: useRef(null),\n    notes: useRef(null)\n  };\n\n  // Aktuelle Feldnamen, die bearbeitet werden\n  const [activeField, setActiveField] = useState(null);\n\n  // Fokuswiederherstellung nach Rendering\n  useEffect(() => {\n    if (activeField && inputRefs[activeField] && inputRefs[activeField].current) {\n      const input = inputRefs[activeField].current;\n\n      // Setze den Cursor an die Stelle, an der er war\n      requestAnimationFrame(() => {\n        try {\n          input.focus();\n\n          // Für Text-Inputs: setze den Cursor ans Ende des Texts\n          if (input.type === 'text' || input.type === 'number') {\n            const length = input.value.length;\n            input.setSelectionRange(length, length);\n          }\n        } catch (e) {\n          // Einige Input-Typen unterstützen setSelectionRange nicht\n          console.log(\"Konnte Cursor-Position nicht setzen für Feld:\", activeField);\n        }\n      });\n    }\n  }, [bookingData, activeField]);\n\n  // Validierung für den aktuellen Schritt\n  const validateStep = () => {\n    switch (formStep) {\n      case 1:\n        return bookingData.pickupDate && bookingData.returnDate;\n      case 2:\n        return bookingData.purpose && bookingData.destination;\n      case 3:\n        return true;\n      // Letzter Schritt, immer gültig\n      default:\n        return false;\n    }\n  };\n\n  // Führe die Validierung nur aus, wenn sich der formStep ändert\n  useEffect(() => {\n    setValidated(validateStep());\n  }, [formStep]);\n\n  // Prüfe Verfügbarkeit, wenn sich die Daten ändern\n  useEffect(() => {\n    if (bookingData.pickupDate && bookingData.returnDate && checkAvailability) {\n      const startDateTime = `${bookingData.pickupDate}T${bookingData.pickupTime}`;\n      const endDateTime = `${bookingData.returnDate}T${bookingData.returnTime}`;\n\n      // Prüfe Verfügbarkeit mit der übergebenen Funktion\n      const {\n        isAvailable,\n        conflicts\n      } = checkAvailability(vehicle.id, startDateTime, endDateTime);\n      if (!isAvailable) {\n        setConflicts(conflicts);\n      } else {\n        setConflicts([]);\n      }\n    }\n  }, [bookingData.pickupDate, bookingData.pickupTime, bookingData.returnDate, bookingData.returnTime, vehicle.id, checkAvailability]);\n\n  // Handler für Änderungen an Formularfeldern\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Markiere das aktive Feld für Fokusbewahrung\n    setActiveField(name);\n\n    // Spezielle Behandlung für Datumsfelder\n    if (name === 'pickupDate') {\n      // Setze auch Enddatum, wenn es leer ist oder vor dem neuen Startdatum liegt\n      if (!bookingData.returnDate || new Date(bookingData.returnDate) < new Date(value)) {\n        setBookingData({\n          ...bookingData,\n          [name]: value,\n          returnDate: value // Setze Enddatum auf gleiches Datum\n        });\n        return;\n      }\n    }\n\n    // Aktualisiere State\n    setBookingData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n\n    // Führe die Validierung direkt hier durch\n    setValidated(validateStep());\n  };\n\n  // Zum nächsten Schritt gehen\n  const goToNextStep = () => {\n    // Führe Datumsvalidierung hier durch, bevor wir zum nächsten Schritt gehen\n    if (formStep === 1) {\n      // Prüfe, ob das Abholdatum in der Vergangenheit liegt\n      const pickupDate = new Date(bookingData.pickupDate);\n      const today = new Date();\n      today.setHours(0, 0, 0, 0); // Setze auf Beginn des Tages für korrekten Vergleich\n\n      if (pickupDate < today) {\n        alert('Termine in der Vergangenheit können nicht gebucht werden.');\n        return; // Verhindere das Weitergehen\n      }\n    }\n    if (formStep < totalSteps && validateStep()) {\n      setFormStep(formStep + 1);\n    }\n  };\n\n  // Zum vorherigen Schritt gehen\n  const goToPrevStep = () => {\n    if (formStep > 1) {\n      setFormStep(formStep - 1);\n    }\n  };\n\n  // Formular einreichen\n  const handleSubmit = e => {\n    e.preventDefault();\n    const fullBookingData = {\n      ...bookingData,\n      vehicleId: vehicle.id,\n      vehicleName: `${vehicle.modell} (${vehicle.kennzeichen})`,\n      startDateTime: `${bookingData.pickupDate}T${bookingData.pickupTime}`,\n      endDateTime: `${bookingData.returnDate}T${bookingData.returnTime}`\n    };\n    onSubmit(fullBookingData);\n  };\n\n  // Fortschrittsbalken\n  const ProgressBar = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"Schritt \", formStep, \" von \", totalSteps]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm font-medium text-blue-600\",\n        children: [Math.round(formStep / totalSteps * 100), \"% Abgeschlossen\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-gray-200 rounded-full h-2.5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out\",\n        style: {\n          width: `${formStep / totalSteps * 100}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n\n  // Komponenten für die verschiedenen Schritte\n  const Step1 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-center text-gray-800\",\n      children: \"Wann ben\\xF6tigen Sie das Fahrzeug?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-600\",\n      children: \"W\\xE4hlen Sie Ihre bevorzugten Abhol- und R\\xFCckgabezeiten\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Abholdatum & Zeit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative flex-grow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"pickupDate\",\n              min: today,\n              value: bookingData.pickupDate,\n              onChange: handleChange,\n              ref: inputRefs.pickupDate,\n              className: \"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative ml-2 w-32\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(ClockIcon, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              name: \"pickupTime\",\n              value: bookingData.pickupTime,\n              onChange: handleChange,\n              ref: inputRefs.pickupTime,\n              className: \"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-base\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"R\\xFCckgabedatum & Zeit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative flex-grow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"returnDate\",\n              min: bookingData.pickupDate || today,\n              value: bookingData.returnDate,\n              onChange: handleChange,\n              ref: inputRefs.returnDate,\n              className: \"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative ml-2 w-32\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(ClockIcon, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              name: \"returnTime\",\n              value: bookingData.returnTime,\n              onChange: handleChange,\n              ref: inputRefs.returnTime,\n              className: \"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-base\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), conflicts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 mt-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-yellow-400\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-yellow-800\",\n            children: \"\\xDCberschneidungen mit bestehenden Buchungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-sm text-yellow-700\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc pl-5 space-y-1\",\n              children: conflicts.map((conflict, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [new Date(conflict.startDateTime).toLocaleDateString(), \" - \", new Date(conflict.endDateTime).toLocaleDateString(), conflict.userName && ` (${conflict.userName})`]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n  const Step2 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-center text-gray-800\",\n      children: \"Wohin fahren Sie?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-600\",\n      children: \"Geben Sie den Zweck und das Ziel Ihrer Fahrt an\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Verwendungszweck\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"purpose\",\n          value: bookingData.purpose,\n          onChange: handleChange,\n          ref: inputRefs.purpose,\n          placeholder: \"z.B. Kundentermin, Materialtransport\",\n          className: \"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Zielort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"destination\",\n          value: bookingData.destination,\n          onChange: handleChange,\n          ref: inputRefs.destination,\n          placeholder: \"z.B. M\\xFCnchen, Stuttgart\",\n          className: \"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Anzahl Personen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"passengers\",\n          min: \"1\",\n          max: \"9\",\n          value: bookingData.passengers,\n          onChange: handleChange,\n          ref: inputRefs.passengers,\n          className: \"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Zus\\xE4tzliche Hinweise (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"notes\",\n          value: bookingData.notes,\n          onChange: handleChange,\n          ref: inputRefs.notes,\n          rows: \"3\",\n          placeholder: \"z.B. Besondere Anforderungen, Parkm\\xF6glichkeiten, etc.\",\n          className: \"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 5\n  }, this);\n  const Step3 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-center text-gray-800\",\n      children: \"\\xDCberpr\\xFCfen und best\\xE4tigen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-600\",\n      children: \"Bitte \\xFCberpr\\xFCfen Sie Ihre Angaben\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow overflow-hidden sm:rounded-lg mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:px-6 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900\",\n          children: \"Fahrzeugdetails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"dl\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Fahrzeug\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: [vehicle.modell, \" (\", vehicle.kennzeichen, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Abholdatum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: [new Date(bookingData.pickupDate).toLocaleDateString(), \" um \", bookingData.pickupTime, \" Uhr\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"R\\xFCckgabedatum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: [new Date(bookingData.returnDate).toLocaleDateString(), \" um \", bookingData.returnTime, \" Uhr\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Verwendungszweck\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: bookingData.purpose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Zielort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: bookingData.destination\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Anzahl Personen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: bookingData.passengers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this), bookingData.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Hinweise\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: bookingData.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), conflicts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 mt-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-yellow-400\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-yellow-800\",\n            children: \"Hinweis: \\xDCberschneidungen mit bestehenden Buchungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-sm text-yellow-700\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Diese Anfrage \\xFCberschneidet sich mit bestehenden Buchungen. Sie k\\xF6nnen die Anfrage trotzdem absenden, aber sie muss vom Administrator genehmigt werden.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n\n  // Rendere den aktuellen Schritt\n  const renderStep = () => {\n    switch (formStep) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(Step1, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 16\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(Step2, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 16\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(Step3, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Step1, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-lg max-w-3xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(ProgressBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [renderStep(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: formStep === 1 ? onCancel : goToPrevStep,\n          className: \"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",\n          children: formStep === 1 ? 'Abbrechen' : 'Zurück'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), formStep < totalSteps ? /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: goToNextStep,\n          disabled: !validated,\n          className: `px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white flex items-center\n                ${validated ? 'bg-blue-600 hover:bg-blue-700' : 'bg-blue-300 cursor-not-allowed'}`,\n          children: [\"Weiter\", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n            className: \"ml-2 h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 flex items-center\",\n          children: [\"Anfrage senden\", /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            className: \"ml-2 h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 482,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingForm, \"BEqWfWq+nEgnG4GwTVVfgp4+02M=\");\n_c = BookingForm;\nexport default BookingForm;\nvar _c;\n$RefreshReg$(_c, \"BookingForm\");","map":{"version":3,"names":["React","useState","useEffect","useRef","CalendarIcon","ClockIcon","ArrowRightIcon","CheckCircleIcon","jsxDEV","_jsxDEV","BookingForm","vehicle","onSubmit","onCancel","checkAvailability","_s","formStep","setFormStep","totalSteps","bookingData","setBookingData","pickupDate","pickupTime","returnDate","returnTime","purpose","destination","passengers","notes","conflicts","setConflicts","validated","setValidated","today","Date","toISOString","split","inputRefs","activeField","setActiveField","current","input","requestAnimationFrame","focus","type","length","value","setSelectionRange","e","console","log","validateStep","startDateTime","endDateTime","isAvailable","id","handleChange","name","target","prevData","goToNextStep","setHours","alert","goToPrevStep","handleSubmit","preventDefault","fullBookingData","vehicleId","vehicleName","modell","kennzeichen","ProgressBar","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Math","round","style","width","Step1","min","onChange","ref","required","viewBox","fill","fillRule","d","clipRule","map","conflict","idx","toLocaleDateString","userName","Step2","placeholder","max","rows","Step3","renderStep","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/frontend/src/components/BookingForm.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { CalendarIcon, ClockIcon, ArrowRightIcon, CheckCircleIcon } from '@heroicons/react/24/outline';\r\n\r\nfunction BookingForm({ vehicle, onSubmit, onCancel, checkAvailability }) {\r\n  const [formStep, setFormStep] = useState(1);\r\n  const [totalSteps] = useState(3);\r\n  const [bookingData, setBookingData] = useState({\r\n    pickupDate: '',\r\n    pickupTime: '08:00',\r\n    returnDate: '',\r\n    returnTime: '17:00',\r\n    purpose: '',\r\n    destination: '',\r\n    passengers: 1,\r\n    notes: ''\r\n  });\r\n  const [conflicts, setConflicts] = useState([]);\r\n  const [validated, setValidated] = useState(false);\r\n\r\n  // Aktuelles Datum berechnen (für min-Werte in den Datumsfeldern)\r\n  const today = new Date().toISOString().split('T')[0];\r\n\r\n  // Refs für Fokusbewahrung\r\n  const inputRefs = {\r\n    pickupDate: useRef(null),\r\n    pickupTime: useRef(null),\r\n    returnDate: useRef(null),\r\n    returnTime: useRef(null),\r\n    purpose: useRef(null),\r\n    destination: useRef(null),\r\n    passengers: useRef(null),\r\n    notes: useRef(null)\r\n  };\r\n\r\n  // Aktuelle Feldnamen, die bearbeitet werden\r\n  const [activeField, setActiveField] = useState(null);\r\n\r\n  // Fokuswiederherstellung nach Rendering\r\n  useEffect(() => {\r\n    if (activeField && inputRefs[activeField] && inputRefs[activeField].current) {\r\n      const input = inputRefs[activeField].current;\r\n      \r\n      // Setze den Cursor an die Stelle, an der er war\r\n      requestAnimationFrame(() => {\r\n        try {\r\n          input.focus();\r\n          \r\n          // Für Text-Inputs: setze den Cursor ans Ende des Texts\r\n          if (input.type === 'text' || input.type === 'number') {\r\n            const length = input.value.length;\r\n            input.setSelectionRange(length, length);\r\n          }\r\n        } catch (e) {\r\n          // Einige Input-Typen unterstützen setSelectionRange nicht\r\n          console.log(\"Konnte Cursor-Position nicht setzen für Feld:\", activeField);\r\n        }\r\n      });\r\n    }\r\n  }, [bookingData, activeField]);\r\n\r\n  // Validierung für den aktuellen Schritt\r\n  const validateStep = () => {\r\n    switch (formStep) {\r\n      case 1:\r\n        return bookingData.pickupDate && bookingData.returnDate;\r\n      case 2:\r\n        return bookingData.purpose && bookingData.destination;\r\n      case 3:\r\n        return true; // Letzter Schritt, immer gültig\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  // Führe die Validierung nur aus, wenn sich der formStep ändert\r\n  useEffect(() => {\r\n    setValidated(validateStep());\r\n  }, [formStep]);\r\n\r\n  // Prüfe Verfügbarkeit, wenn sich die Daten ändern\r\n  useEffect(() => {\r\n    if (bookingData.pickupDate && bookingData.returnDate && checkAvailability) {\r\n      const startDateTime = `${bookingData.pickupDate}T${bookingData.pickupTime}`;\r\n      const endDateTime = `${bookingData.returnDate}T${bookingData.returnTime}`;\r\n      \r\n      // Prüfe Verfügbarkeit mit der übergebenen Funktion\r\n      const { isAvailable, conflicts } = checkAvailability(\r\n        vehicle.id,\r\n        startDateTime,\r\n        endDateTime\r\n      );\r\n      \r\n      if (!isAvailable) {\r\n        setConflicts(conflicts);\r\n      } else {\r\n        setConflicts([]);\r\n      }\r\n    }\r\n  }, [bookingData.pickupDate, bookingData.pickupTime, bookingData.returnDate, bookingData.returnTime, vehicle.id, checkAvailability]);\r\n\r\n  // Handler für Änderungen an Formularfeldern\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Markiere das aktive Feld für Fokusbewahrung\r\n    setActiveField(name);\r\n    \r\n    // Spezielle Behandlung für Datumsfelder\r\n    if (name === 'pickupDate') {\r\n      // Setze auch Enddatum, wenn es leer ist oder vor dem neuen Startdatum liegt\r\n      if (!bookingData.returnDate || new Date(bookingData.returnDate) < new Date(value)) {\r\n        setBookingData({\r\n          ...bookingData,\r\n          [name]: value,\r\n          returnDate: value // Setze Enddatum auf gleiches Datum\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Aktualisiere State\r\n    setBookingData(prevData => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Führe die Validierung direkt hier durch\r\n    setValidated(validateStep());\r\n  };\r\n\r\n  // Zum nächsten Schritt gehen\r\n  const goToNextStep = () => {\r\n    // Führe Datumsvalidierung hier durch, bevor wir zum nächsten Schritt gehen\r\n    if (formStep === 1) {\r\n      // Prüfe, ob das Abholdatum in der Vergangenheit liegt\r\n      const pickupDate = new Date(bookingData.pickupDate);\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0); // Setze auf Beginn des Tages für korrekten Vergleich\r\n      \r\n      if (pickupDate < today) {\r\n        alert('Termine in der Vergangenheit können nicht gebucht werden.');\r\n        return; // Verhindere das Weitergehen\r\n      }\r\n    }\r\n    \r\n    if (formStep < totalSteps && validateStep()) {\r\n      setFormStep(formStep + 1);\r\n    }\r\n  };\r\n\r\n  // Zum vorherigen Schritt gehen\r\n  const goToPrevStep = () => {\r\n    if (formStep > 1) {\r\n      setFormStep(formStep - 1);\r\n    }\r\n  };\r\n\r\n  // Formular einreichen\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    const fullBookingData = {\r\n      ...bookingData,\r\n      vehicleId: vehicle.id,\r\n      vehicleName: `${vehicle.modell} (${vehicle.kennzeichen})`,\r\n      startDateTime: `${bookingData.pickupDate}T${bookingData.pickupTime}`,\r\n      endDateTime: `${bookingData.returnDate}T${bookingData.returnTime}`\r\n    };\r\n    \r\n    onSubmit(fullBookingData);\r\n  };\r\n\r\n  // Fortschrittsbalken\r\n  const ProgressBar = () => (\r\n    <div className=\"mb-8\">\r\n      <div className=\"flex justify-between mb-2\">\r\n        <div className=\"text-sm text-gray-600\">Schritt {formStep} von {totalSteps}</div>\r\n        <div className=\"text-sm font-medium text-blue-600\">{Math.round((formStep / totalSteps) * 100)}% Abgeschlossen</div>\r\n      </div>\r\n      <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n        <div \r\n          className=\"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out\" \r\n          style={{ width: `${(formStep / totalSteps) * 100}%` }}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Komponenten für die verschiedenen Schritte\r\n  const Step1 = () => (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-2xl font-bold text-center text-gray-800\">\r\n        Wann benötigen Sie das Fahrzeug?\r\n      </h2>\r\n      <p className=\"text-center text-gray-600\">\r\n        Wählen Sie Ihre bevorzugten Abhol- und Rückgabezeiten\r\n      </p>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4\">\r\n        <div className=\"space-y-3\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">\r\n            Abholdatum & Zeit\r\n          </label>\r\n          <div className=\"flex\">\r\n            <div className=\"relative flex-grow\">\r\n              <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\r\n                <CalendarIcon className=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <input\r\n                type=\"date\"\r\n                name=\"pickupDate\"\r\n                min={today}\r\n                value={bookingData.pickupDate}\r\n                onChange={handleChange}\r\n                ref={inputRefs.pickupDate}\r\n                className=\"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"relative ml-2 w-32\">\r\n              <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\r\n                <ClockIcon className=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <input\r\n                type=\"time\"\r\n                name=\"pickupTime\"\r\n                value={bookingData.pickupTime}\r\n                onChange={handleChange}\r\n                ref={inputRefs.pickupTime}\r\n                className=\"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-base\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">\r\n            Rückgabedatum & Zeit\r\n          </label>\r\n          <div className=\"flex\">\r\n            <div className=\"relative flex-grow\">\r\n              <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\r\n                <CalendarIcon className=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <input\r\n                type=\"date\"\r\n                name=\"returnDate\"\r\n                min={bookingData.pickupDate || today}\r\n                value={bookingData.returnDate}\r\n                onChange={handleChange}\r\n                ref={inputRefs.returnDate}\r\n                className=\"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"relative ml-2 w-32\">\r\n              <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\r\n                <ClockIcon className=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <input\r\n                type=\"time\"\r\n                name=\"returnTime\"\r\n                value={bookingData.returnTime}\r\n                onChange={handleChange}\r\n                ref={inputRefs.returnTime}\r\n                className=\"block w-full pl-10 pr-2 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-base\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {conflicts.length > 0 && (\r\n        <div className=\"p-4 mt-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-md\">\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <h3 className=\"text-sm font-medium text-yellow-800\">\r\n                Überschneidungen mit bestehenden Buchungen\r\n              </h3>\r\n              <div className=\"mt-2 text-sm text-yellow-700\">\r\n                <ul className=\"list-disc pl-5 space-y-1\">\r\n                  {conflicts.map((conflict, idx) => (\r\n                    <li key={idx}>\r\n                      {new Date(conflict.startDateTime).toLocaleDateString()} - {new Date(conflict.endDateTime).toLocaleDateString()}\r\n                      {conflict.userName && ` (${conflict.userName})`}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const Step2 = () => (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-2xl font-bold text-center text-gray-800\">\r\n        Wohin fahren Sie?\r\n      </h2>\r\n      <p className=\"text-center text-gray-600\">\r\n        Geben Sie den Zweck und das Ziel Ihrer Fahrt an\r\n      </p>\r\n\r\n      <div className=\"space-y-4 mt-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Verwendungszweck\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"purpose\"\r\n            value={bookingData.purpose}\r\n            onChange={handleChange}\r\n            ref={inputRefs.purpose}\r\n            placeholder=\"z.B. Kundentermin, Materialtransport\"\r\n            className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Zielort\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"destination\"\r\n            value={bookingData.destination}\r\n            onChange={handleChange}\r\n            ref={inputRefs.destination}\r\n            placeholder=\"z.B. München, Stuttgart\"\r\n            className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Anzahl Personen\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"passengers\"\r\n            min=\"1\"\r\n            max=\"9\"\r\n            value={bookingData.passengers}\r\n            onChange={handleChange}\r\n            ref={inputRefs.passengers}\r\n            className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Zusätzliche Hinweise (optional)\r\n          </label>\r\n          <textarea\r\n            name=\"notes\"\r\n            value={bookingData.notes}\r\n            onChange={handleChange}\r\n            ref={inputRefs.notes}\r\n            rows=\"3\"\r\n            placeholder=\"z.B. Besondere Anforderungen, Parkmöglichkeiten, etc.\"\r\n            className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const Step3 = () => (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-2xl font-bold text-center text-gray-800\">\r\n        Überprüfen und bestätigen\r\n      </h2>\r\n      <p className=\"text-center text-gray-600\">\r\n        Bitte überprüfen Sie Ihre Angaben\r\n      </p>\r\n\r\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg mt-4\">\r\n        <div className=\"px-4 py-5 sm:px-6 bg-gray-50\">\r\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\r\n            Fahrzeugdetails\r\n          </h3>\r\n        </div>\r\n        <div className=\"border-t border-gray-200\">\r\n          <dl>\r\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Fahrzeug</dt>\r\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\r\n                {vehicle.modell} ({vehicle.kennzeichen})\r\n              </dd>\r\n            </div>\r\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Abholdatum</dt>\r\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\r\n                {new Date(bookingData.pickupDate).toLocaleDateString()} um {bookingData.pickupTime} Uhr\r\n              </dd>\r\n            </div>\r\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Rückgabedatum</dt>\r\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\r\n                {new Date(bookingData.returnDate).toLocaleDateString()} um {bookingData.returnTime} Uhr\r\n              </dd>\r\n            </div>\r\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Verwendungszweck</dt>\r\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\r\n                {bookingData.purpose}\r\n              </dd>\r\n            </div>\r\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Zielort</dt>\r\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\r\n                {bookingData.destination}\r\n              </dd>\r\n            </div>\r\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n              <dt className=\"text-sm font-medium text-gray-500\">Anzahl Personen</dt>\r\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\r\n                {bookingData.passengers}\r\n              </dd>\r\n            </div>\r\n            {bookingData.notes && (\r\n              <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n                <dt className=\"text-sm font-medium text-gray-500\">Hinweise</dt>\r\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\r\n                  {bookingData.notes}\r\n                </dd>\r\n              </div>\r\n            )}\r\n          </dl>\r\n        </div>\r\n      </div>\r\n\r\n      {conflicts.length > 0 && (\r\n        <div className=\"p-4 mt-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-md\">\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <h3 className=\"text-sm font-medium text-yellow-800\">\r\n                Hinweis: Überschneidungen mit bestehenden Buchungen\r\n              </h3>\r\n              <div className=\"mt-2 text-sm text-yellow-700\">\r\n                <p>Diese Anfrage überschneidet sich mit bestehenden Buchungen. Sie können die Anfrage trotzdem absenden, aber sie muss vom Administrator genehmigt werden.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // Rendere den aktuellen Schritt\r\n  const renderStep = () => {\r\n    switch (formStep) {\r\n      case 1:\r\n        return <Step1 />;\r\n      case 2:\r\n        return <Step2 />;\r\n      case 3:\r\n        return <Step3 />;\r\n      default:\r\n        return <Step1 />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-3xl mx-auto\">\r\n      <ProgressBar />\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        {renderStep()}\r\n        \r\n        <div className=\"mt-8 flex justify-between\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={formStep === 1 ? onCancel : goToPrevStep}\r\n            className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            {formStep === 1 ? 'Abbrechen' : 'Zurück'}\r\n          </button>\r\n          \r\n          {formStep < totalSteps ? (\r\n            <button\r\n              type=\"button\"\r\n              onClick={goToNextStep}\r\n              disabled={!validated}\r\n              className={`px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white flex items-center\r\n                ${validated ? 'bg-blue-600 hover:bg-blue-700' : 'bg-blue-300 cursor-not-allowed'}`}\r\n            >\r\n              Weiter\r\n              <ArrowRightIcon className=\"ml-2 h-4 w-4\" />\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 flex items-center\"\r\n            >\r\n              Anfrage senden\r\n              <CheckCircleIcon className=\"ml-2 h-4 w-4\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookingForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}