{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\frontend\\\\src\\\\components\\\\Bookings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/de';\nimport { Container, Box, Paper, Grid, Typography, Divider, CircularProgress, Snackbar, Alert, Table, TableHead, TableBody, TableRow, TableCell } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndayjs.locale('de');\n\n// Backend-URL - direkt angepasst\nconst API_URL = 'http://localhost:5000';\n\n// Fallback-Fahrzeuge, falls Backend nicht erreichbar\nconst FALLBACK_VEHICLES = [{\n  id: '1',\n  modell: 'VW Golf',\n  kennzeichen: 'ERB-AB 123',\n  displayName: 'VW Golf / ERB-AB 123'\n}, {\n  id: '2',\n  modell: 'Audi A5',\n  kennzeichen: 'ERB-CD 456',\n  displayName: 'Audi A5 / ERB-CD 456'\n}, {\n  id: '3',\n  modell: 'McLaren 540c',\n  kennzeichen: 'ERB-RM 229',\n  displayName: 'McLaren 540c / ERB-RM 229'\n}];\nfunction Bookings() {\n  _s();\n  // Zustandsvariablen\n  const [loading, setLoading] = useState(true);\n  const [loadingVehicles, setLoadingVehicles] = useState(true);\n  const [vehicles, setVehicles] = useState([]);\n  const [bookings, setBookings] = useState([]);\n  const [error, setError] = useState('');\n  const [backendStatus, setBackendStatus] = useState('Verbindung wird geprüft...');\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [alertSeverity, setAlertSeverity] = useState('info');\n\n  // Formular-Zustand\n  const [formData, setFormData] = useState({\n    vehicle_id: '',\n    employee_name: '',\n    department: '',\n    purpose: '',\n    start_date: dayjs(),\n    end_date: dayjs().add(1, 'day'),\n    status: 'Reserviert',\n    notes: ''\n  });\n\n  // Formularvalidierung\n  const [formErrors, setFormErrors] = useState({});\n\n  // Bearbeitung\n  const [editingId, setEditingId] = useState(null);\n\n  // Laden aller Daten beim Initialisieren der Komponente\n  useEffect(() => {\n    console.log(\"Bookings-Komponente wird initialisiert - Lade Daten\");\n    checkBackendConnection();\n    loadFallbackVehicles(); // Lade sofort Fallback-Daten\n    loadVehicles();\n    loadBookings();\n  }, []);\n\n  // Backend-Verbindung überprüfen\n  const checkBackendConnection = async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/vehicles`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (response.ok) {\n        setBackendStatus('Verbunden');\n        console.log(\"Backend-Verbindung erfolgreich hergestellt\");\n      } else {\n        setBackendStatus(`Fehler: ${response.status} ${response.statusText}`);\n        console.error(\"Backend-Verbindung fehlgeschlagen:\", response.status, response.statusText);\n      }\n    } catch (error) {\n      setBackendStatus('Keine Verbindung');\n      console.error(\"Backend nicht erreichbar:\", error.message);\n      showNotification(\"Backend-Server nicht erreichbar. Fallback-Daten werden verwendet.\", \"warning\");\n    }\n  };\n\n  // Fallback-Fahrzeuge laden wenn Backend nicht verfügbar\n  const loadFallbackVehicles = () => {\n    console.log(\"Verwende Fallback-Fahrzeuge\");\n    setVehicles(FALLBACK_VEHICLES);\n    setLoadingVehicles(false);\n  };\n\n  // Fahrzeuge laden\n  const loadVehicles = async () => {\n    console.log(\"Versuche Fahrzeuge vom Server zu laden...\");\n    setLoadingVehicles(true);\n    try {\n      const response = await fetch(`${API_URL}/api/vehicles`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        console.warn(`Server-Fehler beim Laden der Fahrzeuge: ${response.status}`);\n        // Verwende fallback statt Fehler zu werfen\n        loadFallbackVehicles();\n        return;\n      }\n      const data = await response.json();\n      console.log(\"Server-Fahrzeugdaten:\", data);\n      if (Array.isArray(data) && data.length > 0) {\n        const formattedVehicles = data.map(vehicle => {\n          var _vehicle$id;\n          return {\n            id: ((_vehicle$id = vehicle.id) === null || _vehicle$id === void 0 ? void 0 : _vehicle$id.toString()) || '',\n            modell: vehicle.modell || 'Unbekannt',\n            kennzeichen: vehicle.kennzeichen || 'Unbekannt',\n            displayName: `${vehicle.modell || 'Unbekannt'} / ${vehicle.kennzeichen || 'Unbekannt'}`\n          };\n        });\n        console.log(`${formattedVehicles.length} Fahrzeuge geladen`);\n        setVehicles(formattedVehicles);\n      } else {\n        console.warn(\"Keine Fahrzeuge vom Server erhalten, verwende Fallback-Daten\");\n        loadFallbackVehicles();\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden der Fahrzeuge:\", error);\n      loadFallbackVehicles();\n    } finally {\n      setLoadingVehicles(false);\n    }\n  };\n\n  // Buchungen laden\n  const loadBookings = async () => {\n    console.log(\"Versuche Buchungen vom Server zu laden...\");\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_URL}/api/bookings`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache'\n      });\n      if (!response.ok) {\n        console.warn(`Server-Fehler beim Laden der Buchungen: ${response.status}`);\n        setBookings([]);\n        setLoading(false);\n        return;\n      }\n      const data = await response.json();\n      console.log(\"Server-Buchungsdaten:\", data);\n      if (Array.isArray(data)) {\n        const formattedBookings = data.map(booking => ({\n          id: booking.id,\n          vehicle_id: booking.vehicle_id,\n          vehicle_name: findVehicleName(booking.vehicle_id),\n          start_date: dayjs(booking.start_date || booking.startzeit),\n          end_date: dayjs(booking.end_date || booking.endzeit),\n          employee_name: booking.mitarbeiter || booking.employee_name || '',\n          department: booking.abteilung || booking.department || '',\n          purpose: booking.zweck || booking.purpose || '',\n          status: booking.status || 'Reserviert',\n          notes: booking.notizen || booking.notes || ''\n        }));\n        console.log(`${formattedBookings.length} Buchungen geladen`);\n        setBookings(formattedBookings);\n      } else {\n        setBookings([]);\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden der Buchungen:\", error);\n      setBookings([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Findet den Fahrzeugnamen anhand der ID\n  const findVehicleName = vehicleId => {\n    const vehicle = vehicles.find(v => v.id === vehicleId);\n    return vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\n  };\n\n  // Form Change Handler\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Fehler zurücksetzen wenn Feld geändert wird\n    if (formErrors[name]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n  };\n\n  // Datumsfeld-Handler\n  const handleDateChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Fehler zurücksetzen wenn Feld geändert wird\n    if (formErrors[field]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [field]: null\n      }));\n    }\n  };\n\n  // Formular zurücksetzen\n  const resetForm = () => {\n    setFormData({\n      vehicle_id: '',\n      employee_name: '',\n      department: '',\n      purpose: '',\n      start_date: dayjs(),\n      end_date: dayjs().add(1, 'day'),\n      status: 'Reserviert',\n      notes: ''\n    });\n    setFormErrors({});\n    setEditingId(null);\n  };\n\n  // Formular validieren\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.vehicle_id) {\n      errors.vehicle_id = 'Bitte ein Fahrzeug auswählen';\n    }\n    if (!formData.employee_name) {\n      errors.employee_name = 'Bitte einen Mitarbeiternamen eingeben';\n    }\n    if (!formData.purpose) {\n      errors.purpose = 'Bitte einen Verwendungszweck angeben';\n    }\n    if (!formData.start_date) {\n      errors.start_date = 'Bitte ein Startdatum wählen';\n    }\n    if (!formData.end_date) {\n      errors.end_date = 'Bitte ein Enddatum wählen';\n    } else if (formData.start_date && formData.end_date.isBefore(formData.start_date)) {\n      errors.end_date = 'Das Enddatum muss nach dem Startdatum liegen';\n    }\n    return errors;\n  };\n\n  // Form Submit Handler\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log(\"Formular wird abgesendet mit Daten:\", formData);\n\n    // Formular validieren\n    const errors = validateForm();\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n    setLoading(true);\n\n    // Anpassen der Daten an das Backend-Schema\n    const bookingToSave = {\n      vehicle_id: formData.vehicle_id,\n      startzeit: formData.start_date.toISOString(),\n      endzeit: formData.end_date.toISOString(),\n      status: formData.status || 'Reserviert',\n      zweck: formData.purpose || '',\n      mitarbeiter: formData.employee_name || '',\n      abteilung: formData.department || ''\n    };\n    console.log(\"Daten für API:\", bookingToSave);\n    if (backendStatus !== 'Verbunden') {\n      // Mock-Speicherung wenn Backend nicht verfügbar\n      setTimeout(() => {\n        console.log(\"Mock-Speicherung durchgeführt\");\n        showNotification(\"Buchung gespeichert (lokal)\", \"success\");\n        resetForm();\n        setLoading(false);\n      }, 1000);\n      return;\n    }\n    try {\n      // Buchung speichern\n      const url = editingId ? `${API_URL}/api/bookings/${editingId}` : `${API_URL}/api/bookings`;\n      const method = editingId ? 'PUT' : 'POST';\n      console.log(`${method}-Anfrage an ${url}`);\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'no-cache',\n        body: JSON.stringify(bookingToSave)\n      });\n\n      // Erfolgreiche Speicherung\n      if (response.ok) {\n        showNotification(editingId ? \"Buchung aktualisiert\" : \"Neue Buchung erstellt\", \"success\");\n        resetForm();\n        loadBookings();\n      } else {\n        // Server-Fehler\n        const errorText = await response.text();\n        console.error(\"Server-Fehler:\", response.status, errorText);\n        showNotification(`Server-Fehler: ${response.status} ${errorText}`, \"error\");\n      }\n    } catch (error) {\n      // Verbindungsfehler\n      console.error(\"Fehler beim Speichern:\", error);\n      showNotification(\"Verbindungsfehler: \" + error.message, \"error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Buchung löschen\n  const handleDelete = async id => {\n    if (!window.confirm(\"Möchten Sie diese Buchung wirklich löschen?\")) {\n      return;\n    }\n    setLoading(true);\n    try {\n      console.log(`DELETE ${API_URL}/api/bookings/${id}`);\n      const response = await fetch(`${API_URL}/api/bookings/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        credentials: 'include'\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Fehler beim Löschen der Buchung: ${response.status} - ${errorText}`);\n      }\n      showNotification(\"Buchung erfolgreich gelöscht\", \"success\");\n      await loadBookings();\n    } catch (error) {\n      console.error(\"Fehler beim Löschen der Buchung:\", error);\n      showNotification(`Fehler beim Löschen der Buchung: ${error.message}`, \"error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Buchung zum Bearbeiten laden\n  const handleEdit = booking => {\n    // console.log(\"Lade Buchung zum Bearbeiten:\", booking);\n    setFormData({\n      vehicle_id: booking.vehicle_id || '',\n      employee_name: booking.employee_name || '',\n      department: booking.department || '',\n      purpose: booking.purpose || '',\n      start_date: dayjs(booking.start_date),\n      end_date: dayjs(booking.end_date),\n      status: booking.status || 'Reserviert',\n      notes: booking.notes || ''\n    });\n    setEditingId(booking.id);\n\n    // Zum Formular scrollen\n    document.getElementById('booking-form').scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  // Benachrichtigung anzeigen\n  const showNotification = (message, severity = 'info') => {\n    setAlertMessage(message);\n    setAlertSeverity(severity);\n    setShowAlert(true);\n  };\n\n  // Render-Funktion\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      py: 4,\n      position: 'relative',\n      overflow: 'visible'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: \"Fahrzeugbuchungen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      sx: {\n        position: 'relative',\n        zIndex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            p: 3,\n            position: 'relative',\n            zIndex: 1\n          },\n          id: \"booking-form\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            gutterBottom: true,\n            children: editingId ? 'Buchung bearbeiten' : 'Neue Buchung erstellen'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmit,\n            noValidate: true,\n            sx: {\n              position: 'relative'\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"vehicle_id\",\n                    children: \"Fahrzeug *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"vehicle_id\",\n                    name: \"vehicle_id\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.vehicle_id,\n                    onChange: handleInputChange,\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Bitte w\\xE4hlen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 23\n                    }, this), loadingVehicles ? /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Fahrzeuge werden geladen...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 25\n                    }, this) : vehicles.length > 0 ? vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: vehicle.id,\n                      children: vehicle.displayName\n                    }, vehicle.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 27\n                    }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Keine Fahrzeuge verf\\xFCgbar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 21\n                  }, this), formErrors.vehicle_id && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.vehicle_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 23\n                  }, this), !loadingVehicles && vehicles.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: \"Keine Fahrzeuge gefunden. Bitte f\\xFCgen Sie zuerst Fahrzeuge hinzu.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"employee_name\",\n                    children: \"Mitarbeiter *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"employee_name\",\n                    name: \"employee_name\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.employee_name,\n                    onChange: handleInputChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 21\n                  }, this), formErrors.employee_name && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.employee_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"department\",\n                    children: \"Abteilung/Kostenstelle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"department\",\n                    name: \"department\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.department,\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"purpose\",\n                    children: \"Verwendungszweck *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"purpose\",\n                    name: \"purpose\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.purpose,\n                    onChange: handleInputChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 21\n                  }, this), formErrors.purpose && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.purpose\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"start_date\",\n                    children: \"Startdatum *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"start_date\",\n                    name: \"start_date\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.start_date.format('YYYY-MM-DD'),\n                    onChange: e => {\n                      const newDate = dayjs(e.target.value);\n                      if (newDate.isValid()) {\n                        // Behalte die Uhrzeit bei, ändere nur das Datum\n                        const newDateTime = formData.start_date.year(newDate.year()).month(newDate.month()).date(newDate.date());\n                        handleDateChange('start_date', newDateTime);\n                      }\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 21\n                  }, this), formErrors.start_date && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.start_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"start_time\",\n                    children: \"Startzeit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    id: \"start_time\",\n                    name: \"start_time\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.start_date.format('HH:mm'),\n                    onChange: e => {\n                      const [hours, minutes] = e.target.value.split(':').map(Number);\n                      const newDateTime = formData.start_date.hour(hours).minute(minutes).second(0);\n                      handleDateChange('start_date', newDateTime);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"end_date\",\n                    children: \"Enddatum *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"end_date\",\n                    name: \"end_date\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.end_date.format('YYYY-MM-DD'),\n                    onChange: e => {\n                      const newDate = dayjs(e.target.value);\n                      if (newDate.isValid()) {\n                        // Behalte die Uhrzeit bei, ändere nur das Datum\n                        const newDateTime = formData.end_date.year(newDate.year()).month(newDate.month()).date(newDate.date());\n                        handleDateChange('end_date', newDateTime);\n                      }\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 21\n                  }, this), formErrors.end_date && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-sm text-red-600\",\n                    children: formErrors.end_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"end_time\",\n                    children: \"Endzeit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    id: \"end_time\",\n                    name: \"end_time\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.end_date.format('HH:mm'),\n                    onChange: e => {\n                      const [hours, minutes] = e.target.value.split(':').map(Number);\n                      const newDateTime = formData.end_date.hour(hours).minute(minutes).second(0);\n                      handleDateChange('end_date', newDateTime);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"status\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 646,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"status\",\n                    name: \"status\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.status,\n                    onChange: handleInputChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Reserviert\",\n                      children: \"Reserviert\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Ausgegeben\",\n                      children: \"Ausgegeben\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 657,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Zur\\xFCckgegeben\",\n                      children: \"Zur\\xFCckgegeben\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 658,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 649,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-gray-700 font-medium mb-2\",\n                    htmlFor: \"notes\",\n                    children: \"Notizen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"notes\",\n                    name: \"notes\",\n                    rows: \"3\",\n                    className: \"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\",\n                    value: formData.notes,\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: resetForm,\n                    disabled: loading,\n                    className: \"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n                    children: \"Abbrechen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 683,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    disabled: loading || loadingVehicles,\n                    className: \"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n                    children: loading ? 'Wird gespeichert...' : editingId ? 'Aktualisieren' : 'Buchung erstellen'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 691,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => {\n                      loadVehicles();\n                      loadBookings();\n                    },\n                    disabled: loading,\n                    className: \"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n                    children: \"Daten aktualisieren\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 698,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            gutterBottom: true,\n            children: \"Buchungs\\xFCbersicht\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'center',\n              p: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 15\n          }, this) : bookings.length > 0 ? /*#__PURE__*/_jsxDEV(Table, {\n            size: \"small\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Fahrzeug\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Mitarbeiter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 730,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Zeitraum\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 731,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Zweck\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: \"Aktionen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 734,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: bookings.map(booking => {\n                // Finde den Fahrzeugnamen anhand der ID\n                const vehicle = vehicles.find(v => v.id === booking.vehicle_id);\n                const vehicleName = vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\n                return /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: vehicleName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: booking.employee_name || 'Unbekannt'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 746,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: [booking.start_date.format('DD.MM.YYYY HH:mm'), \" - \", booking.end_date.format('DD.MM.YYYY HH:mm')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 747,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: booking.purpose || 'Kein Zweck angegeben'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 750,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: booking.status || 'Unbekannt'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 751,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      size: \"small\",\n                      onClick: () => handleEdit(booking),\n                      sx: {\n                        mr: 1\n                      },\n                      children: \"Bearbeiten\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 753,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"small\",\n                      color: \"error\",\n                      onClick: () => handleDelete(booking.id),\n                      children: \"L\\xF6schen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 752,\n                    columnNumber: 25\n                  }, this)]\n                }, booking.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              p: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              children: \"Keine Buchungen vorhanden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: showAlert,\n      autoHideDuration: 6000,\n      onClose: () => setShowAlert(false),\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      sx: {\n        zIndex: 10000\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setShowAlert(false),\n        severity: alertSeverity,\n        sx: {\n          width: '100%'\n        },\n        children: alertMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 408,\n    columnNumber: 5\n  }, this);\n}\n_s(Bookings, \"Ch6HIx2q7Kp68vByexz9lE8XUA8=\");\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["React","useState","useEffect","dayjs","Container","Box","Paper","Grid","Typography","Divider","CircularProgress","Snackbar","Alert","Table","TableHead","TableBody","TableRow","TableCell","jsxDEV","_jsxDEV","locale","API_URL","FALLBACK_VEHICLES","id","modell","kennzeichen","displayName","Bookings","_s","loading","setLoading","loadingVehicles","setLoadingVehicles","vehicles","setVehicles","bookings","setBookings","error","setError","backendStatus","setBackendStatus","showAlert","setShowAlert","alertMessage","setAlertMessage","alertSeverity","setAlertSeverity","formData","setFormData","vehicle_id","employee_name","department","purpose","start_date","end_date","add","status","notes","formErrors","setFormErrors","editingId","setEditingId","console","log","checkBackendConnection","loadFallbackVehicles","loadVehicles","loadBookings","response","fetch","method","headers","mode","cache","ok","statusText","message","showNotification","warn","data","json","Array","isArray","length","formattedVehicles","map","vehicle","_vehicle$id","toString","formattedBookings","booking","vehicle_name","findVehicleName","startzeit","endzeit","mitarbeiter","abteilung","zweck","notizen","vehicleId","find","v","handleInputChange","e","name","value","target","prev","handleDateChange","field","resetForm","validateForm","errors","isBefore","handleSubmit","preventDefault","Object","keys","bookingToSave","toISOString","setTimeout","url","body","JSON","stringify","errorText","text","handleDelete","window","confirm","credentials","Error","handleEdit","document","getElementById","scrollIntoView","behavior","severity","maxWidth","sx","py","position","overflow","children","mb","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","zIndex","item","xs","elevation","p","component","onSubmit","noValidate","sm","className","htmlFor","onChange","required","disabled","type","format","newDate","isValid","newDateTime","year","month","date","hours","minutes","split","Number","hour","minute","second","rows","onClick","display","justifyContent","size","align","vehicleName","hover","Button","mr","color","textAlign","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","width","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/frontend/src/components/Bookings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/de';\r\nimport { \r\n  Container, Box, Paper, Grid, Typography, \r\n  Divider, CircularProgress, Snackbar, Alert, \r\n  Table, TableHead, TableBody, TableRow, TableCell\r\n} from '@mui/material';\r\n\r\ndayjs.locale('de');\r\n\r\n// Backend-URL - direkt angepasst\r\nconst API_URL = 'http://localhost:5000';\r\n\r\n// Fallback-Fahrzeuge, falls Backend nicht erreichbar\r\nconst FALLBACK_VEHICLES = [\r\n  { id: '1', modell: 'VW Golf', kennzeichen: 'ERB-AB 123', displayName: 'VW Golf / ERB-AB 123' },\r\n  { id: '2', modell: 'Audi A5', kennzeichen: 'ERB-CD 456', displayName: 'Audi A5 / ERB-CD 456' },\r\n  { id: '3', modell: 'McLaren 540c', kennzeichen: 'ERB-RM 229', displayName: 'McLaren 540c / ERB-RM 229' }\r\n];\r\n\r\nfunction Bookings() {\r\n  // Zustandsvariablen\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingVehicles, setLoadingVehicles] = useState(true);\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [backendStatus, setBackendStatus] = useState('Verbindung wird geprüft...');\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const [alertSeverity, setAlertSeverity] = useState('info');\r\n\r\n  // Formular-Zustand\r\n  const [formData, setFormData] = useState({\r\n    vehicle_id: '',\r\n    employee_name: '',\r\n    department: '',\r\n    purpose: '',\r\n    start_date: dayjs(),\r\n    end_date: dayjs().add(1, 'day'),\r\n    status: 'Reserviert',\r\n    notes: ''\r\n  });\r\n  \r\n  // Formularvalidierung\r\n  const [formErrors, setFormErrors] = useState({});\r\n  \r\n  // Bearbeitung\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  // Laden aller Daten beim Initialisieren der Komponente\r\n  useEffect(() => {\r\n    console.log(\"Bookings-Komponente wird initialisiert - Lade Daten\");\r\n    checkBackendConnection();\r\n    loadFallbackVehicles(); // Lade sofort Fallback-Daten\r\n    loadVehicles();\r\n    loadBookings();\r\n  }, []);\r\n\r\n  // Backend-Verbindung überprüfen\r\n  const checkBackendConnection = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/vehicles`, { \r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (response.ok) {\r\n        setBackendStatus('Verbunden');\r\n        console.log(\"Backend-Verbindung erfolgreich hergestellt\");\r\n      } else {\r\n        setBackendStatus(`Fehler: ${response.status} ${response.statusText}`);\r\n        console.error(\"Backend-Verbindung fehlgeschlagen:\", response.status, response.statusText);\r\n      }\r\n    } catch (error) {\r\n      setBackendStatus('Keine Verbindung');\r\n      console.error(\"Backend nicht erreichbar:\", error.message);\r\n      showNotification(\"Backend-Server nicht erreichbar. Fallback-Daten werden verwendet.\", \"warning\");\r\n    }\r\n  };\r\n\r\n  // Fallback-Fahrzeuge laden wenn Backend nicht verfügbar\r\n  const loadFallbackVehicles = () => {\r\n    console.log(\"Verwende Fallback-Fahrzeuge\");\r\n    setVehicles(FALLBACK_VEHICLES);\r\n    setLoadingVehicles(false);\r\n  };\r\n\r\n  // Fahrzeuge laden\r\n  const loadVehicles = async () => {\r\n    console.log(\"Versuche Fahrzeuge vom Server zu laden...\");\r\n    setLoadingVehicles(true);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/api/vehicles`, {\r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        console.warn(`Server-Fehler beim Laden der Fahrzeuge: ${response.status}`);\r\n        // Verwende fallback statt Fehler zu werfen\r\n        loadFallbackVehicles();\r\n        return;\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"Server-Fahrzeugdaten:\", data);\r\n      \r\n      if (Array.isArray(data) && data.length > 0) {\r\n        const formattedVehicles = data.map(vehicle => ({\r\n          id: vehicle.id?.toString() || '',\r\n          modell: vehicle.modell || 'Unbekannt',\r\n          kennzeichen: vehicle.kennzeichen || 'Unbekannt',\r\n          displayName: `${vehicle.modell || 'Unbekannt'} / ${vehicle.kennzeichen || 'Unbekannt'}`\r\n        }));\r\n        \r\n        console.log(`${formattedVehicles.length} Fahrzeuge geladen`);\r\n        setVehicles(formattedVehicles);\r\n      } else {\r\n        console.warn(\"Keine Fahrzeuge vom Server erhalten, verwende Fallback-Daten\");\r\n        loadFallbackVehicles();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Laden der Fahrzeuge:\", error);\r\n      loadFallbackVehicles();\r\n    } finally {\r\n      setLoadingVehicles(false);\r\n    }\r\n  };\r\n\r\n  // Buchungen laden\r\n  const loadBookings = async () => {\r\n    console.log(\"Versuche Buchungen vom Server zu laden...\");\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/api/bookings`, {\r\n        method: 'GET',\r\n        headers: { 'Accept': 'application/json' },\r\n        mode: 'cors',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        console.warn(`Server-Fehler beim Laden der Buchungen: ${response.status}`);\r\n        setBookings([]);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"Server-Buchungsdaten:\", data);\r\n      \r\n      if (Array.isArray(data)) {\r\n        const formattedBookings = data.map(booking => ({\r\n          id: booking.id,\r\n          vehicle_id: booking.vehicle_id,\r\n          vehicle_name: findVehicleName(booking.vehicle_id),\r\n          start_date: dayjs(booking.start_date || booking.startzeit),\r\n          end_date: dayjs(booking.end_date || booking.endzeit),\r\n          employee_name: booking.mitarbeiter || booking.employee_name || '',\r\n          department: booking.abteilung || booking.department || '',\r\n          purpose: booking.zweck || booking.purpose || '',\r\n          status: booking.status || 'Reserviert',\r\n          notes: booking.notizen || booking.notes || ''\r\n        }));\r\n        \r\n        console.log(`${formattedBookings.length} Buchungen geladen`);\r\n        setBookings(formattedBookings);\r\n      } else {\r\n        setBookings([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Laden der Buchungen:\", error);\r\n      setBookings([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Findet den Fahrzeugnamen anhand der ID\r\n  const findVehicleName = (vehicleId) => {\r\n    const vehicle = vehicles.find(v => v.id === vehicleId);\r\n    return vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\r\n  };\r\n\r\n  // Form Change Handler\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Fehler zurücksetzen wenn Feld geändert wird\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({ ...prev, [name]: null }));\r\n    }\r\n  };\r\n\r\n  // Datumsfeld-Handler\r\n  const handleDateChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    // Fehler zurücksetzen wenn Feld geändert wird\r\n    if (formErrors[field]) {\r\n      setFormErrors(prev => ({ ...prev, [field]: null }));\r\n    }\r\n  };\r\n  \r\n  // Formular zurücksetzen\r\n  const resetForm = () => {\r\n    setFormData({\r\n      vehicle_id: '',\r\n      employee_name: '',\r\n      department: '',\r\n      purpose: '',\r\n      start_date: dayjs(),\r\n      end_date: dayjs().add(1, 'day'),\r\n      status: 'Reserviert',\r\n      notes: ''\r\n    });\r\n    setFormErrors({});\r\n    setEditingId(null);\r\n  };\r\n\r\n  // Formular validieren\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    \r\n    if (!formData.vehicle_id) {\r\n      errors.vehicle_id = 'Bitte ein Fahrzeug auswählen';\r\n    }\r\n    \r\n    if (!formData.employee_name) {\r\n      errors.employee_name = 'Bitte einen Mitarbeiternamen eingeben';\r\n    }\r\n    \r\n    if (!formData.purpose) {\r\n      errors.purpose = 'Bitte einen Verwendungszweck angeben';\r\n    }\r\n    \r\n    if (!formData.start_date) {\r\n      errors.start_date = 'Bitte ein Startdatum wählen';\r\n    }\r\n    \r\n    if (!formData.end_date) {\r\n      errors.end_date = 'Bitte ein Enddatum wählen';\r\n    } else if (formData.start_date && formData.end_date.isBefore(formData.start_date)) {\r\n      errors.end_date = 'Das Enddatum muss nach dem Startdatum liegen';\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  // Form Submit Handler\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Formular wird abgesendet mit Daten:\", formData);\r\n    \r\n    // Formular validieren\r\n    const errors = validateForm();\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    // Anpassen der Daten an das Backend-Schema\r\n    const bookingToSave = {\r\n      vehicle_id: formData.vehicle_id,\r\n      startzeit: formData.start_date.toISOString(),\r\n      endzeit: formData.end_date.toISOString(),\r\n      status: formData.status || 'Reserviert',\r\n      zweck: formData.purpose || '',\r\n      mitarbeiter: formData.employee_name || '',\r\n      abteilung: formData.department || '',\r\n    };\r\n    \r\n    console.log(\"Daten für API:\", bookingToSave);\r\n    \r\n    if (backendStatus !== 'Verbunden') {\r\n      // Mock-Speicherung wenn Backend nicht verfügbar\r\n      setTimeout(() => {\r\n        console.log(\"Mock-Speicherung durchgeführt\");\r\n        showNotification(\"Buchung gespeichert (lokal)\", \"success\");\r\n        resetForm();\r\n        setLoading(false);\r\n      }, 1000);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Buchung speichern\r\n      const url = editingId \r\n        ? `${API_URL}/api/bookings/${editingId}`\r\n        : `${API_URL}/api/bookings`;\r\n      \r\n      const method = editingId ? 'PUT' : 'POST';\r\n      console.log(`${method}-Anfrage an ${url}`);\r\n      \r\n      const response = await fetch(url, {\r\n        method: method,\r\n        headers: { \r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        mode: 'cors',\r\n        cache: 'no-cache',\r\n        body: JSON.stringify(bookingToSave)\r\n      });\r\n      \r\n      // Erfolgreiche Speicherung\r\n      if (response.ok) {\r\n        showNotification(\r\n          editingId ? \"Buchung aktualisiert\" : \"Neue Buchung erstellt\", \r\n          \"success\"\r\n        );\r\n        resetForm();\r\n        loadBookings();\r\n      } else {\r\n        // Server-Fehler\r\n        const errorText = await response.text();\r\n        console.error(\"Server-Fehler:\", response.status, errorText);\r\n        showNotification(`Server-Fehler: ${response.status} ${errorText}`, \"error\");\r\n      }\r\n    } catch (error) {\r\n      // Verbindungsfehler\r\n      console.error(\"Fehler beim Speichern:\", error);\r\n      showNotification(\"Verbindungsfehler: \" + error.message, \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Buchung löschen\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Möchten Sie diese Buchung wirklich löschen?\")) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    try {\r\n      console.log(`DELETE ${API_URL}/api/bookings/${id}`);\r\n      const response = await fetch(`${API_URL}/api/bookings/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Fehler beim Löschen der Buchung: ${response.status} - ${errorText}`);\r\n      }\r\n      \r\n      showNotification(\"Buchung erfolgreich gelöscht\", \"success\");\r\n      await loadBookings();\r\n    } catch (error) {\r\n      console.error(\"Fehler beim Löschen der Buchung:\", error);\r\n      showNotification(`Fehler beim Löschen der Buchung: ${error.message}`, \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Buchung zum Bearbeiten laden\r\n  const handleEdit = (booking) => {\r\n    // console.log(\"Lade Buchung zum Bearbeiten:\", booking);\r\n    setFormData({\r\n      vehicle_id: booking.vehicle_id || '',\r\n      employee_name: booking.employee_name || '',\r\n      department: booking.department || '',\r\n      purpose: booking.purpose || '',\r\n      start_date: dayjs(booking.start_date),\r\n      end_date: dayjs(booking.end_date),\r\n      status: booking.status || 'Reserviert',\r\n      notes: booking.notes || ''\r\n    });\r\n    setEditingId(booking.id);\r\n    \r\n    // Zum Formular scrollen\r\n    document.getElementById('booking-form').scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  // Benachrichtigung anzeigen\r\n  const showNotification = (message, severity = 'info') => {\r\n    setAlertMessage(message);\r\n    setAlertSeverity(severity);\r\n    setShowAlert(true);\r\n  };\r\n\r\n  // Render-Funktion\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4, position: 'relative', overflow: 'visible' }}>\r\n      {/* Überschrift */}\r\n      <Box sx={{ mb: 4 }}>\r\n        <Typography variant=\"h4\" gutterBottom>Fahrzeugbuchungen</Typography>\r\n        <Divider />\r\n      </Box>\r\n      \r\n      {/* Hauptinhalt */}\r\n      <Grid container spacing={4} sx={{ position: 'relative', zIndex: 1 }}>\r\n        {/* Buchungsformular */}\r\n        <Grid item xs={12}>\r\n          <Paper elevation={3} sx={{ p: 3, position: 'relative', zIndex: 1 }} id=\"booking-form\">\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {editingId ? 'Buchung bearbeiten' : 'Neue Buchung erstellen'}\r\n            </Typography>\r\n            \r\n            <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ position: 'relative' }}>\r\n              <Grid container spacing={2}>\r\n                {/* Fahrzeugauswahl */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"vehicle_id\">\r\n                      Fahrzeug *\r\n                    </label>\r\n                    <select\r\n                      id=\"vehicle_id\"\r\n                      name=\"vehicle_id\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.vehicle_id}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    >\r\n                      <option value=\"\" disabled>Bitte wählen</option>\r\n                      {loadingVehicles ? (\r\n                        <option value=\"\" disabled>Fahrzeuge werden geladen...</option>\r\n                      ) : vehicles.length > 0 ? (\r\n                        vehicles.map(vehicle => (\r\n                          <option key={vehicle.id} value={vehicle.id}>\r\n                            {vehicle.displayName}\r\n                          </option>\r\n                        ))\r\n                      ) : (\r\n                        <option value=\"\" disabled>Keine Fahrzeuge verfügbar</option>\r\n                      )}\r\n                    </select>\r\n                    {formErrors.vehicle_id && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.vehicle_id}\r\n                      </p>\r\n                    )}\r\n                    {!loadingVehicles && vehicles.length === 0 && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        Keine Fahrzeuge gefunden. Bitte fügen Sie zuerst Fahrzeuge hinzu.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Mitarbeiter */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"employee_name\">\r\n                      Mitarbeiter *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"employee_name\"\r\n                      name=\"employee_name\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.employee_name}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    {formErrors.employee_name && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.employee_name}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Abteilung */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"department\">\r\n                      Abteilung/Kostenstelle\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"department\"\r\n                      name=\"department\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.department}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Zweck */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"purpose\">\r\n                      Verwendungszweck *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"purpose\"\r\n                      name=\"purpose\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.purpose}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    {formErrors.purpose && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.purpose}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Startdatum */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"start_date\">\r\n                      Startdatum *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"start_date\"\r\n                      name=\"start_date\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.start_date.format('YYYY-MM-DD')}\r\n                      onChange={(e) => {\r\n                        const newDate = dayjs(e.target.value);\r\n                        if(newDate.isValid()) {\r\n                          // Behalte die Uhrzeit bei, ändere nur das Datum\r\n                          const newDateTime = formData.start_date\r\n                            .year(newDate.year())\r\n                            .month(newDate.month())\r\n                            .date(newDate.date());\r\n                          handleDateChange('start_date', newDateTime);\r\n                        }\r\n                      }}\r\n                      required\r\n                    />\r\n                    {formErrors.start_date && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.start_date}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Startzeit */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"start_time\">\r\n                      Startzeit\r\n                    </label>\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"start_time\"\r\n                      name=\"start_time\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.start_date.format('HH:mm')}\r\n                      onChange={(e) => {\r\n                        const [hours, minutes] = e.target.value.split(':').map(Number);\r\n                        const newDateTime = formData.start_date\r\n                          .hour(hours)\r\n                          .minute(minutes)\r\n                          .second(0);\r\n                        handleDateChange('start_date', newDateTime);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Enddatum */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"end_date\">\r\n                      Enddatum *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"end_date\"\r\n                      name=\"end_date\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.end_date.format('YYYY-MM-DD')}\r\n                      onChange={(e) => {\r\n                        const newDate = dayjs(e.target.value);\r\n                        if(newDate.isValid()) {\r\n                          // Behalte die Uhrzeit bei, ändere nur das Datum\r\n                          const newDateTime = formData.end_date\r\n                            .year(newDate.year())\r\n                            .month(newDate.month())\r\n                            .date(newDate.date());\r\n                          handleDateChange('end_date', newDateTime);\r\n                        }\r\n                      }}\r\n                      required\r\n                    />\r\n                    {formErrors.end_date && (\r\n                      <p className=\"mt-2 text-sm text-red-600\">\r\n                        {formErrors.end_date}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Endzeit */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"end_time\">\r\n                      Endzeit\r\n                    </label>\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"end_time\"\r\n                      name=\"end_time\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.end_date.format('HH:mm')}\r\n                      onChange={(e) => {\r\n                        const [hours, minutes] = e.target.value.split(':').map(Number);\r\n                        const newDateTime = formData.end_date\r\n                          .hour(hours)\r\n                          .minute(minutes)\r\n                          .second(0);\r\n                        handleDateChange('end_date', newDateTime);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Status */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"status\">\r\n                      Status\r\n                    </label>\r\n                    <select\r\n                      id=\"status\"\r\n                      name=\"status\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.status}\r\n                      onChange={handleInputChange}\r\n                    >\r\n                      <option value=\"Reserviert\">Reserviert</option>\r\n                      <option value=\"Ausgegeben\">Ausgegeben</option>\r\n                      <option value=\"Zurückgegeben\">Zurückgegeben</option>\r\n                    </select>\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Notizen */}\r\n                <Grid item xs={12}>\r\n                  <div className=\"form-control\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"notes\">\r\n                      Notizen\r\n                    </label>\r\n                    <textarea\r\n                      id=\"notes\"\r\n                      name=\"notes\"\r\n                      rows=\"3\"\r\n                      className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border\"\r\n                      value={formData.notes}\r\n                      onChange={handleInputChange}\r\n                    ></textarea>\r\n                  </div>\r\n                </Grid>\r\n                \r\n                {/* Buttons */}\r\n                <Grid item xs={12}>\r\n                  <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={resetForm}\r\n                      disabled={loading}\r\n                      className=\"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                    >\r\n                      Abbrechen\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      disabled={loading || loadingVehicles}\r\n                      className=\"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                    >\r\n                      {loading ? 'Wird gespeichert...' : editingId ? 'Aktualisieren' : 'Buchung erstellen'}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        loadVehicles();\r\n                        loadBookings();\r\n                      }}\r\n                      disabled={loading}\r\n                      className=\"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                    >\r\n                      Daten aktualisieren\r\n                    </button>\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n        \r\n        {/* Buchungsliste */}\r\n        <Grid item xs={12}>\r\n          <Paper elevation={3} sx={{ p: 3 }}>\r\n            <Typography variant=\"h5\" gutterBottom>Buchungsübersicht</Typography>\r\n            \r\n            {loading ? (\r\n              <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\r\n                <CircularProgress />\r\n              </Box>\r\n            ) : bookings.length > 0 ? (\r\n              <Table size=\"small\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Fahrzeug</TableCell>\r\n                    <TableCell>Mitarbeiter</TableCell>\r\n                    <TableCell>Zeitraum</TableCell>\r\n                    <TableCell>Zweck</TableCell>\r\n                    <TableCell>Status</TableCell>\r\n                    <TableCell align=\"right\">Aktionen</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {bookings.map((booking) => {\r\n                    // Finde den Fahrzeugnamen anhand der ID\r\n                    const vehicle = vehicles.find(v => v.id === booking.vehicle_id);\r\n                    const vehicleName = vehicle ? vehicle.displayName : 'Unbekanntes Fahrzeug';\r\n                    \r\n                    return (\r\n                      <TableRow key={booking.id} hover>\r\n                        <TableCell>{vehicleName}</TableCell>\r\n                        <TableCell>{booking.employee_name || 'Unbekannt'}</TableCell>\r\n                        <TableCell>\r\n                          {booking.start_date.format('DD.MM.YYYY HH:mm')} - {booking.end_date.format('DD.MM.YYYY HH:mm')}\r\n                        </TableCell>\r\n                        <TableCell>{booking.purpose || 'Kein Zweck angegeben'}</TableCell>\r\n                        <TableCell>{booking.status || 'Unbekannt'}</TableCell>\r\n                        <TableCell align=\"right\">\r\n                          <Button \r\n                            size=\"small\" \r\n                            onClick={() => handleEdit(booking)}\r\n                            sx={{ mr: 1 }}\r\n                          >\r\n                            Bearbeiten\r\n                          </Button>\r\n                          <Button \r\n                            size=\"small\" \r\n                            color=\"error\" \r\n                            onClick={() => handleDelete(booking.id)}\r\n                          >\r\n                            Löschen\r\n                          </Button>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            ) : (\r\n              <Box sx={{ textAlign: 'center', p: 3 }}>\r\n                <Typography color=\"textSecondary\">Keine Buchungen vorhanden</Typography>\r\n              </Box>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      \r\n      {/* Benachrichtigungen */}\r\n      <Snackbar \r\n        open={showAlert} \r\n        autoHideDuration={6000} \r\n        onClose={() => setShowAlert(false)}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n        sx={{ zIndex: 10000 }}\r\n      >\r\n        <Alert onClose={() => setShowAlert(false)} severity={alertSeverity} sx={{ width: '100%' }}>\r\n          {alertMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Bookings; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}