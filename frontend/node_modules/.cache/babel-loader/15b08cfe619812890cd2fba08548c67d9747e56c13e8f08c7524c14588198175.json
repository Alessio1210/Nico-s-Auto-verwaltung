{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nico-s-Auto-verwaltung\\\\Frontend\\\\src\\\\components\\\\BookingCalendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookingCalendar({\n  vehicleId\n}) {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n  useEffect(() => {\n    // Lade Buchungen\n    axios.get(`http://localhost:5000/api/vehicles/${vehicleId}/bookings`).then(response => {\n      const formattedBookings = response.data.map(booking => ({\n        id: booking.id,\n        title: `Gebucht von ${booking.user_name}`,\n        start: booking.startzeit,\n        end: booking.endzeit,\n        backgroundColor: getStatusColor(booking.status),\n        extendedProps: {\n          zweck: booking.zweck,\n          status: booking.status\n        }\n      }));\n      setBookings(formattedBookings);\n    }).catch(error => console.error('Error:', error));\n\n    // Überprüfe Bildschirmgröße\n    const handleResize = () => setIsMobile(window.innerWidth < 768);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [vehicleId]);\n  const getStatusColor = status => {\n    switch (status) {\n      case 'Angefragt':\n        return '#fbbf24';\n      // Gelb\n      case 'Bestätigt':\n        return '#34d399';\n      // Grün\n      case 'Abgelehnt':\n        return '#ef4444';\n      // Rot\n      default:\n        return '#94a3b8';\n      // Grau\n    }\n  };\n  const handleDateSelect = selectInfo => {\n    // Hier später: Buchungsdialog öffnen\n  };\n  const handleEventClick = clickInfo => {\n    // Hier später: Buchungsdetails anzeigen\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full\",\n    children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n      plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin, listPlugin],\n      initialView: isMobile ? 'listWeek' : 'timeGridWeek',\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: isMobile ? 'listWeek,dayGridMonth' : 'timeGridWeek,dayGridMonth'\n      },\n      events: bookings,\n      selectable: true,\n      select: handleDateSelect,\n      eventClick: handleEventClick,\n      height: \"auto\",\n      locale: \"de\",\n      firstDay: 1,\n      allDaySlot: false,\n      slotMinTime: \"06:00:00\",\n      slotMaxTime: \"22:00:00\",\n      slotDuration: \"00:30:00\",\n      expandRows: true,\n      stickyHeaderDates: true,\n      dayMaxEvents: true,\n      views: {\n        timeGridWeek: {\n          titleFormat: {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n          }\n        },\n        dayGridMonth: {\n          titleFormat: {\n            year: 'numeric',\n            month: 'long'\n          }\n        },\n        listWeek: {\n          titleFormat: {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingCalendar, \"EasWN+z6aTQ6vfMFZNxmXZpYx1E=\");\n_c = BookingCalendar;\nexport default BookingCalendar;\nvar _c;\n$RefreshReg$(_c, \"BookingCalendar\");","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","listPlugin","axios","jsxDEV","_jsxDEV","BookingCalendar","vehicleId","_s","bookings","setBookings","isMobile","setIsMobile","window","innerWidth","get","then","response","formattedBookings","data","map","booking","id","title","user_name","start","startzeit","end","endzeit","backgroundColor","getStatusColor","status","extendedProps","zweck","catch","error","console","handleResize","addEventListener","removeEventListener","handleDateSelect","selectInfo","handleEventClick","clickInfo","className","children","plugins","initialView","headerToolbar","left","center","right","events","selectable","select","eventClick","height","locale","firstDay","allDaySlot","slotMinTime","slotMaxTime","slotDuration","expandRows","stickyHeaderDates","dayMaxEvents","views","timeGridWeek","titleFormat","year","month","day","dayGridMonth","listWeek","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Nico-s-Auto-verwaltung/Frontend/src/components/BookingCalendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport listPlugin from '@fullcalendar/list';\r\nimport axios from 'axios';\r\n\r\nfunction BookingCalendar({ vehicleId }) {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n\r\n  useEffect(() => {\r\n    // Lade Buchungen\r\n    axios.get(`http://localhost:5000/api/vehicles/${vehicleId}/bookings`)\r\n      .then(response => {\r\n        const formattedBookings = response.data.map(booking => ({\r\n          id: booking.id,\r\n          title: `Gebucht von ${booking.user_name}`,\r\n          start: booking.startzeit,\r\n          end: booking.endzeit,\r\n          backgroundColor: getStatusColor(booking.status),\r\n          extendedProps: {\r\n            zweck: booking.zweck,\r\n            status: booking.status\r\n          }\r\n        }));\r\n        setBookings(formattedBookings);\r\n      })\r\n      .catch(error => console.error('Error:', error));\r\n\r\n    // Überprüfe Bildschirmgröße\r\n    const handleResize = () => setIsMobile(window.innerWidth < 768);\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [vehicleId]);\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Angefragt': return '#fbbf24'; // Gelb\r\n      case 'Bestätigt': return '#34d399'; // Grün\r\n      case 'Abgelehnt': return '#ef4444'; // Rot\r\n      default: return '#94a3b8'; // Grau\r\n    }\r\n  };\r\n\r\n  const handleDateSelect = (selectInfo) => {\r\n    // Hier später: Buchungsdialog öffnen\r\n  };\r\n\r\n  const handleEventClick = (clickInfo) => {\r\n    // Hier später: Buchungsdetails anzeigen\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full\">\r\n      <FullCalendar\r\n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin, listPlugin]}\r\n        initialView={isMobile ? 'listWeek' : 'timeGridWeek'}\r\n        headerToolbar={{\r\n          left: 'prev,next today',\r\n          center: 'title',\r\n          right: isMobile ? 'listWeek,dayGridMonth' : 'timeGridWeek,dayGridMonth'\r\n        }}\r\n        events={bookings}\r\n        selectable={true}\r\n        select={handleDateSelect}\r\n        eventClick={handleEventClick}\r\n        height=\"auto\"\r\n        locale=\"de\"\r\n        firstDay={1}\r\n        allDaySlot={false}\r\n        slotMinTime=\"06:00:00\"\r\n        slotMaxTime=\"22:00:00\"\r\n        slotDuration=\"00:30:00\"\r\n        expandRows={true}\r\n        stickyHeaderDates={true}\r\n        dayMaxEvents={true}\r\n        views={{\r\n          timeGridWeek: {\r\n            titleFormat: { year: 'numeric', month: 'long', day: 'numeric' }\r\n          },\r\n          dayGridMonth: {\r\n            titleFormat: { year: 'numeric', month: 'long' }\r\n          },\r\n          listWeek: {\r\n            titleFormat: { year: 'numeric', month: 'long', day: 'numeric' }\r\n          }\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookingCalendar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}